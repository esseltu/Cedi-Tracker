(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Be(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tM={exports:{}},Qg={},nM={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh=Symbol.for("react.element"),yB=Symbol.for("react.portal"),vB=Symbol.for("react.fragment"),_B=Symbol.for("react.strict_mode"),wB=Symbol.for("react.profiler"),bB=Symbol.for("react.provider"),TB=Symbol.for("react.context"),xB=Symbol.for("react.forward_ref"),EB=Symbol.for("react.suspense"),SB=Symbol.for("react.memo"),AB=Symbol.for("react.lazy"),AA=Symbol.iterator;function IB(t){return t===null||typeof t!="object"?null:(t=AA&&t[AA]||t["@@iterator"],typeof t=="function"?t:null)}var rM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iM=Object.assign,oM={};function Tl(t,e,n){this.props=t,this.context=e,this.refs=oM,this.updater=n||rM}Tl.prototype.isReactComponent={};Tl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Tl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sM(){}sM.prototype=Tl.prototype;function Y1(t,e,n){this.props=t,this.context=e,this.refs=oM,this.updater=n||rM}var X1=Y1.prototype=new sM;X1.constructor=Y1;iM(X1,Tl.prototype);X1.isPureReactComponent=!0;var IA=Array.isArray,aM=Object.prototype.hasOwnProperty,Q1={current:null},uM={key:!0,ref:!0,__self:!0,__source:!0};function lM(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)aM.call(e,r)&&!uM.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Lh,type:t,key:o,ref:s,props:i,_owner:Q1.current}}function PB(t,e){return{$$typeof:Lh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function J1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lh}function OB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var PA=/\/+/g;function o0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OB(""+t.key):e.toString(36)}function vp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Lh:case yB:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+o0(s,0):r,IA(i)?(n="",t!=null&&(n=t.replace(PA,"$&/")+"/"),vp(i,e,n,"",function(l){return l})):i!=null&&(J1(i)&&(i=PB(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(PA,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",IA(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+o0(o,a);s+=vp(o,e,n,u,i)}else if(u=IB(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+o0(o,a++),s+=vp(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Id(t,e,n){if(t==null)return t;var r=[],i=0;return vp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function CB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},_p={transition:null},RB={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:_p,ReactCurrentOwner:Q1};function cM(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Id,forEach:function(t,e,n){Id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Id(t,function(){e++}),e},toArray:function(t){return Id(t,function(e){return e})||[]},only:function(t){if(!J1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Te.Component=Tl;Te.Fragment=vB;Te.Profiler=wB;Te.PureComponent=Y1;Te.StrictMode=_B;Te.Suspense=EB;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RB;Te.act=cM;Te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iM({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Q1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)aM.call(e,u)&&!uM.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Lh,type:t.type,key:i,ref:o,props:r,_owner:s}};Te.createContext=function(t){return t={$$typeof:TB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bB,_context:t},t.Consumer=t};Te.createElement=lM;Te.createFactory=function(t){var e=lM.bind(null,t);return e.type=t,e};Te.createRef=function(){return{current:null}};Te.forwardRef=function(t){return{$$typeof:xB,render:t}};Te.isValidElement=J1;Te.lazy=function(t){return{$$typeof:AB,_payload:{_status:-1,_result:t},_init:CB}};Te.memo=function(t,e){return{$$typeof:SB,type:t,compare:e===void 0?null:e}};Te.startTransition=function(t){var e=_p.transition;_p.transition={};try{t()}finally{_p.transition=e}};Te.unstable_act=cM;Te.useCallback=function(t,e){return _n.current.useCallback(t,e)};Te.useContext=function(t){return _n.current.useContext(t)};Te.useDebugValue=function(){};Te.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};Te.useEffect=function(t,e){return _n.current.useEffect(t,e)};Te.useId=function(){return _n.current.useId()};Te.useImperativeHandle=function(t,e,n){return _n.current.useImperativeHandle(t,e,n)};Te.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};Te.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};Te.useMemo=function(t,e){return _n.current.useMemo(t,e)};Te.useReducer=function(t,e,n){return _n.current.useReducer(t,e,n)};Te.useRef=function(t){return _n.current.useRef(t)};Te.useState=function(t){return _n.current.useState(t)};Te.useSyncExternalStore=function(t,e,n){return _n.current.useSyncExternalStore(t,e,n)};Te.useTransition=function(){return _n.current.useTransition()};Te.version="18.3.1";nM.exports=Te;var j=nM.exports;const N=Be(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kB=j,DB=Symbol.for("react.element"),MB=Symbol.for("react.fragment"),NB=Object.prototype.hasOwnProperty,VB=kB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$B={key:!0,ref:!0,__self:!0,__source:!0};function fM(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)NB.call(e,r)&&!$B.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:DB,type:t,key:o,ref:s,props:i,_owner:VB.current}}Qg.Fragment=MB;Qg.jsx=fM;Qg.jsxs=fM;tM.exports=Qg;var M=tM.exports,j_={},hM={exports:{}},Gn={},dM={exports:{}},pM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var G=L.length;L.push(H);e:for(;0<G;){var ie=G-1>>>1,J=L[ie];if(0<i(J,H))L[ie]=H,L[G]=J,G=ie;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var H=L[0],G=L.pop();if(G!==H){L[0]=G;e:for(var ie=0,J=L.length,he=J>>>1;ie<he;){var Pe=2*(ie+1)-1,dt=L[Pe],ot=Pe+1,bn=L[ot];if(0>i(dt,G))ot<J&&0>i(bn,dt)?(L[ie]=bn,L[ot]=G,ie=ot):(L[ie]=dt,L[Pe]=G,ie=Pe);else if(ot<J&&0>i(bn,G))L[ie]=bn,L[ot]=G,ie=ot;else break e}}return H}function i(L,H){var G=L.sortIndex-H.sortIndex;return G!==0?G:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],l=[],c=1,f=null,d=3,p=!1,g=!1,m=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var H=n(l);H!==null;){if(H.callback===null)r(l);else if(H.startTime<=L)r(l),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(l)}}function P(L){if(m=!1,E(L),!g)if(n(u)!==null)g=!0,K(x);else{var H=n(l);H!==null&&q(P,H.startTime-L)}}function x(L,H){g=!1,m&&(m=!1,y(T),T=-1),p=!0;var G=d;try{for(E(H),f=n(u);f!==null&&(!(f.expirationTime>H)||L&&!k());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,d=f.priorityLevel;var J=ie(f.expirationTime<=H);H=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),E(H)}else r(u);f=n(u)}if(f!==null)var he=!0;else{var Pe=n(l);Pe!==null&&q(P,Pe.startTime-H),he=!1}return he}finally{f=null,d=G,p=!1}}var S=!1,w=null,T=-1,I=5,O=-1;function k(){return!(t.unstable_now()-O<I)}function C(){if(w!==null){var L=t.unstable_now();O=L;var H=!0;try{H=w(!0,L)}finally{H?R():(S=!1,w=null)}}else S=!1}var R;if(typeof _=="function")R=function(){_(C)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,W=U.port2;U.port1.onmessage=C,R=function(){W.postMessage(null)}}else R=function(){b(C,0)};function K(L){w=L,S||(S=!0,R())}function q(L,H){T=b(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,K(x))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(L){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var G=d;d=H;try{return L()}finally{d=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=d;d=L;try{return H()}finally{d=G}},t.unstable_scheduleCallback=function(L,H,G){var ie=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ie+G:ie):G=ie,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=G+J,L={id:c++,callback:H,priorityLevel:L,startTime:G,expirationTime:J,sortIndex:-1},G>ie?(L.sortIndex=G,e(l,L),n(u)===null&&L===n(l)&&(m?(y(T),T=-1):m=!0,q(P,G-ie))):(L.sortIndex=J,e(u,L),g||p||(g=!0,K(x))),L},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(L){var H=d;return function(){var G=d;d=H;try{return L.apply(this,arguments)}finally{d=G}}}})(pM);dM.exports=pM;var jB=dM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LB=j,Wn=jB;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mM=new Set,bf={};function pa(t,e){Ou(t,e),Ou(t+"Capture",e)}function Ou(t,e){for(bf[t]=e,t=0;t<e.length;t++)mM.add(e[t])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),L_=Object.prototype.hasOwnProperty,FB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OA={},CA={};function BB(t){return L_.call(CA,t)?!0:L_.call(OA,t)?!1:FB.test(t)?CA[t]=!0:(OA[t]=!0,!1)}function UB(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zB(t,e,n,r){if(e===null||typeof e>"u"||UB(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new wn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new wn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new wn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new wn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new wn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new wn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new wn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new wn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new wn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Z1=/[\-:]([a-z])/g;function eT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Z1,eT);en[e]=new wn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Z1,eT);en[e]=new wn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Z1,eT);en[e]=new wn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new wn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new wn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new wn(t,1,!1,t.toLowerCase(),null,!0,!0)});function tT(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zB(e,n,i,r)&&(n=null),r||i===null?BB(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bi=LB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pd=Symbol.for("react.element"),qa=Symbol.for("react.portal"),Ga=Symbol.for("react.fragment"),nT=Symbol.for("react.strict_mode"),F_=Symbol.for("react.profiler"),gM=Symbol.for("react.provider"),yM=Symbol.for("react.context"),rT=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),U_=Symbol.for("react.suspense_list"),iT=Symbol.for("react.memo"),ao=Symbol.for("react.lazy"),vM=Symbol.for("react.offscreen"),RA=Symbol.iterator;function sc(t){return t===null||typeof t!="object"?null:(t=RA&&t[RA]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,s0;function kc(t){if(s0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);s0=e&&e[1]||""}return`
`+s0+t}var a0=!1;function u0(t,e){if(!t||a0)return"";a0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{a0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kc(t):""}function WB(t){switch(t.tag){case 5:return kc(t.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return t=u0(t.type,!1),t;case 11:return t=u0(t.type.render,!1),t;case 1:return t=u0(t.type,!0),t;default:return""}}function z_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ga:return"Fragment";case qa:return"Portal";case F_:return"Profiler";case nT:return"StrictMode";case B_:return"Suspense";case U_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yM:return(t.displayName||"Context")+".Consumer";case gM:return(t._context.displayName||"Context")+".Provider";case rT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iT:return e=t.displayName||null,e!==null?e:z_(t.type)||"Memo";case ao:e=t._payload,t=t._init;try{return z_(t(e))}catch{}}return null}function HB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z_(e);case 8:return e===nT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _M(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qB(t){var e=_M(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Od(t){t._valueTracker||(t._valueTracker=qB(t))}function wM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_M(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Qp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function W_(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kA(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bM(t,e){e=e.checked,e!=null&&tT(t,"checked",e,!1)}function H_(t,e){bM(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?q_(t,e.type,n):e.hasOwnProperty("defaultValue")&&q_(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DA(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function q_(t,e,n){(e!=="number"||Qp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Dc=Array.isArray;function du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function G_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function MA(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Q(92));if(Dc(n)){if(1<n.length)throw Error(Q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function TM(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function NA(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cd,EM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cd=Cd||document.createElement("div"),Cd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GB=["Webkit","ms","Moz","O"];Object.keys(qc).forEach(function(t){GB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qc[e]=qc[t]})});function SM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qc.hasOwnProperty(t)&&qc[t]?(""+e).trim():e+"px"}function AM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var KB=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Y_(t,e){if(e){if(KB[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function X_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Q_=null;function oT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var J_=null,pu=null,mu=null;function VA(t){if(t=Uh(t)){if(typeof J_!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=ny(e),J_(t.stateNode,t.type,e))}}function IM(t){pu?mu?mu.push(t):mu=[t]:pu=t}function PM(){if(pu){var t=pu,e=mu;if(mu=pu=null,VA(t),e)for(t=0;t<e.length;t++)VA(e[t])}}function OM(t,e){return t(e)}function CM(){}var l0=!1;function RM(t,e,n){if(l0)return t(e,n);l0=!0;try{return OM(t,e,n)}finally{l0=!1,(pu!==null||mu!==null)&&(CM(),PM())}}function xf(t,e){var n=t.stateNode;if(n===null)return null;var r=ny(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Q(231,e,typeof n));return n}var Z_=!1;if(Oi)try{var ac={};Object.defineProperty(ac,"passive",{get:function(){Z_=!0}}),window.addEventListener("test",ac,ac),window.removeEventListener("test",ac,ac)}catch{Z_=!1}function YB(t,e,n,r,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(c){this.onError(c)}}var Gc=!1,Jp=null,Zp=!1,ew=null,XB={onError:function(t){Gc=!0,Jp=t}};function QB(t,e,n,r,i,o,s,a,u){Gc=!1,Jp=null,YB.apply(XB,arguments)}function JB(t,e,n,r,i,o,s,a,u){if(QB.apply(this,arguments),Gc){if(Gc){var l=Jp;Gc=!1,Jp=null}else throw Error(Q(198));Zp||(Zp=!0,ew=l)}}function ma(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function kM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $A(t){if(ma(t)!==t)throw Error(Q(188))}function ZB(t){var e=t.alternate;if(!e){if(e=ma(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return $A(i),t;if(o===r)return $A(i),e;o=o.sibling}throw Error(Q(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Q(189))}}if(n.alternate!==r)throw Error(Q(190))}if(n.tag!==3)throw Error(Q(188));return n.stateNode.current===n?t:e}function DM(t){return t=ZB(t),t!==null?MM(t):null}function MM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=MM(t);if(e!==null)return e;t=t.sibling}return null}var NM=Wn.unstable_scheduleCallback,jA=Wn.unstable_cancelCallback,e8=Wn.unstable_shouldYield,t8=Wn.unstable_requestPaint,Tt=Wn.unstable_now,n8=Wn.unstable_getCurrentPriorityLevel,sT=Wn.unstable_ImmediatePriority,VM=Wn.unstable_UserBlockingPriority,em=Wn.unstable_NormalPriority,r8=Wn.unstable_LowPriority,$M=Wn.unstable_IdlePriority,Jg=null,Xr=null;function i8(t){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Jg,t,void 0,(t.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:a8,o8=Math.log,s8=Math.LN2;function a8(t){return t>>>=0,t===0?32:31-(o8(t)/s8|0)|0}var Rd=64,kd=4194304;function Mc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Mc(a):(o&=s,o!==0&&(r=Mc(o)))}else s=n&~i,s!==0?r=Mc(s):o!==0&&(r=Mc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Cr(e),i=1<<n,r|=t[n],e&=~i;return r}function u8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function l8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Cr(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=u8(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function tw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jM(){var t=Rd;return Rd<<=1,!(Rd&4194240)&&(Rd=64),t}function c0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Cr(e),t[e]=n}function c8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Cr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function aT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Cr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function LM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FM,uT,BM,UM,zM,nw=!1,Dd=[],wo=null,bo=null,To=null,Ef=new Map,Sf=new Map,co=[],f8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function LA(t,e){switch(t){case"focusin":case"focusout":wo=null;break;case"dragenter":case"dragleave":bo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":Ef.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sf.delete(e.pointerId)}}function uc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Uh(e),e!==null&&uT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function h8(t,e,n,r,i){switch(e){case"focusin":return wo=uc(wo,t,e,n,r,i),!0;case"dragenter":return bo=uc(bo,t,e,n,r,i),!0;case"mouseover":return To=uc(To,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ef.set(o,uc(Ef.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Sf.set(o,uc(Sf.get(o)||null,t,e,n,r,i)),!0}return!1}function WM(t){var e=Ps(t.target);if(e!==null){var n=ma(e);if(n!==null){if(e=n.tag,e===13){if(e=kM(n),e!==null){t.blockedOn=e,zM(t.priority,function(){BM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Q_=r,n.target.dispatchEvent(r),Q_=null}else return e=Uh(n),e!==null&&uT(e),t.blockedOn=n,!1;e.shift()}return!0}function FA(t,e,n){wp(t)&&n.delete(e)}function d8(){nw=!1,wo!==null&&wp(wo)&&(wo=null),bo!==null&&wp(bo)&&(bo=null),To!==null&&wp(To)&&(To=null),Ef.forEach(FA),Sf.forEach(FA)}function lc(t,e){t.blockedOn===e&&(t.blockedOn=null,nw||(nw=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,d8)))}function Af(t){function e(i){return lc(i,t)}if(0<Dd.length){lc(Dd[0],t);for(var n=1;n<Dd.length;n++){var r=Dd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(wo!==null&&lc(wo,t),bo!==null&&lc(bo,t),To!==null&&lc(To,t),Ef.forEach(e),Sf.forEach(e),n=0;n<co.length;n++)r=co[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<co.length&&(n=co[0],n.blockedOn===null);)WM(n),n.blockedOn===null&&co.shift()}var gu=Bi.ReactCurrentBatchConfig,nm=!0;function p8(t,e,n,r){var i=$e,o=gu.transition;gu.transition=null;try{$e=1,lT(t,e,n,r)}finally{$e=i,gu.transition=o}}function m8(t,e,n,r){var i=$e,o=gu.transition;gu.transition=null;try{$e=4,lT(t,e,n,r)}finally{$e=i,gu.transition=o}}function lT(t,e,n,r){if(nm){var i=rw(t,e,n,r);if(i===null)w0(t,e,r,rm,n),LA(t,r);else if(h8(i,t,e,n,r))r.stopPropagation();else if(LA(t,r),e&4&&-1<f8.indexOf(t)){for(;i!==null;){var o=Uh(i);if(o!==null&&FM(o),o=rw(t,e,n,r),o===null&&w0(t,e,r,rm,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else w0(t,e,r,null,n)}}var rm=null;function rw(t,e,n,r){if(rm=null,t=oT(r),t=Ps(t),t!==null)if(e=ma(t),e===null)t=null;else if(n=e.tag,n===13){if(t=kM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rm=t,null}function HM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n8()){case sT:return 1;case VM:return 4;case em:case r8:return 16;case $M:return 536870912;default:return 16}default:return 16}}var yo=null,cT=null,bp=null;function qM(){if(bp)return bp;var t,e=cT,n=e.length,r,i="value"in yo?yo.value:yo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return bp=i.slice(t,1<r?1-r:void 0)}function Tp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Md(){return!0}function BA(){return!1}function Kn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Md:BA,this.isPropagationStopped=BA,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Md)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Md)},persist:function(){},isPersistent:Md}),e}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fT=Kn(xl),Bh=ht({},xl,{view:0,detail:0}),g8=Kn(Bh),f0,h0,cc,Zg=ht({},Bh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cc&&(cc&&t.type==="mousemove"?(f0=t.screenX-cc.screenX,h0=t.screenY-cc.screenY):h0=f0=0,cc=t),f0)},movementY:function(t){return"movementY"in t?t.movementY:h0}}),UA=Kn(Zg),y8=ht({},Zg,{dataTransfer:0}),v8=Kn(y8),_8=ht({},Bh,{relatedTarget:0}),d0=Kn(_8),w8=ht({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),b8=Kn(w8),T8=ht({},xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x8=Kn(T8),E8=ht({},xl,{data:0}),zA=Kn(E8),S8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I8[t])?!!e[t]:!1}function hT(){return P8}var O8=ht({},Bh,{key:function(t){if(t.key){var e=S8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hT,charCode:function(t){return t.type==="keypress"?Tp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C8=Kn(O8),R8=ht({},Zg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WA=Kn(R8),k8=ht({},Bh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hT}),D8=Kn(k8),M8=ht({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),N8=Kn(M8),V8=ht({},Zg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$8=Kn(V8),j8=[9,13,27,32],dT=Oi&&"CompositionEvent"in window,Kc=null;Oi&&"documentMode"in document&&(Kc=document.documentMode);var L8=Oi&&"TextEvent"in window&&!Kc,GM=Oi&&(!dT||Kc&&8<Kc&&11>=Kc),HA=" ",qA=!1;function KM(t,e){switch(t){case"keyup":return j8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function F8(t,e){switch(t){case"compositionend":return YM(e);case"keypress":return e.which!==32?null:(qA=!0,HA);case"textInput":return t=e.data,t===HA&&qA?null:t;default:return null}}function B8(t,e){if(Ka)return t==="compositionend"||!dT&&KM(t,e)?(t=qM(),bp=cT=yo=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GM&&e.locale!=="ko"?null:e.data;default:return null}}var U8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U8[t.type]:e==="textarea"}function XM(t,e,n,r){IM(r),e=im(e,"onChange"),0<e.length&&(n=new fT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yc=null,If=null;function z8(t){aN(t,0)}function ey(t){var e=Qa(t);if(wM(e))return t}function W8(t,e){if(t==="change")return e}var QM=!1;if(Oi){var p0;if(Oi){var m0="oninput"in document;if(!m0){var KA=document.createElement("div");KA.setAttribute("oninput","return;"),m0=typeof KA.oninput=="function"}p0=m0}else p0=!1;QM=p0&&(!document.documentMode||9<document.documentMode)}function YA(){Yc&&(Yc.detachEvent("onpropertychange",JM),If=Yc=null)}function JM(t){if(t.propertyName==="value"&&ey(If)){var e=[];XM(e,If,t,oT(t)),RM(z8,e)}}function H8(t,e,n){t==="focusin"?(YA(),Yc=e,If=n,Yc.attachEvent("onpropertychange",JM)):t==="focusout"&&YA()}function q8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ey(If)}function G8(t,e){if(t==="click")return ey(e)}function K8(t,e){if(t==="input"||t==="change")return ey(e)}function Y8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nr=typeof Object.is=="function"?Object.is:Y8;function Pf(t,e){if(Nr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!L_.call(e,i)||!Nr(t[i],e[i]))return!1}return!0}function XA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QA(t,e){var n=XA(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=XA(n)}}function ZM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ZM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eN(){for(var t=window,e=Qp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Qp(t.document)}return e}function pT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X8(t){var e=eN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ZM(n.ownerDocument.documentElement,n)){if(r!==null&&pT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=QA(n,o);var s=QA(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Q8=Oi&&"documentMode"in document&&11>=document.documentMode,Ya=null,iw=null,Xc=null,ow=!1;function JA(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ow||Ya==null||Ya!==Qp(r)||(r=Ya,"selectionStart"in r&&pT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xc&&Pf(Xc,r)||(Xc=r,r=im(iw,"onSelect"),0<r.length&&(e=new fT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ya)))}function Nd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xa={animationend:Nd("Animation","AnimationEnd"),animationiteration:Nd("Animation","AnimationIteration"),animationstart:Nd("Animation","AnimationStart"),transitionend:Nd("Transition","TransitionEnd")},g0={},tN={};Oi&&(tN=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function ty(t){if(g0[t])return g0[t];if(!Xa[t])return t;var e=Xa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tN)return g0[t]=e[n];return t}var nN=ty("animationend"),rN=ty("animationiteration"),iN=ty("animationstart"),oN=ty("transitionend"),sN=new Map,ZA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(t,e){sN.set(t,e),pa(e,[t])}for(var y0=0;y0<ZA.length;y0++){var v0=ZA[y0],J8=v0.toLowerCase(),Z8=v0[0].toUpperCase()+v0.slice(1);Ho(J8,"on"+Z8)}Ho(nN,"onAnimationEnd");Ho(rN,"onAnimationIteration");Ho(iN,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(oN,"onTransitionEnd");Ou("onMouseEnter",["mouseout","mouseover"]);Ou("onMouseLeave",["mouseout","mouseover"]);Ou("onPointerEnter",["pointerout","pointerover"]);Ou("onPointerLeave",["pointerout","pointerover"]);pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pa("onBeforeInput",["compositionend","keypress","textInput","paste"]);pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e9=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nc));function eI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JB(r,e,void 0,t),t.currentTarget=null}function aN(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;eI(i,a,l),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;eI(i,a,l),o=u}}}if(Zp)throw t=ew,Zp=!1,ew=null,t}function Xe(t,e){var n=e[cw];n===void 0&&(n=e[cw]=new Set);var r=t+"__bubble";n.has(r)||(uN(e,t,2,!1),n.add(r))}function _0(t,e,n){var r=0;e&&(r|=4),uN(n,t,r,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function Of(t){if(!t[Vd]){t[Vd]=!0,mM.forEach(function(n){n!=="selectionchange"&&(e9.has(n)||_0(n,!1,t),_0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,_0("selectionchange",!1,e))}}function uN(t,e,n,r){switch(HM(e)){case 1:var i=p8;break;case 4:i=m8;break;default:i=lT}n=i.bind(null,e,n,t),i=void 0,!Z_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function w0(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ps(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}RM(function(){var l=o,c=oT(n),f=[];e:{var d=sN.get(t);if(d!==void 0){var p=fT,g=t;switch(t){case"keypress":if(Tp(n)===0)break e;case"keydown":case"keyup":p=C8;break;case"focusin":g="focus",p=d0;break;case"focusout":g="blur",p=d0;break;case"beforeblur":case"afterblur":p=d0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=UA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=v8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=D8;break;case nN:case rN:case iN:p=b8;break;case oN:p=N8;break;case"scroll":p=g8;break;case"wheel":p=$8;break;case"copy":case"cut":case"paste":p=x8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=WA}var m=(e&4)!==0,b=!m&&t==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var _=l,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,y!==null&&(P=xf(_,y),P!=null&&m.push(Cf(_,P,E)))),b)break;_=_.return}0<m.length&&(d=new p(d,g,null,n,c),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Q_&&(g=n.relatedTarget||n.fromElement)&&(Ps(g)||g[Ci]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=l,g=g?Ps(g):null,g!==null&&(b=ma(g),g!==b||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=l),p!==g)){if(m=UA,P="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(m=WA,P="onPointerLeave",y="onPointerEnter",_="pointer"),b=p==null?d:Qa(p),E=g==null?d:Qa(g),d=new m(P,_+"leave",p,n,c),d.target=b,d.relatedTarget=E,P=null,Ps(c)===l&&(m=new m(y,_+"enter",g,n,c),m.target=E,m.relatedTarget=b,P=m),b=P,p&&g)t:{for(m=p,y=g,_=0,E=m;E;E=Ca(E))_++;for(E=0,P=y;P;P=Ca(P))E++;for(;0<_-E;)m=Ca(m),_--;for(;0<E-_;)y=Ca(y),E--;for(;_--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ca(m),y=Ca(y)}m=null}else m=null;p!==null&&tI(f,d,p,m,!1),g!==null&&b!==null&&tI(f,b,g,m,!0)}}e:{if(d=l?Qa(l):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=W8;else if(GA(d))if(QM)x=K8;else{x=q8;var S=H8}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=G8);if(x&&(x=x(t,l))){XM(f,x,n,c);break e}S&&S(t,d,l),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&q_(d,"number",d.value)}switch(S=l?Qa(l):window,t){case"focusin":(GA(S)||S.contentEditable==="true")&&(Ya=S,iw=l,Xc=null);break;case"focusout":Xc=iw=Ya=null;break;case"mousedown":ow=!0;break;case"contextmenu":case"mouseup":case"dragend":ow=!1,JA(f,n,c);break;case"selectionchange":if(Q8)break;case"keydown":case"keyup":JA(f,n,c)}var w;if(dT)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Ka?KM(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(GM&&n.locale!=="ko"&&(Ka||T!=="onCompositionStart"?T==="onCompositionEnd"&&Ka&&(w=qM()):(yo=c,cT="value"in yo?yo.value:yo.textContent,Ka=!0)),S=im(l,T),0<S.length&&(T=new zA(T,t,null,n,c),f.push({event:T,listeners:S}),w?T.data=w:(w=YM(n),w!==null&&(T.data=w)))),(w=L8?F8(t,n):B8(t,n))&&(l=im(l,"onBeforeInput"),0<l.length&&(c=new zA("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:l}),c.data=w))}aN(f,e)})}function Cf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function im(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xf(t,n),o!=null&&r.unshift(Cf(t,o,i)),o=xf(t,e),o!=null&&r.push(Cf(t,o,i))),t=t.return}return r}function Ca(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tI(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&l!==null&&(a=l,i?(u=xf(n,o),u!=null&&s.unshift(Cf(n,u,a))):i||(u=xf(n,o),u!=null&&s.push(Cf(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var t9=/\r\n?/g,n9=/\u0000|\uFFFD/g;function nI(t){return(typeof t=="string"?t:""+t).replace(t9,`
`).replace(n9,"")}function $d(t,e,n){if(e=nI(e),nI(t)!==e&&n)throw Error(Q(425))}function om(){}var sw=null,aw=null;function uw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lw=typeof setTimeout=="function"?setTimeout:void 0,r9=typeof clearTimeout=="function"?clearTimeout:void 0,rI=typeof Promise=="function"?Promise:void 0,i9=typeof queueMicrotask=="function"?queueMicrotask:typeof rI<"u"?function(t){return rI.resolve(null).then(t).catch(o9)}:lw;function o9(t){setTimeout(function(){throw t})}function b0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Af(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Af(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var El=Math.random().toString(36).slice(2),qr="__reactFiber$"+El,Rf="__reactProps$"+El,Ci="__reactContainer$"+El,cw="__reactEvents$"+El,s9="__reactListeners$"+El,a9="__reactHandles$"+El;function Ps(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[qr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iI(t);t!==null;){if(n=t[qr])return n;t=iI(t)}return e}t=n,n=t.parentNode}return null}function Uh(t){return t=t[qr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function ny(t){return t[Rf]||null}var fw=[],Ja=-1;function qo(t){return{current:t}}function Ze(t){0>Ja||(t.current=fw[Ja],fw[Ja]=null,Ja--)}function Ge(t,e){Ja++,fw[Ja]=t.current,t.current=e}var Vo={},fn=qo(Vo),Pn=qo(!1),Xs=Vo;function Cu(t,e){var n=t.type.contextTypes;if(!n)return Vo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function On(t){return t=t.childContextTypes,t!=null}function sm(){Ze(Pn),Ze(fn)}function oI(t,e,n){if(fn.current!==Vo)throw Error(Q(168));Ge(fn,e),Ge(Pn,n)}function lN(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Q(108,HB(t)||"Unknown",i));return ht({},n,r)}function am(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vo,Xs=fn.current,Ge(fn,t),Ge(Pn,Pn.current),!0}function sI(t,e,n){var r=t.stateNode;if(!r)throw Error(Q(169));n?(t=lN(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,Ze(Pn),Ze(fn),Ge(fn,t)):Ze(Pn),Ge(Pn,n)}var pi=null,ry=!1,T0=!1;function cN(t){pi===null?pi=[t]:pi.push(t)}function u9(t){ry=!0,cN(t)}function Go(){if(!T0&&pi!==null){T0=!0;var t=0,e=$e;try{var n=pi;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pi=null,ry=!1}catch(i){throw pi!==null&&(pi=pi.slice(t+1)),NM(sT,Go),i}finally{$e=e,T0=!1}}return null}var Za=[],eu=0,um=null,lm=0,nr=[],rr=0,Qs=null,gi=1,yi="";function hs(t,e){Za[eu++]=lm,Za[eu++]=um,um=t,lm=e}function fN(t,e,n){nr[rr++]=gi,nr[rr++]=yi,nr[rr++]=Qs,Qs=t;var r=gi;t=yi;var i=32-Cr(r)-1;r&=~(1<<i),n+=1;var o=32-Cr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,gi=1<<32-Cr(e)+i|n<<i|r,yi=o+t}else gi=1<<o|n<<i|r,yi=t}function mT(t){t.return!==null&&(hs(t,1),fN(t,1,0))}function gT(t){for(;t===um;)um=Za[--eu],Za[eu]=null,lm=Za[--eu],Za[eu]=null;for(;t===Qs;)Qs=nr[--rr],nr[rr]=null,yi=nr[--rr],nr[rr]=null,gi=nr[--rr],nr[rr]=null}var Fn=null,jn=null,nt=!1,Ar=null;function hN(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function aI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,jn=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Qs!==null?{id:gi,overflow:yi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,jn=null,!0):!1;default:return!1}}function hw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dw(t){if(nt){var e=jn;if(e){var n=e;if(!aI(t,e)){if(hw(t))throw Error(Q(418));e=xo(n.nextSibling);var r=Fn;e&&aI(t,e)?hN(r,n):(t.flags=t.flags&-4097|2,nt=!1,Fn=t)}}else{if(hw(t))throw Error(Q(418));t.flags=t.flags&-4097|2,nt=!1,Fn=t}}}function uI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function jd(t){if(t!==Fn)return!1;if(!nt)return uI(t),nt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uw(t.type,t.memoizedProps)),e&&(e=jn)){if(hw(t))throw dN(),Error(Q(418));for(;e;)hN(t,e),e=xo(e.nextSibling)}if(uI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=xo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Fn?xo(t.stateNode.nextSibling):null;return!0}function dN(){for(var t=jn;t;)t=xo(t.nextSibling)}function Ru(){jn=Fn=null,nt=!1}function yT(t){Ar===null?Ar=[t]:Ar.push(t)}var l9=Bi.ReactCurrentBatchConfig;function fc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Q(309));var r=n.stateNode}if(!r)throw Error(Q(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(Q(284));if(!n._owner)throw Error(Q(290,t))}return t}function Ld(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lI(t){var e=t._init;return e(t._payload)}function pN(t){function e(y,_){if(t){var E=y.deletions;E===null?(y.deletions=[_],y.flags|=16):E.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=Io(y,_),y.index=0,y.sibling=null,y}function o(y,_,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<_?(y.flags|=2,_):E):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,E,P){return _===null||_.tag!==6?(_=O0(E,y.mode,P),_.return=y,_):(_=i(_,E),_.return=y,_)}function u(y,_,E,P){var x=E.type;return x===Ga?c(y,_,E.props.children,P,E.key):_!==null&&(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ao&&lI(x)===_.type)?(P=i(_,E.props),P.ref=fc(y,_,E),P.return=y,P):(P=Op(E.type,E.key,E.props,null,y.mode,P),P.ref=fc(y,_,E),P.return=y,P)}function l(y,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=C0(E,y.mode,P),_.return=y,_):(_=i(_,E.children||[]),_.return=y,_)}function c(y,_,E,P,x){return _===null||_.tag!==7?(_=Ls(E,y.mode,P,x),_.return=y,_):(_=i(_,E),_.return=y,_)}function f(y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=O0(""+_,y.mode,E),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Pd:return E=Op(_.type,_.key,_.props,null,y.mode,E),E.ref=fc(y,null,_),E.return=y,E;case qa:return _=C0(_,y.mode,E),_.return=y,_;case ao:var P=_._init;return f(y,P(_._payload),E)}if(Dc(_)||sc(_))return _=Ls(_,y.mode,E,null),_.return=y,_;Ld(y,_)}return null}function d(y,_,E,P){var x=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return x!==null?null:a(y,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:return E.key===x?u(y,_,E,P):null;case qa:return E.key===x?l(y,_,E,P):null;case ao:return x=E._init,d(y,_,x(E._payload),P)}if(Dc(E)||sc(E))return x!==null?null:c(y,_,E,P,null);Ld(y,E)}return null}function p(y,_,E,P,x){if(typeof P=="string"&&P!==""||typeof P=="number")return y=y.get(E)||null,a(_,y,""+P,x);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Pd:return y=y.get(P.key===null?E:P.key)||null,u(_,y,P,x);case qa:return y=y.get(P.key===null?E:P.key)||null,l(_,y,P,x);case ao:var S=P._init;return p(y,_,E,S(P._payload),x)}if(Dc(P)||sc(P))return y=y.get(E)||null,c(_,y,P,x,null);Ld(_,P)}return null}function g(y,_,E,P){for(var x=null,S=null,w=_,T=_=0,I=null;w!==null&&T<E.length;T++){w.index>T?(I=w,w=null):I=w.sibling;var O=d(y,w,E[T],P);if(O===null){w===null&&(w=I);break}t&&w&&O.alternate===null&&e(y,w),_=o(O,_,T),S===null?x=O:S.sibling=O,S=O,w=I}if(T===E.length)return n(y,w),nt&&hs(y,T),x;if(w===null){for(;T<E.length;T++)w=f(y,E[T],P),w!==null&&(_=o(w,_,T),S===null?x=w:S.sibling=w,S=w);return nt&&hs(y,T),x}for(w=r(y,w);T<E.length;T++)I=p(w,y,T,E[T],P),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?T:I.key),_=o(I,_,T),S===null?x=I:S.sibling=I,S=I);return t&&w.forEach(function(k){return e(y,k)}),nt&&hs(y,T),x}function m(y,_,E,P){var x=sc(E);if(typeof x!="function")throw Error(Q(150));if(E=x.call(E),E==null)throw Error(Q(151));for(var S=x=null,w=_,T=_=0,I=null,O=E.next();w!==null&&!O.done;T++,O=E.next()){w.index>T?(I=w,w=null):I=w.sibling;var k=d(y,w,O.value,P);if(k===null){w===null&&(w=I);break}t&&w&&k.alternate===null&&e(y,w),_=o(k,_,T),S===null?x=k:S.sibling=k,S=k,w=I}if(O.done)return n(y,w),nt&&hs(y,T),x;if(w===null){for(;!O.done;T++,O=E.next())O=f(y,O.value,P),O!==null&&(_=o(O,_,T),S===null?x=O:S.sibling=O,S=O);return nt&&hs(y,T),x}for(w=r(y,w);!O.done;T++,O=E.next())O=p(w,y,T,O.value,P),O!==null&&(t&&O.alternate!==null&&w.delete(O.key===null?T:O.key),_=o(O,_,T),S===null?x=O:S.sibling=O,S=O);return t&&w.forEach(function(C){return e(y,C)}),nt&&hs(y,T),x}function b(y,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Ga&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Pd:e:{for(var x=E.key,S=_;S!==null;){if(S.key===x){if(x=E.type,x===Ga){if(S.tag===7){n(y,S.sibling),_=i(S,E.props.children),_.return=y,y=_;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ao&&lI(x)===S.type){n(y,S.sibling),_=i(S,E.props),_.ref=fc(y,S,E),_.return=y,y=_;break e}n(y,S);break}else e(y,S);S=S.sibling}E.type===Ga?(_=Ls(E.props.children,y.mode,P,E.key),_.return=y,y=_):(P=Op(E.type,E.key,E.props,null,y.mode,P),P.ref=fc(y,_,E),P.return=y,y=P)}return s(y);case qa:e:{for(S=E.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(y,_.sibling),_=i(_,E.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=C0(E,y.mode,P),_.return=y,y=_}return s(y);case ao:return S=E._init,b(y,_,S(E._payload),P)}if(Dc(E))return g(y,_,E,P);if(sc(E))return m(y,_,E,P);Ld(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,E),_.return=y,y=_):(n(y,_),_=O0(E,y.mode,P),_.return=y,y=_),s(y)):n(y,_)}return b}var ku=pN(!0),mN=pN(!1),cm=qo(null),fm=null,tu=null,vT=null;function _T(){vT=tu=fm=null}function wT(t){var e=cm.current;Ze(cm),t._currentValue=e}function pw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yu(t,e){fm=t,vT=tu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function pr(t){var e=t._currentValue;if(vT!==t)if(t={context:t,memoizedValue:e,next:null},tu===null){if(fm===null)throw Error(Q(308));tu=t,fm.dependencies={lanes:0,firstContext:t}}else tu=tu.next=t;return e}var Os=null;function bT(t){Os===null?Os=[t]:Os.push(t)}function gN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,bT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ri(t,r)}function Ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var uo=!1;function TT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ri(t,n)}return i=r.interleaved,i===null?(e.next=e,bT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ri(t,n)}function xp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aT(t,n)}}function cI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hm(t,e,n,r){var i=t.updateQueue;uo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,c=l=u=null,a=o;do{var d=a.lane,p=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,m=a;switch(d=e,p=n,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(p,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,d=typeof g=="function"?g.call(p,f,d):g,d==null)break e;f=ht({},f,d);break e;case 2:uo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zs|=s,t.lanes=s,t.memoizedState=f}}function fI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Q(191,i));i.call(r)}}}var zh={},Qr=qo(zh),kf=qo(zh),Df=qo(zh);function Cs(t){if(t===zh)throw Error(Q(174));return t}function xT(t,e){switch(Ge(Df,e),Ge(kf,t),Ge(Qr,zh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K_(e,t)}Ze(Qr),Ge(Qr,e)}function Du(){Ze(Qr),Ze(kf),Ze(Df)}function vN(t){Cs(Df.current);var e=Cs(Qr.current),n=K_(e,t.type);e!==n&&(Ge(kf,t),Ge(Qr,n))}function ET(t){kf.current===t&&(Ze(Qr),Ze(kf))}var ut=qo(0);function dm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var x0=[];function ST(){for(var t=0;t<x0.length;t++)x0[t]._workInProgressVersionPrimary=null;x0.length=0}var Ep=Bi.ReactCurrentDispatcher,E0=Bi.ReactCurrentBatchConfig,Js=0,ft=null,Rt=null,zt=null,pm=!1,Qc=!1,Mf=0,c9=0;function nn(){throw Error(Q(321))}function AT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nr(t[n],e[n]))return!1;return!0}function IT(t,e,n,r,i,o){if(Js=o,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ep.current=t===null||t.memoizedState===null?p9:m9,t=n(r,i),Qc){o=0;do{if(Qc=!1,Mf=0,25<=o)throw Error(Q(301));o+=1,zt=Rt=null,e.updateQueue=null,Ep.current=g9,t=n(r,i)}while(Qc)}if(Ep.current=mm,e=Rt!==null&&Rt.next!==null,Js=0,zt=Rt=ft=null,pm=!1,e)throw Error(Q(300));return t}function PT(){var t=Mf!==0;return Mf=0,t}function zr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ft.memoizedState=zt=t:zt=zt.next=t,zt}function mr(){if(Rt===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=zt===null?ft.memoizedState:zt.next;if(e!==null)zt=e,Rt=t;else{if(t===null)throw Error(Q(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},zt===null?ft.memoizedState=zt=t:zt=zt.next=t}return zt}function Nf(t,e){return typeof e=="function"?e(t):e}function S0(t){var e=mr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,l=o;do{var c=l.lane;if((Js&c)===c)u!==null&&(u=u.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var f={lane:c,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,ft.lanes|=c,Zs|=c}l=l.next}while(l!==null&&l!==o);u===null?s=r:u.next=a,Nr(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ft.lanes|=o,Zs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function A0(t){var e=mr(),n=e.queue;if(n===null)throw Error(Q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Nr(o,e.memoizedState)||(En=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function _N(){}function wN(t,e){var n=ft,r=mr(),i=e(),o=!Nr(r.memoizedState,i);if(o&&(r.memoizedState=i,En=!0),r=r.queue,OT(xN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Vf(9,TN.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(Q(349));Js&30||bN(n,e,i)}return i}function bN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TN(t,e,n,r){e.value=n,e.getSnapshot=r,EN(e)&&SN(t)}function xN(t,e,n){return n(function(){EN(e)&&SN(t)})}function EN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nr(t,n)}catch{return!0}}function SN(t){var e=Ri(t,1);e!==null&&Rr(e,t,1,-1)}function hI(t){var e=zr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:t},e.queue=t,t=t.dispatch=d9.bind(null,ft,t),[e.memoizedState,t]}function Vf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AN(){return mr().memoizedState}function Sp(t,e,n,r){var i=zr();ft.flags|=t,i.memoizedState=Vf(1|e,n,void 0,r===void 0?null:r)}function iy(t,e,n,r){var i=mr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var s=Rt.memoizedState;if(o=s.destroy,r!==null&&AT(r,s.deps)){i.memoizedState=Vf(e,n,o,r);return}}ft.flags|=t,i.memoizedState=Vf(1|e,n,o,r)}function dI(t,e){return Sp(8390656,8,t,e)}function OT(t,e){return iy(2048,8,t,e)}function IN(t,e){return iy(4,2,t,e)}function PN(t,e){return iy(4,4,t,e)}function ON(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CN(t,e,n){return n=n!=null?n.concat([t]):null,iy(4,4,ON.bind(null,e,t),n)}function CT(){}function RN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function kN(t,e){var n=mr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&AT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function DN(t,e,n){return Js&21?(Nr(n,e)||(n=jM(),ft.lanes|=n,Zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function f9(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=E0.transition;E0.transition={};try{t(!1),e()}finally{$e=n,E0.transition=r}}function MN(){return mr().memoizedState}function h9(t,e,n){var r=Ao(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},NN(t))VN(e,n);else if(n=gN(t,e,n,r),n!==null){var i=gn();Rr(n,t,r,i),$N(n,e,r)}}function d9(t,e,n){var r=Ao(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(NN(t))VN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Nr(a,s)){var u=e.interleaved;u===null?(i.next=i,bT(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=gN(t,e,i,r),n!==null&&(i=gn(),Rr(n,t,r,i),$N(n,e,r))}}function NN(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function VN(t,e){Qc=pm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $N(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,aT(t,n)}}var mm={readContext:pr,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},p9={readContext:pr,useCallback:function(t,e){return zr().memoizedState=[t,e===void 0?null:e],t},useContext:pr,useEffect:dI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sp(4194308,4,ON.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sp(4,2,t,e)},useMemo:function(t,e){var n=zr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=zr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h9.bind(null,ft,t),[r.memoizedState,t]},useRef:function(t){var e=zr();return t={current:t},e.memoizedState=t},useState:hI,useDebugValue:CT,useDeferredValue:function(t){return zr().memoizedState=t},useTransition:function(){var t=hI(!1),e=t[0];return t=f9.bind(null,t[1]),zr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ft,i=zr();if(nt){if(n===void 0)throw Error(Q(407));n=n()}else{if(n=e(),Wt===null)throw Error(Q(349));Js&30||bN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,dI(xN.bind(null,r,o,t),[t]),r.flags|=2048,Vf(9,TN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=zr(),e=Wt.identifierPrefix;if(nt){var n=yi,r=gi;n=(r&~(1<<32-Cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=c9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},m9={readContext:pr,useCallback:RN,useContext:pr,useEffect:OT,useImperativeHandle:CN,useInsertionEffect:IN,useLayoutEffect:PN,useMemo:kN,useReducer:S0,useRef:AN,useState:function(){return S0(Nf)},useDebugValue:CT,useDeferredValue:function(t){var e=mr();return DN(e,Rt.memoizedState,t)},useTransition:function(){var t=S0(Nf)[0],e=mr().memoizedState;return[t,e]},useMutableSource:_N,useSyncExternalStore:wN,useId:MN,unstable_isNewReconciler:!1},g9={readContext:pr,useCallback:RN,useContext:pr,useEffect:OT,useImperativeHandle:CN,useInsertionEffect:IN,useLayoutEffect:PN,useMemo:kN,useReducer:A0,useRef:AN,useState:function(){return A0(Nf)},useDebugValue:CT,useDeferredValue:function(t){var e=mr();return Rt===null?e.memoizedState=t:DN(e,Rt.memoizedState,t)},useTransition:function(){var t=A0(Nf)[0],e=mr().memoizedState;return[t,e]},useMutableSource:_N,useSyncExternalStore:wN,useId:MN,unstable_isNewReconciler:!1};function xr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oy={isMounted:function(t){return(t=t._reactInternals)?ma(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ao(t),o=xi(r,i);o.payload=e,n!=null&&(o.callback=n),e=Eo(t,o,i),e!==null&&(Rr(e,t,i,r),xp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gn(),i=Ao(t),o=xi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Eo(t,o,i),e!==null&&(Rr(e,t,i,r),xp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gn(),r=Ao(t),i=xi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Eo(t,i,r),e!==null&&(Rr(e,t,r,n),xp(e,t,r))}};function pI(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Pf(n,r)||!Pf(i,o):!0}function jN(t,e,n){var r=!1,i=Vo,o=e.contextType;return typeof o=="object"&&o!==null?o=pr(o):(i=On(e)?Xs:fn.current,r=e.contextTypes,o=(r=r!=null)?Cu(t,i):Vo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function mI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oy.enqueueReplaceState(e,e.state,null)}function gw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},TT(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=pr(o):(o=On(e)?Xs:fn.current,i.context=Cu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mw(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&oy.enqueueReplaceState(i,i.state,null),hm(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Mu(t,e){try{var n="",r=e;do n+=WB(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function I0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var y9=typeof WeakMap=="function"?WeakMap:Map;function LN(t,e,n){n=xi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ym||(ym=!0,Iw=r),yw(t,e)},n}function FN(t,e,n){n=xi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yw(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yw(t,e),typeof r!="function"&&(So===null?So=new Set([this]):So.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function gI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new y9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=R9.bind(null,t,e,n),e.then(t,t))}function yI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=xi(-1,1),e.tag=2,Eo(n,e,1))),n.lanes|=1),t)}var v9=Bi.ReactCurrentOwner,En=!1;function dn(t,e,n,r){e.child=t===null?mN(e,null,n,r):ku(e,t.child,n,r)}function _I(t,e,n,r,i){n=n.render;var o=e.ref;return yu(e,i),r=IT(t,e,n,r,o,i),n=PT(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(nt&&n&&mT(e),e.flags|=1,dn(t,e,r,i),e.child)}function wI(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!jT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,BN(t,e,o,r,i)):(t=Op(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Pf,n(s,r)&&t.ref===e.ref)return ki(t,e,i)}return e.flags|=1,t=Io(o,r),t.ref=e.ref,t.return=e,e.child=t}function BN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Pf(o,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,ki(t,e,i)}return vw(t,e,n,r,i)}function UN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(ru,Mn),Mn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ge(ru,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ge(ru,Mn),Mn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ge(ru,Mn),Mn|=r;return dn(t,e,i,n),e.child}function zN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function vw(t,e,n,r,i){var o=On(n)?Xs:fn.current;return o=Cu(e,o),yu(e,i),n=IT(t,e,n,r,o,i),r=PT(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ki(t,e,i)):(nt&&r&&mT(e),e.flags|=1,dn(t,e,n,i),e.child)}function bI(t,e,n,r,i){if(On(n)){var o=!0;am(e)}else o=!1;if(yu(e,i),e.stateNode===null)Ap(t,e),jN(e,n,r),gw(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=pr(l):(l=On(n)?Xs:fn.current,l=Cu(e,l));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==l)&&mI(e,s,r,l),uo=!1;var d=e.memoizedState;s.state=d,hm(e,r,s,i),u=e.memoizedState,a!==r||d!==u||Pn.current||uo?(typeof c=="function"&&(mw(e,n,c,r),u=e.memoizedState),(a=uo||pI(e,n,a,r,d,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,yN(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:xr(e.type,a),s.props=l,f=e.pendingProps,d=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=pr(u):(u=On(n)?Xs:fn.current,u=Cu(e,u));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==u)&&mI(e,s,r,u),uo=!1,d=e.memoizedState,s.state=d,hm(e,r,s,i);var g=e.memoizedState;a!==f||d!==g||Pn.current||uo?(typeof p=="function"&&(mw(e,n,p,r),g=e.memoizedState),(l=uo||pI(e,n,l,r,d,g,u)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=u,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return _w(t,e,n,r,o,i)}function _w(t,e,n,r,i,o){zN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&sI(e,n,!1),ki(t,e,o);r=e.stateNode,v9.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ku(e,t.child,null,o),e.child=ku(e,null,a,o)):dn(t,e,a,o),e.memoizedState=r.state,i&&sI(e,n,!0),e.child}function WN(t){var e=t.stateNode;e.pendingContext?oI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oI(t,e.context,!1),xT(t,e.containerInfo)}function TI(t,e,n,r,i){return Ru(),yT(i),e.flags|=256,dn(t,e,n,r),e.child}var ww={dehydrated:null,treeContext:null,retryLane:0};function bw(t){return{baseLanes:t,cachePool:null,transitions:null}}function HN(t,e,n){var r=e.pendingProps,i=ut.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ge(ut,i&1),t===null)return dw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=uy(s,r,0,null),t=Ls(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=bw(n),e.memoizedState=ww,t):RT(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _9(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Io(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Io(a,o):(o=Ls(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?bw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ww,r}return o=t.child,t=o.sibling,r=Io(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function RT(t,e){return e=uy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fd(t,e,n,r){return r!==null&&yT(r),ku(e,t.child,null,n),t=RT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _9(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=I0(Error(Q(422))),Fd(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=uy({mode:"visible",children:r.children},i,0,null),o=Ls(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&ku(e,t.child,null,s),e.child.memoizedState=bw(s),e.memoizedState=ww,o);if(!(e.mode&1))return Fd(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Q(419)),r=I0(o,r,void 0),Fd(t,e,s,r)}if(a=(s&t.childLanes)!==0,En||a){if(r=Wt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ri(t,i),Rr(r,t,i,-1))}return $T(),r=I0(Error(Q(421))),Fd(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=k9.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,jn=xo(i.nextSibling),Fn=e,nt=!0,Ar=null,t!==null&&(nr[rr++]=gi,nr[rr++]=yi,nr[rr++]=Qs,gi=t.id,yi=t.overflow,Qs=e),e=RT(e,r.children),e.flags|=4096,e)}function xI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pw(t.return,e,n)}function P0(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(dn(t,e,r.children,n),r=ut.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xI(t,n,e);else if(t.tag===19)xI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ge(ut,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dm(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),P0(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dm(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}P0(e,!0,n,null,o);break;case"together":P0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ap(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ki(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,n=Io(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Io(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function w9(t,e,n){switch(e.tag){case 3:WN(e),Ru();break;case 5:vN(e);break;case 1:On(e.type)&&am(e);break;case 4:xT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ge(cm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ge(ut,ut.current&1),e.flags|=128,null):n&e.child.childLanes?HN(t,e,n):(Ge(ut,ut.current&1),t=ki(t,e,n),t!==null?t.sibling:null);Ge(ut,ut.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ge(ut,ut.current),r)break;return null;case 22:case 23:return e.lanes=0,UN(t,e,n)}return ki(t,e,n)}var GN,Tw,KN,YN;GN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tw=function(){};KN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cs(Qr.current);var o=null;switch(n){case"input":i=W_(t,i),r=W_(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=G_(t,i),r=G_(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=om)}Y_(n,r);var s;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(bf.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var u=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(l,n)),n=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(bf.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&Xe("scroll",t),o||a===u||(o=[])):(o=o||[]).push(l,u))}n&&(o=o||[]).push("style",n);var l=o;(e.updateQueue=l)&&(e.flags|=4)}};YN=function(t,e,n,r){n!==r&&(e.flags|=4)};function hc(t,e){if(!nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b9(t,e,n){var r=e.pendingProps;switch(gT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(e),null;case 1:return On(e.type)&&sm(),rn(e),null;case 3:return r=e.stateNode,Du(),Ze(Pn),Ze(fn),ST(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(jd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Cw(Ar),Ar=null))),Tw(t,e),rn(e),null;case 5:ET(e);var i=Cs(Df.current);if(n=e.type,t!==null&&e.stateNode!=null)KN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Q(166));return rn(e),null}if(t=Cs(Qr.current),jd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[qr]=e,r[Rf]=o,t=(e.mode&1)!==0,n){case"dialog":Xe("cancel",r),Xe("close",r);break;case"iframe":case"object":case"embed":Xe("load",r);break;case"video":case"audio":for(i=0;i<Nc.length;i++)Xe(Nc[i],r);break;case"source":Xe("error",r);break;case"img":case"image":case"link":Xe("error",r),Xe("load",r);break;case"details":Xe("toggle",r);break;case"input":kA(r,o),Xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Xe("invalid",r);break;case"textarea":MA(r,o),Xe("invalid",r)}Y_(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&$d(r.textContent,a,t),i=["children",""+a]):bf.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Xe("scroll",r)}switch(n){case"input":Od(r),DA(r,o,!0);break;case"textarea":Od(r),NA(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=om)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[qr]=e,t[Rf]=r,GN(t,e,!1,!1),e.stateNode=t;e:{switch(s=X_(n,r),n){case"dialog":Xe("cancel",t),Xe("close",t),i=r;break;case"iframe":case"object":case"embed":Xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Nc.length;i++)Xe(Nc[i],t);i=r;break;case"source":Xe("error",t),i=r;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),i=r;break;case"details":Xe("toggle",t),i=r;break;case"input":kA(t,r),i=W_(t,r),Xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),Xe("invalid",t);break;case"textarea":MA(t,r),i=G_(t,r),Xe("invalid",t);break;default:i=r}Y_(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?AM(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&EM(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Tf(t,u):typeof u=="number"&&Tf(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bf.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Xe("scroll",t):u!=null&&tT(t,o,u,s))}switch(n){case"input":Od(t),DA(t,r,!1);break;case"textarea":Od(t),NA(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?du(t,!!r.multiple,o,!1):r.defaultValue!=null&&du(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=om)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rn(e),null;case 6:if(t&&e.stateNode!=null)YN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Q(166));if(n=Cs(Df.current),Cs(Qr.current),jd(e)){if(r=e.stateNode,n=e.memoizedProps,r[qr]=e,(o=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:$d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$d(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qr]=e,e.stateNode=r}return rn(e),null;case 13:if(Ze(ut),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nt&&jn!==null&&e.mode&1&&!(e.flags&128))dN(),Ru(),e.flags|=98560,o=!1;else if(o=jd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Q(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Q(317));o[qr]=e}else Ru(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rn(e),o=!1}else Ar!==null&&(Cw(Ar),Ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?kt===0&&(kt=3):$T())),e.updateQueue!==null&&(e.flags|=4),rn(e),null);case 4:return Du(),Tw(t,e),t===null&&Of(e.stateNode.containerInfo),rn(e),null;case 10:return wT(e.type._context),rn(e),null;case 17:return On(e.type)&&sm(),rn(e),null;case 19:if(Ze(ut),o=e.memoizedState,o===null)return rn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)hc(o,!1);else{if(kt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=dm(t),s!==null){for(e.flags|=128,hc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ge(ut,ut.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Nu&&(e.flags|=128,r=!0,hc(o,!1),e.lanes=4194304)}else{if(!r)if(t=dm(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!nt)return rn(e),null}else 2*Tt()-o.renderingStartTime>Nu&&n!==1073741824&&(e.flags|=128,r=!0,hc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=ut.current,Ge(ut,r?n&1|2:n&1),e):(rn(e),null);case 22:case 23:return VT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(rn(e),e.subtreeFlags&6&&(e.flags|=8192)):rn(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function T9(t,e){switch(gT(e),e.tag){case 1:return On(e.type)&&sm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Du(),Ze(Pn),Ze(fn),ST(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ET(e),null;case 13:if(Ze(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ru()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ze(ut),null;case 4:return Du(),null;case 10:return wT(e.type._context),null;case 22:case 23:return VT(),null;case 24:return null;default:return null}}var Bd=!1,un=!1,x9=typeof WeakSet=="function"?WeakSet:Set,oe=null;function nu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(t,e,r)}else n.current=null}function xw(t,e,n){try{n()}catch(r){gt(t,e,r)}}var EI=!1;function E9(t,e){if(sw=nm,t=eN(),pT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,l=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++l===i&&(a=s),d===o&&++c===r&&(u=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(aw={focusedElem:t,selectionRange:n},nm=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,b=g.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?m:xr(e.type,m),b);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(P){gt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return g=EI,EI=!1,g}function Jc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&xw(e,n,o)}i=i.next}while(i!==r)}}function sy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ew(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XN(t){var e=t.alternate;e!==null&&(t.alternate=null,XN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qr],delete e[Rf],delete e[cw],delete e[s9],delete e[a9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function QN(t){return t.tag===5||t.tag===3||t.tag===4}function SI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||QN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=om));else if(r!==4&&(t=t.child,t!==null))for(Sw(t,e,n),t=t.sibling;t!==null;)Sw(t,e,n),t=t.sibling}function Aw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Aw(t,e,n),t=t.sibling;t!==null;)Aw(t,e,n),t=t.sibling}var Kt=null,Er=!1;function eo(t,e,n){for(n=n.child;n!==null;)JN(t,e,n),n=n.sibling}function JN(t,e,n){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Jg,n)}catch{}switch(n.tag){case 5:un||nu(n,e);case 6:var r=Kt,i=Er;Kt=null,eo(t,e,n),Kt=r,Er=i,Kt!==null&&(Er?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Er?(t=Kt,n=n.stateNode,t.nodeType===8?b0(t.parentNode,n):t.nodeType===1&&b0(t,n),Af(t)):b0(Kt,n.stateNode));break;case 4:r=Kt,i=Er,Kt=n.stateNode.containerInfo,Er=!0,eo(t,e,n),Kt=r,Er=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&xw(n,e,s),i=i.next}while(i!==r)}eo(t,e,n);break;case 1:if(!un&&(nu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){gt(n,e,a)}eo(t,e,n);break;case 21:eo(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,eo(t,e,n),un=r):eo(t,e,n);break;default:eo(t,e,n)}}function AI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x9),e.forEach(function(r){var i=D9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Kt=a.stateNode,Er=!1;break e;case 3:Kt=a.stateNode.containerInfo,Er=!0;break e;case 4:Kt=a.stateNode.containerInfo,Er=!0;break e}a=a.return}if(Kt===null)throw Error(Q(160));JN(o,s,i),Kt=null,Er=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(l){gt(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ZN(e,t),e=e.sibling}function ZN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wr(e,t),Ur(t),r&4){try{Jc(3,t,t.return),sy(3,t)}catch(m){gt(t,t.return,m)}try{Jc(5,t,t.return)}catch(m){gt(t,t.return,m)}}break;case 1:wr(e,t),Ur(t),r&512&&n!==null&&nu(n,n.return);break;case 5:if(wr(e,t),Ur(t),r&512&&n!==null&&nu(n,n.return),t.flags&32){var i=t.stateNode;try{Tf(i,"")}catch(m){gt(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&bM(i,o),X_(a,s);var l=X_(a,o);for(s=0;s<u.length;s+=2){var c=u[s],f=u[s+1];c==="style"?AM(i,f):c==="dangerouslySetInnerHTML"?EM(i,f):c==="children"?Tf(i,f):tT(i,c,f,l)}switch(a){case"input":H_(i,o);break;case"textarea":TM(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?du(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?du(i,!!o.multiple,o.defaultValue,!0):du(i,!!o.multiple,o.multiple?[]:"",!1))}i[Rf]=o}catch(m){gt(t,t.return,m)}}break;case 6:if(wr(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){gt(t,t.return,m)}}break;case 3:if(wr(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Af(e.containerInfo)}catch(m){gt(t,t.return,m)}break;case 4:wr(e,t),Ur(t);break;case 13:wr(e,t),Ur(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(MT=Tt())),r&4&&AI(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(l=un)||c,wr(e,t),un=l):wr(e,t),Ur(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!c&&t.mode&1)for(oe=t,c=t.child;c!==null;){for(f=oe=c;oe!==null;){switch(d=oe,p=d.child,d.tag){case 0:case 11:case 14:case 15:Jc(4,d,d.return);break;case 1:nu(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){gt(r,n,m)}}break;case 5:nu(d,d.return);break;case 22:if(d.memoizedState!==null){PI(f);continue}}p!==null?(p.return=d,oe=p):PI(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,l?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=SM("display",s))}catch(m){gt(t,t.return,m)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(m){gt(t,t.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:wr(e,t),Ur(t),r&4&&AI(t);break;case 21:break;default:wr(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(QN(n)){var r=n;break e}n=n.return}throw Error(Q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Tf(i,""),r.flags&=-33);var o=SI(t);Aw(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=SI(t);Sw(t,a,s);break;default:throw Error(Q(161))}}catch(u){gt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S9(t,e,n){oe=t,eV(t)}function eV(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Bd;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||un;a=Bd;var l=un;if(Bd=s,(un=u)&&!l)for(oe=i;oe!==null;)s=oe,u=s.child,s.tag===22&&s.memoizedState!==null?OI(i):u!==null?(u.return=s,oe=u):OI(i);for(;o!==null;)oe=o,eV(o),o=o.sibling;oe=i,Bd=a,un=l}II(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):II(t)}}function II(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||sy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&fI(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fI(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var c=l.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Af(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}un||e.flags&512&&Ew(e)}catch(d){gt(e,e.return,d)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function PI(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function OI(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sy(4,e)}catch(u){gt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){gt(e,i,u)}}var o=e.return;try{Ew(e)}catch(u){gt(e,o,u)}break;case 5:var s=e.return;try{Ew(e)}catch(u){gt(e,s,u)}}}catch(u){gt(e,e.return,u)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var A9=Math.ceil,gm=Bi.ReactCurrentDispatcher,kT=Bi.ReactCurrentOwner,fr=Bi.ReactCurrentBatchConfig,Oe=0,Wt=null,St=null,Zt=0,Mn=0,ru=qo(0),kt=0,$f=null,Zs=0,ay=0,DT=0,Zc=null,Tn=null,MT=0,Nu=1/0,hi=null,ym=!1,Iw=null,So=null,Ud=!1,vo=null,vm=0,ef=0,Pw=null,Ip=-1,Pp=0;function gn(){return Oe&6?Tt():Ip!==-1?Ip:Ip=Tt()}function Ao(t){return t.mode&1?Oe&2&&Zt!==0?Zt&-Zt:l9.transition!==null?(Pp===0&&(Pp=jM()),Pp):(t=$e,t!==0||(t=window.event,t=t===void 0?16:HM(t.type)),t):1}function Rr(t,e,n,r){if(50<ef)throw ef=0,Pw=null,Error(Q(185));Fh(t,n,r),(!(Oe&2)||t!==Wt)&&(t===Wt&&(!(Oe&2)&&(ay|=n),kt===4&&fo(t,Zt)),Cn(t,r),n===1&&Oe===0&&!(e.mode&1)&&(Nu=Tt()+500,ry&&Go()))}function Cn(t,e){var n=t.callbackNode;l8(t,e);var r=tm(t,t===Wt?Zt:0);if(r===0)n!==null&&jA(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&jA(n),e===1)t.tag===0?u9(CI.bind(null,t)):cN(CI.bind(null,t)),i9(function(){!(Oe&6)&&Go()}),n=null;else{switch(LM(r)){case 1:n=sT;break;case 4:n=VM;break;case 16:n=em;break;case 536870912:n=$M;break;default:n=em}n=uV(n,tV.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tV(t,e){if(Ip=-1,Pp=0,Oe&6)throw Error(Q(327));var n=t.callbackNode;if(vu()&&t.callbackNode!==n)return null;var r=tm(t,t===Wt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_m(t,r);else{e=r;var i=Oe;Oe|=2;var o=rV();(Wt!==t||Zt!==e)&&(hi=null,Nu=Tt()+500,js(t,e));do try{O9();break}catch(a){nV(t,a)}while(!0);_T(),gm.current=o,Oe=i,St!==null?e=0:(Wt=null,Zt=0,e=kt)}if(e!==0){if(e===2&&(i=tw(t),i!==0&&(r=i,e=Ow(t,i))),e===1)throw n=$f,js(t,0),fo(t,r),Cn(t,Tt()),n;if(e===6)fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!I9(i)&&(e=_m(t,r),e===2&&(o=tw(t),o!==0&&(r=o,e=Ow(t,o))),e===1))throw n=$f,js(t,0),fo(t,r),Cn(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Q(345));case 2:ds(t,Tn,hi);break;case 3:if(fo(t,r),(r&130023424)===r&&(e=MT+500-Tt(),10<e)){if(tm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=lw(ds.bind(null,t,Tn,hi),e);break}ds(t,Tn,hi);break;case 4:if(fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Cr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*A9(r/1960))-r,10<r){t.timeoutHandle=lw(ds.bind(null,t,Tn,hi),r);break}ds(t,Tn,hi);break;case 5:ds(t,Tn,hi);break;default:throw Error(Q(329))}}}return Cn(t,Tt()),t.callbackNode===n?tV.bind(null,t):null}function Ow(t,e){var n=Zc;return t.current.memoizedState.isDehydrated&&(js(t,e).flags|=256),t=_m(t,e),t!==2&&(e=Tn,Tn=n,e!==null&&Cw(e)),t}function Cw(t){Tn===null?Tn=t:Tn.push.apply(Tn,t)}function I9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Nr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fo(t,e){for(e&=~DT,e&=~ay,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Cr(e),r=1<<n;t[n]=-1,e&=~r}}function CI(t){if(Oe&6)throw Error(Q(327));vu();var e=tm(t,0);if(!(e&1))return Cn(t,Tt()),null;var n=_m(t,e);if(t.tag!==0&&n===2){var r=tw(t);r!==0&&(e=r,n=Ow(t,r))}if(n===1)throw n=$f,js(t,0),fo(t,e),Cn(t,Tt()),n;if(n===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ds(t,Tn,hi),Cn(t,Tt()),null}function NT(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(Nu=Tt()+500,ry&&Go())}}function ea(t){vo!==null&&vo.tag===0&&!(Oe&6)&&vu();var e=Oe;Oe|=1;var n=fr.transition,r=$e;try{if(fr.transition=null,$e=1,t)return t()}finally{$e=r,fr.transition=n,Oe=e,!(Oe&6)&&Go()}}function VT(){Mn=ru.current,Ze(ru)}function js(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r9(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(gT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&sm();break;case 3:Du(),Ze(Pn),Ze(fn),ST();break;case 5:ET(r);break;case 4:Du();break;case 13:Ze(ut);break;case 19:Ze(ut);break;case 10:wT(r.type._context);break;case 22:case 23:VT()}n=n.return}if(Wt=t,St=t=Io(t.current,null),Zt=Mn=e,kt=0,$f=null,DT=ay=Zs=0,Tn=Zc=null,Os!==null){for(e=0;e<Os.length;e++)if(n=Os[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Os=null}return t}function nV(t,e){do{var n=St;try{if(_T(),Ep.current=mm,pm){for(var r=ft.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pm=!1}if(Js=0,zt=Rt=ft=null,Qc=!1,Mf=0,kT.current=null,n===null||n.return===null){kt=1,$f=e,St=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=Zt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=yI(s);if(p!==null){p.flags&=-257,vI(p,s,a,o,e),p.mode&1&&gI(o,l,e),e=p,u=l;var g=e.updateQueue;if(g===null){var m=new Set;m.add(u),e.updateQueue=m}else g.add(u);break e}else{if(!(e&1)){gI(o,l,e),$T();break e}u=Error(Q(426))}}else if(nt&&a.mode&1){var b=yI(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vI(b,s,a,o,e),yT(Mu(u,a));break e}}o=u=Mu(u,a),kt!==4&&(kt=2),Zc===null?Zc=[o]:Zc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=LN(o,u,e);cI(o,y);break e;case 1:a=u;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(So===null||!So.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=FN(o,a,e);cI(o,P);break e}}o=o.return}while(o!==null)}oV(n)}catch(x){e=x,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function rV(){var t=gm.current;return gm.current=mm,t===null?mm:t}function $T(){(kt===0||kt===3||kt===2)&&(kt=4),Wt===null||!(Zs&268435455)&&!(ay&268435455)||fo(Wt,Zt)}function _m(t,e){var n=Oe;Oe|=2;var r=rV();(Wt!==t||Zt!==e)&&(hi=null,js(t,e));do try{P9();break}catch(i){nV(t,i)}while(!0);if(_T(),Oe=n,gm.current=r,St!==null)throw Error(Q(261));return Wt=null,Zt=0,kt}function P9(){for(;St!==null;)iV(St)}function O9(){for(;St!==null&&!e8();)iV(St)}function iV(t){var e=aV(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?oV(t):St=e,kT.current=null}function oV(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=T9(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{kt=6,St=null;return}}else if(n=b9(n,e,Mn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);kt===0&&(kt=5)}function ds(t,e,n){var r=$e,i=fr.transition;try{fr.transition=null,$e=1,C9(t,e,n,r)}finally{fr.transition=i,$e=r}return null}function C9(t,e,n,r){do vu();while(vo!==null);if(Oe&6)throw Error(Q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(c8(t,o),t===Wt&&(St=Wt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ud||(Ud=!0,uV(em,function(){return vu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fr.transition,fr.transition=null;var s=$e;$e=1;var a=Oe;Oe|=4,kT.current=null,E9(t,n),ZN(n,t),X8(aw),nm=!!sw,aw=sw=null,t.current=n,S9(n),t8(),Oe=a,$e=s,fr.transition=o}else t.current=n;if(Ud&&(Ud=!1,vo=t,vm=i),o=t.pendingLanes,o===0&&(So=null),i8(n.stateNode),Cn(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ym)throw ym=!1,t=Iw,Iw=null,t;return vm&1&&t.tag!==0&&vu(),o=t.pendingLanes,o&1?t===Pw?ef++:(ef=0,Pw=t):ef=0,Go(),null}function vu(){if(vo!==null){var t=LM(vm),e=fr.transition,n=$e;try{if(fr.transition=null,$e=16>t?16:t,vo===null)var r=!1;else{if(t=vo,vo=null,vm=0,Oe&6)throw Error(Q(331));var i=Oe;for(Oe|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var l=a[u];for(oe=l;oe!==null;){var c=oe;switch(c.tag){case 0:case 11:case 15:Jc(8,c,o)}var f=c.child;if(f!==null)f.return=c,oe=f;else for(;oe!==null;){c=oe;var d=c.sibling,p=c.return;if(XN(c),c===l){oe=null;break}if(d!==null){d.return=p,oe=d;break}oe=p}}}var g=o.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var b=m.sibling;m.sibling=null,m=b}while(m!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Jc(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,oe=y;break e}oe=o.return}}var _=t.current;for(oe=_;oe!==null;){s=oe;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,oe=E;else e:for(s=_;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sy(9,a)}}catch(x){gt(a,a.return,x)}if(a===s){oe=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,oe=P;break e}oe=a.return}}if(Oe=i,Go(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Jg,t)}catch{}r=!0}return r}finally{$e=n,fr.transition=e}}return!1}function RI(t,e,n){e=Mu(n,e),e=LN(t,e,1),t=Eo(t,e,1),e=gn(),t!==null&&(Fh(t,1,e),Cn(t,e))}function gt(t,e,n){if(t.tag===3)RI(t,t,n);else for(;e!==null;){if(e.tag===3){RI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(So===null||!So.has(r))){t=Mu(n,t),t=FN(e,t,1),e=Eo(e,t,1),t=gn(),e!==null&&(Fh(e,1,t),Cn(e,t));break}}e=e.return}}function R9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Zt&n)===n&&(kt===4||kt===3&&(Zt&130023424)===Zt&&500>Tt()-MT?js(t,0):DT|=n),Cn(t,e)}function sV(t,e){e===0&&(t.mode&1?(e=kd,kd<<=1,!(kd&130023424)&&(kd=4194304)):e=1);var n=gn();t=Ri(t,e),t!==null&&(Fh(t,e,n),Cn(t,n))}function k9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sV(t,n)}function D9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Q(314))}r!==null&&r.delete(e),sV(t,n)}var aV;aV=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,w9(t,e,n);En=!!(t.flags&131072)}else En=!1,nt&&e.flags&1048576&&fN(e,lm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ap(t,e),t=e.pendingProps;var i=Cu(e,fn.current);yu(e,n),i=IT(null,e,r,t,i,n);var o=PT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,On(r)?(o=!0,am(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,TT(e),i.updater=oy,e.stateNode=i,i._reactInternals=e,gw(e,r,t,n),e=_w(null,e,r,!0,o,n)):(e.tag=0,nt&&o&&mT(e),dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ap(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=N9(r),t=xr(r,t),i){case 0:e=vw(null,e,r,t,n);break e;case 1:e=bI(null,e,r,t,n);break e;case 11:e=_I(null,e,r,t,n);break e;case 14:e=wI(null,e,r,xr(r.type,t),n);break e}throw Error(Q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),vw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),bI(t,e,r,i,n);case 3:e:{if(WN(e),t===null)throw Error(Q(387));r=e.pendingProps,o=e.memoizedState,i=o.element,yN(t,e),hm(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Mu(Error(Q(423)),e),e=TI(t,e,r,n,i);break e}else if(r!==i){i=Mu(Error(Q(424)),e),e=TI(t,e,r,n,i);break e}else for(jn=xo(e.stateNode.containerInfo.firstChild),Fn=e,nt=!0,Ar=null,n=mN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ru(),r===i){e=ki(t,e,n);break e}dn(t,e,r,n)}e=e.child}return e;case 5:return vN(e),t===null&&dw(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uw(r,i)?s=null:o!==null&&uw(r,o)&&(e.flags|=32),zN(t,e),dn(t,e,s,n),e.child;case 6:return t===null&&dw(e),null;case 13:return HN(t,e,n);case 4:return xT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ku(e,null,r,n):dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),_I(t,e,r,i,n);case 7:return dn(t,e,e.pendingProps,n),e.child;case 8:return dn(t,e,e.pendingProps.children,n),e.child;case 12:return dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ge(cm,r._currentValue),r._currentValue=s,o!==null)if(Nr(o.value,s)){if(o.children===i.children&&!Pn.current){e=ki(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=xi(-1,n&-n),u.tag=2;var l=o.updateQueue;if(l!==null){l=l.shared;var c=l.pending;c===null?u.next=u:(u.next=c.next,c.next=u),l.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),pw(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Q(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),pw(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yu(e,n),i=pr(i),r=r(i),e.flags|=1,dn(t,e,r,n),e.child;case 14:return r=e.type,i=xr(r,e.pendingProps),i=xr(r.type,i),wI(t,e,r,i,n);case 15:return BN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xr(r,i),Ap(t,e),e.tag=1,On(r)?(t=!0,am(e)):t=!1,yu(e,n),jN(e,r,i),gw(e,r,i,n),_w(null,e,r,!0,t,n);case 19:return qN(t,e,n);case 22:return UN(t,e,n)}throw Error(Q(156,e.tag))};function uV(t,e){return NM(t,e)}function M9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new M9(t,e,n,r)}function jT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function N9(t){if(typeof t=="function")return jT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rT)return 11;if(t===iT)return 14}return 2}function Io(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Op(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")jT(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ga:return Ls(n.children,i,o,e);case nT:s=8,i|=8;break;case F_:return t=sr(12,n,e,i|2),t.elementType=F_,t.lanes=o,t;case B_:return t=sr(13,n,e,i),t.elementType=B_,t.lanes=o,t;case U_:return t=sr(19,n,e,i),t.elementType=U_,t.lanes=o,t;case vM:return uy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gM:s=10;break e;case yM:s=9;break e;case rT:s=11;break e;case iT:s=14;break e;case ao:s=16,r=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ls(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function uy(t,e,n,r){return t=sr(22,t,r,e),t.elementType=vM,t.lanes=n,t.stateNode={isHidden:!1},t}function O0(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function C0(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function V9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=c0(0),this.expirationTimes=c0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=c0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function LT(t,e,n,r,i,o,s,a,u){return t=new V9(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},TT(o),t}function $9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lV(t){if(!t)return Vo;t=t._reactInternals;e:{if(ma(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(On(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var n=t.type;if(On(n))return lN(t,n,e)}return e}function cV(t,e,n,r,i,o,s,a,u){return t=LT(n,r,!0,t,i,o,s,a,u),t.context=lV(null),n=t.current,r=gn(),i=Ao(n),o=xi(r,i),o.callback=e??null,Eo(n,o,i),t.current.lanes=i,Fh(t,i,r),Cn(t,r),t}function ly(t,e,n,r){var i=e.current,o=gn(),s=Ao(i);return n=lV(n),e.context===null?e.context=n:e.pendingContext=n,e=xi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Eo(i,e,s),t!==null&&(Rr(t,i,s,o),xp(t,i,s)),s}function wm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function FT(t,e){kI(t,e),(t=t.alternate)&&kI(t,e)}function j9(){return null}var fV=typeof reportError=="function"?reportError:function(t){console.error(t)};function BT(t){this._internalRoot=t}cy.prototype.render=BT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));ly(t,e,null,null)};cy.prototype.unmount=BT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ea(function(){ly(null,t,null,null)}),e[Ci]=null}};function cy(t){this._internalRoot=t}cy.prototype.unstable_scheduleHydration=function(t){if(t){var e=UM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<co.length&&e!==0&&e<co[n].priority;n++);co.splice(n,0,t),n===0&&WM(t)}};function UT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function DI(){}function L9(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var l=wm(s);o.call(l)}}var s=cV(e,r,t,0,null,!1,!1,"",DI);return t._reactRootContainer=s,t[Ci]=s.current,Of(t.nodeType===8?t.parentNode:t),ea(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=wm(u);a.call(l)}}var u=LT(t,0,!1,null,null,!1,!1,"",DI);return t._reactRootContainer=u,t[Ci]=u.current,Of(t.nodeType===8?t.parentNode:t),ea(function(){ly(e,u,n,r)}),u}function hy(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=wm(s);a.call(u)}}ly(e,s,t,i)}else s=L9(n,e,t,i,r);return wm(s)}FM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mc(e.pendingLanes);n!==0&&(aT(e,n|1),Cn(e,Tt()),!(Oe&6)&&(Nu=Tt()+500,Go()))}break;case 13:ea(function(){var r=Ri(t,1);if(r!==null){var i=gn();Rr(r,t,1,i)}}),FT(t,1)}};uT=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var n=gn();Rr(e,t,134217728,n)}FT(t,134217728)}};BM=function(t){if(t.tag===13){var e=Ao(t),n=Ri(t,e);if(n!==null){var r=gn();Rr(n,t,e,r)}FT(t,e)}};UM=function(){return $e};zM=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};J_=function(t,e,n){switch(e){case"input":if(H_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ny(r);if(!i)throw Error(Q(90));wM(r),H_(r,i)}}}break;case"textarea":TM(t,n);break;case"select":e=n.value,e!=null&&du(t,!!n.multiple,e,!1)}};OM=NT;CM=ea;var F9={usingClientEntryPoint:!1,Events:[Uh,Qa,ny,IM,PM,NT]},dc={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B9={bundleType:dc.bundleType,version:dc.version,rendererPackageName:dc.rendererPackageName,rendererConfig:dc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=DM(t),t===null?null:t.stateNode},findFiberByHostInstance:dc.findFiberByHostInstance||j9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zd.isDisabled&&zd.supportsFiber)try{Jg=zd.inject(B9),Xr=zd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F9;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!UT(e))throw Error(Q(200));return $9(t,e,null,n)};Gn.createRoot=function(t,e){if(!UT(t))throw Error(Q(299));var n=!1,r="",i=fV;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=LT(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Of(t.nodeType===8?t.parentNode:t),new BT(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=DM(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return ea(t)};Gn.hydrate=function(t,e,n){if(!fy(e))throw Error(Q(200));return hy(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!UT(t))throw Error(Q(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fV;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=cV(e,null,t,1,n??null,i,!1,o,s),t[Ci]=e.current,Of(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cy(e)};Gn.render=function(t,e,n){if(!fy(e))throw Error(Q(200));return hy(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!fy(t))throw Error(Q(40));return t._reactRootContainer?(ea(function(){hy(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Gn.unstable_batchedUpdates=NT;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!fy(n))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return hy(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function hV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hV)}catch(t){console.error(t)}}hV(),hM.exports=Gn;var U9=hM.exports,MI=U9;j_.createRoot=MI.createRoot,j_.hydrateRoot=MI.hydrateRoot;const zT=j.createContext({});function WT(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const dy=j.createContext(null),HT=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class z9 extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function W9({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:o}=j.useContext(HT);return j.useInsertionEffect(()=>{const{width:s,height:a,top:u,left:l}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return o&&(c.nonce=o),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${u}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),M.jsx(z9,{isPresent:e,childRef:r,sizeRef:i,children:j.cloneElement(t,{ref:r})})}const H9=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=WT(q9),u=j.useId(),l=j.useCallback(f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},[a,r]),c=j.useMemo(()=>({id:u,initial:e,isPresent:n,custom:i,onExitComplete:l,register:f=>(a.set(f,!1),()=>a.delete(f))}),o?[Math.random(),l]:[n,l]);return j.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=M.jsx(W9,{isPresent:n,children:t})),M.jsx(dy.Provider,{value:c,children:t})};function q9(){return new Map}function dV(t=!0){const e=j.useContext(dy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=j.useId();j.useEffect(()=>{t&&i(o)},[t]);const s=j.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}const Wd=t=>t.key||"";function NI(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const qT=typeof window<"u",pV=qT?j.useLayoutEffect:j.useEffect,mV=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1})=>{const[a,u]=dV(s),l=j.useMemo(()=>NI(t),[t]),c=s&&!a?[]:l.map(Wd),f=j.useRef(!0),d=j.useRef(l),p=WT(()=>new Map),[g,m]=j.useState(l),[b,y]=j.useState(l);pV(()=>{f.current=!1,d.current=l;for(let P=0;P<b.length;P++){const x=Wd(b[P]);c.includes(x)?p.delete(x):p.get(x)!==!0&&p.set(x,!1)}},[b,c.length,c.join("-")]);const _=[];if(l!==g){let P=[...l];for(let x=0;x<b.length;x++){const S=b[x],w=Wd(S);c.includes(w)||(P.splice(x,0,S),_.push(S))}o==="wait"&&_.length&&(P=_),y(NI(P)),m(l);return}const{forceRender:E}=j.useContext(zT);return M.jsx(M.Fragment,{children:b.map(P=>{const x=Wd(P),S=s&&!a?!1:l===b||c.includes(x),w=()=>{if(p.has(x))p.set(x,!0);else return;let T=!0;p.forEach(I=>{I||(T=!1)}),T&&(E==null||E(),y(d.current),s&&(u==null||u()),r&&r())};return M.jsx(H9,{isPresent:S,initial:!f.current||n?void 0:!1,custom:S?void 0:e,presenceAffectsLayout:i,mode:o,onExitComplete:S?void 0:w,children:P},x)})})},Bn=t=>t;let gV=Bn;function GT(t){let e;return()=>(e===void 0&&(e=t()),e)}const Vu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ei=t=>t*1e3,Si=t=>t/1e3,G9={useManualTiming:!1};function K9(t){let e=new Set,n=new Set,r=!1,i=!1;const o=new WeakSet;let s={delta:0,timestamp:0,isProcessing:!1};function a(l){o.has(l)&&(u.schedule(l),t()),l(s)}const u={schedule:(l,c=!1,f=!1)=>{const p=f&&r?e:n;return c&&o.add(l),p.has(l)||p.add(l),l},cancel:l=>{n.delete(l),o.delete(l)},process:l=>{if(s=l,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,u.process(l))}};return u}const Hd=["read","resolveKeyframes","update","preRender","render","postRender"],Y9=40;function yV(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Hd.reduce((y,_)=>(y[_]=K9(o),y),{}),{read:a,resolveKeyframes:u,update:l,preRender:c,render:f,postRender:d}=s,p=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,Y9),1),i.timestamp=y,i.isProcessing=!0,a.process(i),u.process(i),l.process(i),c.process(i),f.process(i),d.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(p))},g=()=>{n=!0,r=!0,i.isProcessing||t(p)};return{schedule:Hd.reduce((y,_)=>{const E=s[_];return y[_]=(P,x=!1,S=!1)=>(n||g(),E.schedule(P,x,S)),y},{}),cancel:y=>{for(let _=0;_<Hd.length;_++)s[Hd[_]].cancel(y)},state:i,steps:s}}const{schedule:et,cancel:$o,state:Yt,steps:R0}=yV(typeof requestAnimationFrame<"u"?requestAnimationFrame:Bn,!0),vV=j.createContext({strict:!1}),VI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$u={};for(const t in VI)$u[t]={isEnabled:e=>VI[t].some(n=>!!e[n])};function X9(t){for(const e in t)$u[e]={...$u[e],...t[e]}}const Q9=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Q9.has(t)}let _V=t=>!bm(t);function J9(t){t&&(_V=e=>e.startsWith("on")?!bm(e):t(e))}try{J9(require("@emotion/is-prop-valid").default)}catch{}function Z9(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(_V(i)||n===!0&&bm(i)||!e&&!bm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function eU(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const py=j.createContext({});function jf(t){return typeof t=="string"||Array.isArray(t)}function my(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const KT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YT=["initial",...KT];function gy(t){return my(t.animate)||YT.some(e=>jf(t[e]))}function wV(t){return!!(gy(t)||t.variants)}function tU(t,e){if(gy(t)){const{initial:n,animate:r}=t;return{initial:n===!1||jf(n)?n:void 0,animate:jf(r)?r:void 0}}return t.inherit!==!1?e:{}}function nU(t){const{initial:e,animate:n}=tU(t,j.useContext(py));return j.useMemo(()=>({initial:e,animate:n}),[$I(e),$I(n)])}function $I(t){return Array.isArray(t)?t.join(" "):t}const rU=Symbol.for("motionComponentSymbol");function iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function iU(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):iu(n)&&(n.current=r))},[e])}const XT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),oU="framerAppearId",bV="data-"+XT(oU),{schedule:QT}=yV(queueMicrotask,!1),TV=j.createContext({});function sU(t,e,n,r,i){var o,s;const{visualElement:a}=j.useContext(py),u=j.useContext(vV),l=j.useContext(dy),c=j.useContext(HT).reducedMotion,f=j.useRef(null);r=r||u.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=f.current,p=j.useContext(TV);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&aU(f.current,n,i,p);const g=j.useRef(!1);j.useInsertionEffect(()=>{d&&g.current&&d.update(n,l)});const m=n[bV],b=j.useRef(!!m&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,m))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,m)));return pV(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),QT.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,m)}),b.current=!1))}),d}function aU(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:u,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:xV(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&iu(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:l})}function xV(t){if(t)return t.options.allowProjection!==!1?t.projection:xV(t.parent)}function uU({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,s;t&&X9(t);function a(l,c){let f;const d={...j.useContext(HT),...l,layoutId:lU(l)},{isStatic:p}=d,g=nU(l),m=r(l,p);if(!p&&qT){cU();const b=fU(d);f=b.MeasureLayout,g.visualElement=sU(i,m,d,e,b.ProjectionNode)}return M.jsxs(py.Provider,{value:g,children:[f&&g.visualElement?M.jsx(f,{visualElement:g.visualElement,...d}):null,n(i,l,iU(m,g.visualElement,c),m,p,g.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const u=j.forwardRef(a);return u[rU]=i,u}function lU({layoutId:t}){const e=j.useContext(zT).id;return e&&t!==void 0?e+"-"+t:t}function cU(t,e){j.useContext(vV).strict}function fU(t){const{drag:e,layout:n}=$u;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JT(t){return typeof t!="string"||t.includes("-")?!1:!!(hU.indexOf(t)>-1||/[A-Z]/u.test(t))}function jI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ZT(t,e,n,r){if(typeof e=="function"){const[i,o]=jI(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=jI(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const Rw=t=>Array.isArray(t),dU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),pU=t=>Rw(t)?t[t.length-1]||0:t,ln=t=>!!(t&&t.getVelocity);function Cp(t){const e=ln(t)?t.get():t;return dU(e)?e.toValue():e}function mU({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const s={latestValues:gU(r,i,o,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const EV=t=>(e,n)=>{const r=j.useContext(py),i=j.useContext(dy),o=()=>mU(t,e,r,i);return n?o():WT(o)};function gU(t,e,n,r){const i={},o=r(t,{});for(const d in o)i[d]=Cp(o[d]);let{initial:s,animate:a}=t;const u=gy(t),l=wV(t);e&&l&&!u&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;if(f&&typeof f!="boolean"&&!my(f)){const d=Array.isArray(f)?f:[f];for(let p=0;p<d.length;p++){const g=ZT(t,d[p]);if(g){const{transitionEnd:m,transition:b,...y}=g;for(const _ in y){let E=y[_];if(Array.isArray(E)){const P=c?E.length-1:0;E=E[P]}E!==null&&(i[_]=E)}for(const _ in m)i[_]=m[_]}}}return i}const Sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(Sl),SV=t=>e=>typeof e=="string"&&e.startsWith(t),AV=SV("--"),yU=SV("var(--"),ex=t=>yU(t)?vU.test(t.split("/*")[0].trim()):!1,vU=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,IV=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Di=(t,e,n)=>n>e?e:n<t?t:n,Al={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Lf={...Al,transform:t=>Di(0,1,t)},qd={...Al,default:1},Wh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),so=Wh("deg"),Jr=Wh("%"),fe=Wh("px"),_U=Wh("vh"),wU=Wh("vw"),LI={...Jr,parse:t=>Jr.parse(t)/100,transform:t=>Jr.transform(t*100)},bU={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe},TU={rotate:so,rotateX:so,rotateY:so,rotateZ:so,scale:qd,scaleX:qd,scaleY:qd,scaleZ:qd,skew:so,skewX:so,skewY:so,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:Lf,originX:LI,originY:LI,originZ:fe},FI={...Al,transform:Math.round},tx={...bU,...TU,zIndex:FI,size:fe,fillOpacity:Lf,strokeOpacity:Lf,numOctaves:FI},xU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EU=Sl.length;function SU(t,e,n){let r="",i=!0;for(let o=0;o<EU;o++){const s=Sl[o],a=t[s];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(s.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const l=IV(a,tx[s]);if(!u){i=!1;const c=xU[s]||s;r+=`${c}(${l}) `}n&&(e[s]=l)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function nx(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const u in e){const l=e[u];if(ga.has(u)){s=!0;continue}else if(AV(u)){i[u]=l;continue}else{const c=IV(l,tx[u]);u.startsWith("origin")?(a=!0,o[u]=c):r[u]=c}}if(e.transform||(s||n?r.transform=SU(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:l="50%",originZ:c=0}=o;r.transformOrigin=`${u} ${l} ${c}`}}const AU={offset:"stroke-dashoffset",array:"stroke-dasharray"},IU={offset:"strokeDashoffset",array:"strokeDasharray"};function PU(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?AU:IU;t[o.offset]=fe.transform(-r);const s=fe.transform(e),a=fe.transform(n);t[o.array]=`${s} ${a}`}function BI(t,e,n){return typeof t=="string"?t:fe.transform(e+n*t)}function OU(t,e,n){const r=BI(e,t.x,t.width),i=BI(n,t.y,t.height);return`${r} ${i}`}function rx(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:u=0,...l},c,f){if(nx(t,l,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:g}=t;d.transform&&(g&&(p.transform=d.transform),delete d.transform),g&&(i!==void 0||o!==void 0||p.transform)&&(p.transformOrigin=OU(g,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&PU(d,s,a,u,!1)}const ix=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),PV=()=>({...ix(),attrs:{}}),ox=t=>typeof t=="string"&&t.toLowerCase()==="svg";function OV(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const CV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RV(t,e,n,r){OV(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CV.has(i)?i:XT(i),e.attrs[i])}const Tm={};function CU(t){Object.assign(Tm,t)}function kV(t,{layout:e,layoutId:n}){return ga.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Tm[t]||t==="opacity")}function sx(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(ln(i[s])||e.style&&ln(e.style[s])||kV(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}function DV(t,e,n){const r=sx(t,e,n);for(const i in t)if(ln(t[i])||ln(e[i])){const o=Sl.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}function RU(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const UI=["x","y","width","height","cx","cy","r"],kU={useVisualState:EV({scrapeMotionValuesFromProps:DV,createRenderState:PV,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const a in i)if(ga.has(a)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let a=0;a<UI.length;a++){const u=UI[a];t[u]!==e[u]&&(s=!0)}s&&et.read(()=>{RU(n,r),et.render(()=>{rx(r,i,ox(n.tagName),t.transformTemplate),RV(n,r)})})}})},DU={useVisualState:EV({scrapeMotionValuesFromProps:sx,createRenderState:ix})};function MV(t,e,n){for(const r in e)!ln(e[r])&&!kV(r,n)&&(t[r]=e[r])}function MU({transformTemplate:t},e){return j.useMemo(()=>{const n=ix();return nx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NU(t,e){const n=t.style||{},r={};return MV(r,n,t),Object.assign(r,MU(t,e)),r}function VU(t,e){const n={},r=NU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function $U(t,e,n,r){const i=j.useMemo(()=>{const o=PV();return rx(o,e,ox(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};MV(o,t.style,t),i.style={...o,...i.style}}return i}function jU(t=!1){return(n,r,i,{latestValues:o},s)=>{const u=(JT(n)?$U:VU)(r,o,s,n),l=Z9(r,typeof n=="string",t),c=n!==j.Fragment?{...l,...u,ref:i}:{},{children:f}=r,d=j.useMemo(()=>ln(f)?f.get():f,[f]);return j.createElement(n,{...c,children:d})}}function LU(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...JT(r)?kU:DU,preloadedFeatures:t,useRender:jU(i),createVisualElement:e,Component:r};return uU(s)}}function NV(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function yy(t,e,n){const r=t.getProps();return ZT(r,e,n!==void 0?n:r.custom,t)}const FU=GT(()=>window.ScrollTimeline!==void 0);class BU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(FU()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class UU extends BU{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function ax(t,e){return t?t[e]||t.default||t:void 0}const kw=2e4;function VV(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kw;)e+=n,r=t.next(e);return e>=kw?1/0:e}function ux(t){return typeof t=="function"}function zI(t,e){t.timeline=e,t.onfinish=null}const lx=t=>Array.isArray(t)&&typeof t[0]=="number",zU={linearEasing:void 0};function WU(t,e){const n=GT(t);return()=>{var r;return(r=zU[e])!==null&&r!==void 0?r:n()}}const xm=WU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$V=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(Vu(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function jV(t){return!!(typeof t=="function"&&xm()||!t||typeof t=="string"&&(t in Dw||xm())||lx(t)||Array.isArray(t)&&t.every(jV))}const Vc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Dw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vc([0,.65,.55,1]),circOut:Vc([.55,0,1,.45]),backIn:Vc([.31,.01,.66,-.59]),backOut:Vc([.33,1.53,.69,.99])};function LV(t,e){if(t)return typeof t=="function"&&xm()?$V(t,e):lx(t)?Vc(t):Array.isArray(t)?t.map(n=>LV(n,e)||Dw.easeOut):Dw[t]}const Tr={x:!1,y:!1};function FV(){return Tr.x||Tr.y}function HU(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function BV(t,e){const n=HU(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function WI(t){return e=>{e.pointerType==="touch"||FV()||t(e)}}function qU(t,e,n={}){const[r,i,o]=BV(t,n),s=WI(a=>{const{target:u}=a,l=e(a);if(typeof l!="function"||!u)return;const c=WI(f=>{l(f),u.removeEventListener("pointerleave",c)});u.addEventListener("pointerleave",c,i)});return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const UV=(t,e)=>e?t===e?!0:UV(t,e.parentElement):!1,cx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function KU(t){return GU.has(t.tagName)||t.tabIndex!==-1}const $c=new WeakSet;function HI(t){return e=>{e.key==="Enter"&&t(e)}}function k0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YU=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=HI(()=>{if($c.has(n))return;k0(n,"down");const i=HI(()=>{k0(n,"up")}),o=()=>k0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function qI(t){return cx(t)&&!FV()}function XU(t,e,n={}){const[r,i,o]=BV(t,n),s=a=>{const u=a.currentTarget;if(!qI(a)||$c.has(u))return;$c.add(u);const l=e(a),c=(p,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),!(!qI(p)||!$c.has(u))&&($c.delete(u),typeof l=="function"&&l(p,{success:g}))},f=p=>{c(p,n.useGlobalTarget||UV(u,p.target))},d=p=>{c(p,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return r.forEach(a=>{!KU(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),a.addEventListener("focus",l=>YU(l,i),i)}),o}function QU(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}const zV=new Set(["width","height","top","left","right","bottom",...Sl]);let Rp;function JU(){Rp=void 0}const Zr={now:()=>(Rp===void 0&&Zr.set(Yt.isProcessing||G9.useManualTiming?Yt.timestamp:performance.now()),Rp),set:t=>{Rp=t,queueMicrotask(JU)}};function fx(t,e){t.indexOf(e)===-1&&t.push(e)}function hx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class dx{constructor(){this.subscriptions=[]}add(e){return fx(this.subscriptions,e),()=>hx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function WV(t,e){return e?t*(1e3/e):0}const GI=30,ZU=t=>!isNaN(parseFloat(t));class e7{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Zr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ZU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new dx);const r=this.events[e].add(n);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>GI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GI);return WV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ff(t,e){return new e7(t,e)}function t7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ff(n))}function n7(t,e){const n=yy(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=pU(o[s]);t7(t,s,a)}}function r7(t){return!!(ln(t)&&t.add)}function Mw(t,e){const n=t.getValue("willChange");if(r7(n))return n.add(e)}function HV(t){return t.props[bV]}const qV=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,i7=1e-7,o7=12;function s7(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=qV(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>i7&&++a<o7);return s}function Hh(t,e,n,r){if(t===e&&n===r)return Bn;const i=o=>s7(o,0,1,t,n);return o=>o===0||o===1?o:qV(i(o),e,r)}const GV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KV=t=>e=>1-t(1-e),YV=Hh(.33,1.53,.69,.99),px=KV(YV),XV=GV(px),QV=t=>(t*=2)<1?.5*px(t):.5*(2-Math.pow(2,-10*(t-1))),mx=t=>1-Math.sin(Math.acos(t)),JV=KV(mx),ZV=GV(mx),e$=t=>/^0[^.\s]+$/u.test(t);function a7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||e$(t):!0}const tf=t=>Math.round(t*1e5)/1e5,gx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u7(t){return t==null}const l7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,yx=(t,e)=>n=>!!(typeof n=="string"&&l7.test(n)&&n.startsWith(t)||e&&!u7(n)&&Object.prototype.hasOwnProperty.call(n,e)),t$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(gx);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},c7=t=>Di(0,255,t),D0={...Al,transform:t=>Math.round(c7(t))},Rs={test:yx("rgb","red"),parse:t$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+D0.transform(t)+", "+D0.transform(e)+", "+D0.transform(n)+", "+tf(Lf.transform(r))+")"};function f7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Nw={test:yx("#"),parse:f7,transform:Rs.transform},ou={test:yx("hsl","hue"),parse:t$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Jr.transform(tf(e))+", "+Jr.transform(tf(n))+", "+tf(Lf.transform(r))+")"},sn={test:t=>Rs.test(t)||Nw.test(t)||ou.test(t),parse:t=>Rs.test(t)?Rs.parse(t):ou.test(t)?ou.parse(t):Nw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Rs.transform(t):ou.transform(t)},h7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(gx))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(h7))===null||n===void 0?void 0:n.length)||0)>0}const n$="number",r$="color",p7="var",m7="var(",KI="${}",g7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(g7,u=>(sn.test(u)?(r.color.push(o),i.push(r$),n.push(sn.parse(u))):u.startsWith(m7)?(r.var.push(o),i.push(p7),n.push(u)):(r.number.push(o),i.push(n$),n.push(parseFloat(u))),++o,KI)).split(KI);return{values:n,split:a,indexes:r,types:i}}function i$(t){return Bf(t).values}function o$(t){const{split:e,types:n}=Bf(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===n$?o+=tf(i[s]):a===r$?o+=sn.transform(i[s]):o+=i[s]}return o}}const y7=t=>typeof t=="number"?0:t;function v7(t){const e=i$(t);return o$(t)(e.map(y7))}const jo={test:d7,parse:i$,createTransformer:o$,getAnimatableNone:v7},_7=new Set(["brightness","contrast","saturate","opacity"]);function w7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gx)||[];if(!r)return t;const i=n.replace(r,"");let o=_7.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const b7=/\b([a-z-]*)\(.*?\)/gu,Vw={...jo,getAnimatableNone:t=>{const e=t.match(b7);return e?e.map(w7).join(" "):t}},T7={...tx,color:sn,backgroundColor:sn,outlineColor:sn,fill:sn,stroke:sn,borderColor:sn,borderTopColor:sn,borderRightColor:sn,borderBottomColor:sn,borderLeftColor:sn,filter:Vw,WebkitFilter:Vw},vx=t=>T7[t];function s$(t,e){let n=vx(t);return n!==Vw&&(n=jo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x7=new Set(["auto","none","0"]);function E7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!x7.has(o)&&Bf(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=s$(n,i)}const YI=t=>t===Al||t===fe,XI=(t,e)=>parseFloat(t.split(", ")[e]),QI=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return XI(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?XI(o[1],t):0}},S7=new Set(["x","y","z"]),A7=Sl.filter(t=>!S7.has(t));function I7(t){const e=[];return A7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ju={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:QI(4,13),y:QI(5,14)};ju.translateX=ju.x;ju.translateY=ju.y;const Fs=new Set;let $w=!1,jw=!1;function a$(){if(jw){const t=Array.from(Fs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=I7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jw=!1,$w=!1,Fs.forEach(t=>t.complete()),Fs.clear()}function u$(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(jw=!0)})}function P7(){u$(),a$()}class _x{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fs.add(this),$w||($w=!0,et.read(u$),et.resolveKeyframes(a$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const u=r.readValue(n,a);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Fs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const l$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),O7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function C7(t){const e=O7.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function c$(t,e,n=1){const[r,i]=C7(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return l$(s)?parseFloat(s):s}return ex(i)?c$(i,e,n+1):i}const f$=t=>e=>e.test(t),R7={test:t=>t==="auto",parse:t=>t},h$=[Al,fe,Jr,so,wU,_U,R7],JI=t=>h$.find(f$(t));class d$ extends _x{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let l=e[u];if(typeof l=="string"&&(l=l.trim(),ex(l))){const c=c$(l,n.current);c!==void 0&&(e[u]=c),u===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!zV.has(r)||e.length!==2)return;const[i,o]=e,s=JI(i),a=JI(o);if(s!==a)if(YI(s)&&YI(a))for(let u=0;u<e.length;u++){const l=e[u];typeof l=="string"&&(e[u]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)a7(e[i])&&r.push(i);r.length&&E7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ju[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=ju[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([u,l])=>{n.getValue(u).set(l)}),this.resolveNoneKeyframes()}}const ZI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(jo.test(t)||t==="0")&&!t.startsWith("url("));function k7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function D7(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=ZI(i,e),a=ZI(o,e);return!s||!a?!1:k7(t)||(n==="spring"||ux(n))&&r}const M7=t=>t!==null;function vy(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(M7),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const N7=40;class p${constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Zr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>N7?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&P7(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Zr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:u,isGenerator:l}=this.options;if(!l&&!D7(e,r,i,o))if(s)this.options.duration=0;else{u&&u(vy(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,n);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...c},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const lt=(t,e,n)=>t+(e-t)*n;function M0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function V7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;i=M0(u,a,t+1/3),o=M0(u,a,t),s=M0(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function Em(t,e){return n=>n>0?e:t}const N0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},$7=[Nw,Rs,ou],j7=t=>$7.find(e=>e.test(t));function eP(t){const e=j7(t);if(!e)return!1;let n=e.parse(t);return e===ou&&(n=V7(n)),n}const tP=(t,e)=>{const n=eP(t),r=eP(e);if(!n||!r)return Em(t,e);const i={...n};return o=>(i.red=N0(n.red,r.red,o),i.green=N0(n.green,r.green,o),i.blue=N0(n.blue,r.blue,o),i.alpha=lt(n.alpha,r.alpha,o),Rs.transform(i))},L7=(t,e)=>n=>e(t(n)),qh=(...t)=>t.reduce(L7),Lw=new Set(["none","hidden"]);function F7(t,e){return Lw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function B7(t,e){return n=>lt(t,e,n)}function wx(t){return typeof t=="number"?B7:typeof t=="string"?ex(t)?Em:sn.test(t)?tP:W7:Array.isArray(t)?m$:typeof t=="object"?sn.test(t)?tP:U7:Em}function m$(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>wx(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function U7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=wx(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function z7(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],u=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=u,i[s]++}return r}const W7=(t,e)=>{const n=jo.createTransformer(e),r=Bf(t),i=Bf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lw.has(t)&&!i.values.length||Lw.has(e)&&!r.values.length?F7(t,e):qh(m$(z7(r,i),i.values),n):Em(t,e)};function g$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lt(t,e,n):wx(t)(t,e)}const H7=5;function y$(t,e,n){const r=Math.max(e-H7,0);return WV(n-t(r),e-r)}const mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},V0=.001;function q7({duration:t=mt.duration,bounce:e=mt.bounce,velocity:n=mt.velocity,mass:r=mt.mass}){let i,o,s=1-e;s=Di(mt.minDamping,mt.maxDamping,s),t=Di(mt.minDuration,mt.maxDuration,Si(t)),s<1?(i=l=>{const c=l*s,f=c*t,d=c-n,p=Fw(l,s),g=Math.exp(-f);return V0-d/p*g},o=l=>{const f=l*s*t,d=f*n+n,p=Math.pow(s,2)*Math.pow(l,2)*t,g=Math.exp(-f),m=Fw(Math.pow(l,2),s);return(-i(l)+V0>0?-1:1)*((d-p)*g)/m}):(i=l=>{const c=Math.exp(-l*t),f=(l-n)*t+1;return-V0+c*f},o=l=>{const c=Math.exp(-l*t),f=(n-l)*(t*t);return c*f});const a=5/t,u=K7(i,o,a);if(t=Ei(t),isNaN(u))return{stiffness:mt.stiffness,damping:mt.damping,duration:t};{const l=Math.pow(u,2)*r;return{stiffness:l,damping:s*2*Math.sqrt(r*l),duration:t}}}const G7=12;function K7(t,e,n){let r=n;for(let i=1;i<G7;i++)r=r-t(r)/e(r);return r}function Fw(t,e){return t*Math.sqrt(1-e*e)}const Y7=["duration","bounce"],X7=["stiffness","damping","mass"];function nP(t,e){return e.some(n=>t[n]!==void 0)}function Q7(t){let e={velocity:mt.velocity,stiffness:mt.stiffness,damping:mt.damping,mass:mt.mass,isResolvedFromDuration:!1,...t};if(!nP(t,X7)&&nP(t,Y7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Di(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:mt.mass,stiffness:i,damping:o}}else{const n=q7(t);e={...e,...n,mass:mt.mass},e.isResolvedFromDuration=!0}return e}function v$(t=mt.visualDuration,e=mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:u,damping:l,mass:c,duration:f,velocity:d,isResolvedFromDuration:p}=Q7({...n,velocity:-Si(n.velocity||0)}),g=d||0,m=l/(2*Math.sqrt(u*c)),b=s-o,y=Si(Math.sqrt(u/c)),_=Math.abs(b)<5;r||(r=_?mt.restSpeed.granular:mt.restSpeed.default),i||(i=_?mt.restDelta.granular:mt.restDelta.default);let E;if(m<1){const x=Fw(y,m);E=S=>{const w=Math.exp(-m*y*S);return s-w*((g+m*y*b)/x*Math.sin(x*S)+b*Math.cos(x*S))}}else if(m===1)E=x=>s-Math.exp(-y*x)*(b+(g+y*b)*x);else{const x=y*Math.sqrt(m*m-1);E=S=>{const w=Math.exp(-m*y*S),T=Math.min(x*S,300);return s-w*((g+m*y*b)*Math.sinh(T)+x*b*Math.cosh(T))/x}}const P={calculatedDuration:p&&f||null,next:x=>{const S=E(x);if(p)a.done=x>=f;else{let w=0;m<1&&(w=x===0?Ei(g):y$(E,x,S));const T=Math.abs(w)<=r,I=Math.abs(s-S)<=i;a.done=T&&I}return a.value=a.done?s:S,a},toString:()=>{const x=Math.min(VV(P),kw),S=$V(w=>P.next(x*w).value,x,30);return x+"ms "+S}};return P}function rP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:u,restDelta:l=.5,restSpeed:c}){const f=t[0],d={done:!1,value:f},p=T=>a!==void 0&&T<a||u!==void 0&&T>u,g=T=>a===void 0?u:u===void 0||Math.abs(a-T)<Math.abs(u-T)?a:u;let m=n*e;const b=f+m,y=s===void 0?b:s(b);y!==b&&(m=y-f);const _=T=>-m*Math.exp(-T/r),E=T=>y+_(T),P=T=>{const I=_(T),O=E(T);d.done=Math.abs(I)<=l,d.value=d.done?y:O};let x,S;const w=T=>{p(d.value)&&(x=T,S=v$({keyframes:[d.value,g(d.value)],velocity:y$(E,T,d.value),damping:i,stiffness:o,restDelta:l,restSpeed:c}))};return w(0),{calculatedDuration:null,next:T=>{let I=!1;return!S&&x===void 0&&(I=!0,P(T),w(T)),x!==void 0&&T>=x?S.next(T-x):(!I&&P(T),d)}}}const J7=Hh(.42,0,1,1),Z7=Hh(0,0,.58,1),_$=Hh(.42,0,.58,1),ez=t=>Array.isArray(t)&&typeof t[0]!="number",tz={linear:Bn,easeIn:J7,easeInOut:_$,easeOut:Z7,circIn:mx,circInOut:ZV,circOut:JV,backIn:px,backInOut:XV,backOut:YV,anticipate:QV},iP=t=>{if(lx(t)){gV(t.length===4);const[e,n,r,i]=t;return Hh(e,n,r,i)}else if(typeof t=="string")return tz[t];return t};function nz(t,e,n){const r=[],i=n||g$,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const u=Array.isArray(e)?e[s]||Bn:e;a=qh(u,a)}r.push(a)}return r}function rz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(gV(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=nz(e,r,i),u=a.length,l=c=>{if(s&&c<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=Vu(t[f],t[f+1],c);return a[f](d)};return n?c=>l(Di(t[0],t[o-1],c)):l}function iz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Vu(0,e,r);t.push(lt(n,1,i))}}function oz(t){const e=[0];return iz(e,t.length-1),e}function sz(t,e){return t.map(n=>n*e)}function az(t,e){return t.map(()=>e||_$).splice(0,t.length-1)}function Sm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=ez(r)?r.map(iP):iP(r),o={done:!1,value:e[0]},s=sz(n&&n.length===e.length?n:oz(e),t),a=rz(s,e,{ease:Array.isArray(i)?i:az(e,i)});return{calculatedDuration:t,next:u=>(o.value=a(u),o.done=u>=t,o)}}const uz=t=>{const e=({timestamp:n})=>t(n);return{start:()=>et.update(e,!0),stop:()=>$o(e),now:()=>Yt.isProcessing?Yt.timestamp:Zr.now()}},lz={decay:rP,inertia:rP,tween:Sm,keyframes:Sm,spring:v$},cz=t=>t/100;class bx extends p${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||_x,a=(u,l)=>this.onKeyframesResolved(u,l);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=ux(n)?n:lz[n]||Sm;let u,l;a!==Sm&&typeof e[0]!="number"&&(u=qh(cz,g$(e[0],e[1])),e=[0,100]);const c=a({...this.options,keyframes:e});o==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=VV(c));const{calculatedDuration:f}=c,d=f+i,p=d*(r+1)-i;return{generator:c,mirroredGenerator:l,mapPercentToKeyframes:u,calculatedDuration:f,resolvedDuration:d,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:u,calculatedDuration:l,totalDuration:c,resolvedDuration:f}=r;if(this.startTime===null)return o.next(0);const{delay:d,repeat:p,repeatType:g,repeatDelay:m,onUpdate:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-d*(this.speed>=0?1:-1),_=this.speed>=0?y<0:y>c;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let E=this.currentTime,P=o;if(p){const T=Math.min(this.currentTime,c)/f;let I=Math.floor(T),O=T%1;!O&&T>=1&&(O=1),O===1&&I--,I=Math.min(I,p+1),!!(I%2)&&(g==="reverse"?(O=1-O,m&&(O-=m/f)):g==="mirror"&&(P=s)),E=Di(0,1,O)*f}const x=_?{done:!1,value:u[0]}:P.next(E);a&&(x.value=a(x.value));let{done:S}=x;!_&&l!==null&&(S=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const w=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return w&&i!==void 0&&(x.value=vy(u,this.options,i)),b&&b(x.value),w&&this.finish(),x}get duration(){const{resolved:e}=this;return e?Si(e.calculatedDuration):0}get time(){return Si(this.currentTime)}set time(e){e=Ei(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Si(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=uz,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fz=new Set(["opacity","clipPath","filter","transform"]);function hz(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:u}={}){const l={[e]:n};u&&(l.offset=u);const c=LV(a,i);return Array.isArray(c)&&(l.easing=c),t.animate(l,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const dz=GT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Am=10,pz=2e4;function mz(t){return ux(t.type)||t.type==="spring"||!jV(t.ease)}function gz(t,e){const n=new bx({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<pz;)r=n.sample(o),i.push(r.value),o+=Am;return{times:void 0,keyframes:i,duration:o-Am,ease:"linear"}}const w$={anticipate:QV,backInOut:XV,circInOut:ZV};function yz(t){return t in w$}class oP extends p${constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new d$(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:u,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&xm()&&yz(o)&&(o=w$[o]),mz(this.options)){const{onComplete:f,onUpdate:d,motionValue:p,element:g,...m}=this.options,b=gz(e,m);e=b.keyframes,e.length===1&&(e[1]=e[0]),r=b.duration,i=b.times,o=b.ease,s="keyframes"}const c=hz(a.owner.current,u,e,{...this.options,duration:r,times:i,ease:o});return c.startTime=l??this.calcStartTime(),this.pendingTimeline?(zI(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;a.set(vy(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Si(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Si(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ei(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Bn;const{animation:r}=n;zI(r,e)}return Bn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:c,onComplete:f,element:d,...p}=this.options,g=new bx({...p,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),m=Ei(this.time);l.setWithVelocity(g.sample(m-Am).value,g.sample(m).value,Am)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:l}=n.owner.getProps();return dz()&&r&&fz.has(r)&&!u&&!l&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const vz={type:"spring",stiffness:500,damping:25,restSpeed:10},_z=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),wz={type:"keyframes",duration:.8},bz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Tz=(t,{keyframes:e})=>e.length>2?wz:ga.has(t)?t.startsWith("scale")?_z(e[1]):vz:bz;function xz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:u,elapsed:l,...c}){return!!Object.keys(c).length}const Tx=(t,e,n,r={},i,o)=>s=>{const a=ax(r,t)||{},u=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Ei(u);let c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:d=>{e.set(d),a.onUpdate&&a.onUpdate(d)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};xz(a)||(c={...c,...Tz(t,c)}),c.duration&&(c.duration=Ei(c.duration)),c.repeatDelay&&(c.repeatDelay=Ei(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!o&&e.get()!==void 0){const d=vy(c.keyframes,a);if(d!==void 0)return et.update(()=>{c.onUpdate(d),c.onComplete()}),new UU([])}return!o&&oP.supports(c)?new oP(c):new bx(c)};function Ez({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function b$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...u}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in u){const d=t.getValue(f,(o=t.latestValues[f])!==null&&o!==void 0?o:null),p=u[f];if(p===void 0||c&&Ez(c,f))continue;const g={delay:n,...ax(s||{},f)};let m=!1;if(window.MotionHandoffAnimation){const y=HV(t);if(y){const _=window.MotionHandoffAnimation(y,f,et);_!==null&&(g.startTime=_,m=!0)}}Mw(t,f),d.start(Tx(f,d,p,t.shouldReduceMotion&&zV.has(f)?{type:!1}:g,t,m));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{et.update(()=>{a&&n7(t,a)})}),l}function Bw(t,e,n={}){var r;const i=yy(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(b$(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return Sz(t,e,c+l,f,d,n)}:()=>Promise.resolve(),{when:u}=o;if(u){const[l,c]=u==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function Sz(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,u=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(Az).forEach((l,c)=>{l.notify("AnimationStart",e),s.push(Bw(l,e,{...o,delay:n+u(c)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(s)}function Az(t,e){return t.sortNodePosition(e)}function Iz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Bw(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Bw(t,e,n);else{const i=typeof e=="function"?yy(t,e,n.custom):e;r=Promise.all(b$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Pz=YT.length;function T$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?T$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Pz;n++){const r=YT[n],i=t.props[r];(jf(i)||i===!1)&&(e[r]=i)}return e}const Oz=[...KT].reverse(),Cz=KT.length;function Rz(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Iz(t,n,r)))}function kz(t){let e=Rz(t),n=sP(),r=!0;const i=u=>(l,c)=>{var f;const d=yy(t,c,u==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:g,...m}=d;l={...l,...m,...g}}return l};function o(u){e=u(t)}function s(u){const{props:l}=t,c=T$(t.parent)||{},f=[],d=new Set;let p={},g=1/0;for(let b=0;b<Cz;b++){const y=Oz[b],_=n[y],E=l[y]!==void 0?l[y]:c[y],P=jf(E),x=y===u?_.isActive:null;x===!1&&(g=b);let S=E===c[y]&&E!==l[y]&&P;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),_.protectedKeys={...p},!_.isActive&&x===null||!E&&!_.prevProp||my(E)||typeof E=="boolean")continue;const w=Dz(_.prevProp,E);let T=w||y===u&&_.isActive&&!S&&P||b>g&&P,I=!1;const O=Array.isArray(E)?E:[E];let k=O.reduce(i(y),{});x===!1&&(k={});const{prevResolvedValues:C={}}=_,R={...C,...k},U=q=>{T=!0,d.has(q)&&(I=!0,d.delete(q)),_.needsAnimating[q]=!0;const L=t.getValue(q);L&&(L.liveStyle=!1)};for(const q in R){const L=k[q],H=C[q];if(p.hasOwnProperty(q))continue;let G=!1;Rw(L)&&Rw(H)?G=!NV(L,H):G=L!==H,G?L!=null?U(q):d.add(q):L!==void 0&&d.has(q)?U(q):_.protectedKeys[q]=!0}_.prevProp=E,_.prevResolvedValues=k,_.isActive&&(p={...p,...k}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(S&&w)||I)&&f.push(...O.map(q=>({animation:q,options:{type:y}})))}if(d.size){const b={};d.forEach(y=>{const _=t.getBaseTarget(y),E=t.getValue(y);E&&(E.liveStyle=!0),b[y]=_??null}),f.push({animation:b})}let m=!!f.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(f):Promise.resolve()}function a(u,l){var c;if(n[u].isActive===l)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(u,l)}),n[u].isActive=l;const f=s(u);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=sP(),r=!0}}}function Dz(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NV(e,t):!1}function as(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function sP(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class Ko{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Mz extends Ko{constructor(e){super(e),e.animationState||(e.animationState=kz(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();my(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Nz=0;class Vz extends Ko{constructor(){super(...arguments),this.id=Nz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const $z={animation:{Feature:Mz},exit:{Feature:Vz}};function Uf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Gh(t){return{point:{x:t.pageX,y:t.pageY}}}const jz=t=>e=>cx(e)&&t(e,Gh(e));function nf(t,e,n,r){return Uf(t,e,jz(n),r)}const aP=(t,e)=>Math.abs(t-e);function Lz(t,e){const n=aP(t.x,e.x),r=aP(t.y,e.y);return Math.sqrt(n**2+r**2)}class x${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=j0(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=Lz(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:g}=f,{timestamp:m}=Yt;this.history.push({...g,timestamp:m});const{onStart:b,onMove:y}=this.handlers;d||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=$0(d,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=j0(f.type==="pointercancel"?this.lastMoveEventInfo:$0(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,b),g&&g(f,b)},!cx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Gh(e),a=$0(s,this.transformPagePoint),{point:u}=a,{timestamp:l}=Yt;this.history=[{...u,timestamp:l}];const{onSessionStart:c}=n;c&&c(e,j0(a,this.history)),this.removeListeners=qh(nf(this.contextWindow,"pointermove",this.handlePointerMove),nf(this.contextWindow,"pointerup",this.handlePointerUp),nf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),$o(this.updatePoint)}}function $0(t,e){return e?{point:e(t.point)}:t}function uP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function j0({point:t},e){return{point:t,delta:uP(t,E$(e)),offset:uP(t,Fz(e)),velocity:Bz(e,.1)}}function Fz(t){return t[0]}function E$(t){return t[t.length-1]}function Bz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=E$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ei(e)));)n--;if(!r)return{x:0,y:0};const o=Si(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}const S$=1e-4,Uz=1-S$,zz=1+S$,A$=.01,Wz=0-A$,Hz=0+A$;function Hn(t){return t.max-t.min}function qz(t,e,n){return Math.abs(t-e)<=n}function lP(t,e,n,r=.5){t.origin=r,t.originPoint=lt(e.min,e.max,t.origin),t.scale=Hn(n)/Hn(e),t.translate=lt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Uz&&t.scale<=zz||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wz&&t.translate<=Hz||isNaN(t.translate))&&(t.translate=0)}function rf(t,e,n,r){lP(t.x,e.x,n.x,r?r.originX:void 0),lP(t.y,e.y,n.y,r?r.originY:void 0)}function cP(t,e,n){t.min=n.min+e.min,t.max=t.min+Hn(e)}function Gz(t,e,n){cP(t.x,e.x,n.x),cP(t.y,e.y,n.y)}function fP(t,e,n){t.min=e.min-n.min,t.max=t.min+Hn(e)}function of(t,e,n){fP(t.x,e.x,n.x),fP(t.y,e.y,n.y)}function Kz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lt(n,t,r.max):Math.min(t,n)),t}function hP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yz(t,{top:e,left:n,bottom:r,right:i}){return{x:hP(t.x,n,i),y:hP(t.y,e,r)}}function dP(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Xz(t,e){return{x:dP(t.x,e.x),y:dP(t.y,e.y)}}function Qz(t,e){let n=.5;const r=Hn(t),i=Hn(e);return i>r?n=Vu(e.min,e.max-r,t.min):r>i&&(n=Vu(t.min,t.max-i,e.min)),Di(0,1,n)}function Jz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Uw=.35;function Zz(t=Uw){return t===!1?t=0:t===!0&&(t=Uw),{x:pP(t,"left","right"),y:pP(t,"top","bottom")}}function pP(t,e,n){return{min:mP(t,e),max:mP(t,n)}}function mP(t,e){return typeof t=="number"?t:t[e]||0}const gP=()=>({translate:0,scale:1,origin:0,originPoint:0}),su=()=>({x:gP(),y:gP()}),yP=()=>({min:0,max:0}),bt=()=>({x:yP(),y:yP()});function er(t){return[t("x"),t("y")]}function I$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function L0(t){return t===void 0||t===1}function zw({scale:t,scaleX:e,scaleY:n}){return!L0(t)||!L0(e)||!L0(n)}function ps(t){return zw(t)||P$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function P$(t){return vP(t.x)||vP(t.y)}function vP(t){return t&&t!=="0%"}function Im(t,e,n){const r=t-n,i=e*r;return n+i}function _P(t,e,n,r,i){return i!==void 0&&(t=Im(t,i,r)),Im(t,n,r)+e}function Ww(t,e=0,n=1,r,i){t.min=_P(t.min,e,n,r,i),t.max=_P(t.max,e,n,r,i)}function O$(t,{x:e,y:n}){Ww(t.x,e.translate,e.scale,e.originPoint),Ww(t.y,n.translate,n.scale,n.originPoint)}const wP=.999999999999,bP=1.0000000000001;function nW(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:u}=o.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&uu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,O$(t,s)),r&&ps(o.latestValues)&&uu(t,o.latestValues))}e.x<bP&&e.x>wP&&(e.x=1),e.y<bP&&e.y>wP&&(e.y=1)}function au(t,e){t.min=t.min+e,t.max=t.max+e}function TP(t,e,n,r,i=.5){const o=lt(t.min,t.max,i);Ww(t,e,n,o,r)}function uu(t,e){TP(t.x,e.x,e.scaleX,e.scale,e.originX),TP(t.y,e.y,e.scaleY,e.scale,e.originY)}function C$(t,e){return I$(tW(t.getBoundingClientRect(),e))}function rW(t,e,n){const r=C$(t,n),{scroll:i}=e;return i&&(au(r.x,i.offset.x),au(r.y,i.offset.y)),r}const R$=({current:t})=>t?t.ownerDocument.defaultView:null,iW=new WeakMap;class oW{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gh(c).point)},o=(c,f)=>{const{drag:d,dragPropagation:p,onDragStart:g}=this.getProps();if(d&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QU(d),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),er(b=>{let y=this.getAxisMotionValue(b).get()||0;if(Jr.test(y)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[b];E&&(y=Hn(E)*(parseFloat(y)/100))}}this.originPoint[b]=y}),g&&et.postRender(()=>g(c,f)),Mw(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:g,onDrag:m}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:b}=f;if(p&&this.currentDirection===null){this.currentDirection=sW(b),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),m&&m(c,f)},a=(c,f)=>this.stop(c,f),u=()=>er(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new x$(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:R$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&et.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Gd(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=Kz(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&iu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Yz(i.layoutBox,n):this.constraints=!1,this.elastic=Zz(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&er(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Jz(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!iu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=rW(r,i.root,this.visualElement.getTransformPagePoint());let s=Xz(i.layout.layoutBox,o);if(n){const a=n(eW(s));this.hasMutatedConstraints=!!a,a&&(s=I$(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},l=er(c=>{if(!Gd(c,n,this.currentDirection))return;let f=u&&u[c]||{};s&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(c,g)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Mw(this.visualElement,e),r.start(Tx(e,r,0,n,this.visualElement,!1))}stopAnimation(){er(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){er(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){er(n=>{const{drag:r}=this.getProps();if(!Gd(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-lt(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!iu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};er(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const u=a.get();i[s]=Qz({min:u,max:u},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),er(s=>{if(!Gd(s,e,null))return;const a=this.getAxisMotionValue(s),{min:u,max:l}=this.constraints[s];a.set(lt(u,l,i[s]))})}addListeners(){if(!this.visualElement.current)return;iW.set(this.visualElement,this);const e=this.visualElement.current,n=nf(e,"pointerdown",u=>{const{drag:l,dragListener:c=!0}=this.getProps();l&&c&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();iu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);const s=Uf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:l})=>{this.isDragging&&l&&(er(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=u[c].translate,f.set(f.get()+u[c].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=Uw,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function Gd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function sW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class aW extends Ko{constructor(e){super(e),this.removeGroupControls=Bn,this.removeListeners=Bn,this.controls=new oW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Bn}unmount(){this.removeGroupControls(),this.removeListeners()}}const xP=t=>(e,n)=>{t&&et.postRender(()=>t(e,n))};class uW extends Ko{constructor(){super(...arguments),this.removePointerDownListener=Bn}onPointerDown(e){this.session=new x$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:R$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:xP(e),onStart:xP(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&et.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=nf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fe.test(t))t=parseFloat(t);else return t;const n=EP(t,e.target.x),r=EP(t,e.target.y);return`${n}% ${r}%`}},lW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=jo.parse(t);if(i.length>5)return r;const o=jo.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=u;const l=lt(a,u,.5);return typeof i[2+s]=="number"&&(i[2+s]/=l),typeof i[3+s]=="number"&&(i[3+s]/=l),o(i)}};class cW extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;CU(fW),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||et.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),QT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function k$(t){const[e,n]=dV(),r=j.useContext(zT);return M.jsx(cW,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(TV),isPresent:e,safeToRemove:n})}const fW={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:lW};function hW(t,e,n){const r=ln(t)?t:Ff(t);return r.start(Tx("",r,e,n)),r.animation}function dW(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pW=(t,e)=>t.depth-e.depth;class mW{constructor(){this.children=[],this.isDirty=!1}add(e){fx(this.children,e),this.isDirty=!0}remove(e){hx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pW),this.isDirty=!1,this.children.forEach(e)}}function gW(t,e){const n=Zr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&($o(r),t(o-e))};return et.read(r,!0),()=>$o(r)}const D$=["TopLeft","TopRight","BottomLeft","BottomRight"],yW=D$.length,SP=t=>typeof t=="string"?parseFloat(t):t,AP=t=>typeof t=="number"||fe.test(t);function vW(t,e,n,r,i,o){i?(t.opacity=lt(0,n.opacity!==void 0?n.opacity:1,_W(r)),t.opacityExit=lt(e.opacity!==void 0?e.opacity:1,0,wW(r))):o&&(t.opacity=lt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<yW;s++){const a=`border${D$[s]}Radius`;let u=IP(e,a),l=IP(n,a);if(u===void 0&&l===void 0)continue;u||(u=0),l||(l=0),u===0||l===0||AP(u)===AP(l)?(t[a]=Math.max(lt(SP(u),SP(l),r),0),(Jr.test(l)||Jr.test(u))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=lt(e.rotate||0,n.rotate||0,r))}function IP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _W=M$(0,.5,JV),wW=M$(.5,.95,Bn);function M$(t,e,n){return r=>r<t?0:r>e?1:n(Vu(t,e,r))}function PP(t,e){t.min=e.min,t.max=e.max}function Xn(t,e){PP(t.x,e.x),PP(t.y,e.y)}function OP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function CP(t,e,n,r,i){return t-=e,t=Im(t,1/n,r),i!==void 0&&(t=Im(t,1/i,r)),t}function bW(t,e=0,n=1,r=.5,i,o=t,s=t){if(Jr.test(e)&&(e=parseFloat(e),e=lt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=lt(o.min,o.max,r);t===o&&(a-=e),t.min=CP(t.min,e,n,a,i),t.max=CP(t.max,e,n,a,i)}function RP(t,e,[n,r,i],o,s){bW(t,e[n],e[r],e[i],e.scale,o,s)}const TW=["x","scaleX","originX"],xW=["y","scaleY","originY"];function kP(t,e,n,r){RP(t.x,e,TW,n?n.x:void 0,r?r.x:void 0),RP(t.y,e,xW,n?n.y:void 0,r?r.y:void 0)}function DP(t){return t.translate===0&&t.scale===1}function N$(t){return DP(t.x)&&DP(t.y)}function MP(t,e){return t.min===e.min&&t.max===e.max}function EW(t,e){return MP(t.x,e.x)&&MP(t.y,e.y)}function NP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function V$(t,e){return NP(t.x,e.x)&&NP(t.y,e.y)}function VP(t){return Hn(t.x)/Hn(t.y)}function $P(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class SW{constructor(){this.members=[]}add(e){fx(this.members,e),e.scheduleRender()}remove(e){if(hx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AW(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:c,rotateX:f,rotateY:d,skewX:p,skewY:g}=n;l&&(r=`perspective(${l}px) ${r}`),c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),d&&(r+=`rotateY(${d}deg) `),p&&(r+=`skewX(${p}deg) `),g&&(r+=`skewY(${g}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const ms={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},jc=typeof window<"u"&&window.MotionDebug!==void 0,F0=["","X","Y","Z"],IW={visibility:"hidden"},jP=1e3;let PW=0;function B0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function $$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=HV(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",et,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&$$(r)}function j$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=PW++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,jc&&(ms.totalNodes=ms.resolvedTargetDeltas=ms.recalculatedProjection=0),this.nodes.forEach(RW),this.nodes.forEach(VW),this.nodes.forEach($W),this.nodes.forEach(kW),jc&&window.MotionDebug.record(ms)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new mW)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new dx),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const u=this.eventHandlers.get(s);u&&u.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=dW(s),this.instance=s;const{layoutId:u,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||u)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=gW(d,250),kp.hasAnimatedSinceResize&&(kp.hasAnimatedSinceResize=!1,this.nodes.forEach(FP))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&c&&(u||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||UW,{onLayoutAnimationStart:b,onLayoutAnimationComplete:y}=c.getProps(),_=!this.targetLayout||!V$(this.targetLayout,g)||p,E=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const P={...ax(m,"layout"),onPlay:b,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else d||FP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,$o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jW),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LP);return}this.isUpdating||this.nodes.forEach(MW),this.isUpdating=!1,this.nodes.forEach(NW),this.nodes.forEach(OW),this.nodes.forEach(CW),this.clearAllSnapshots();const a=Zr.now();Yt.delta=Di(0,1e3/60,a-Yt.timestamp),Yt.timestamp=a,Yt.isProcessing=!0,R0.update.process(Yt),R0.preRender.process(Yt),R0.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,QT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DW),this.sharedNodes.forEach(LW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!N$(this.projectionDelta),u=this.getTransformTemplate(),l=u?u(this.latestValues,""):void 0,c=l!==this.prevTransformTemplateValue;s&&(a||ps(this.latestValues)||c)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return s&&(u=this.removeTransform(u)),zW(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return bt();const u=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(WW))){const{scroll:c}=this.root;c&&(au(u.x,c.offset.x),au(u.y,c.offset.y))}return u}removeElementScroll(s){var a;const u=bt();if(Xn(u,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return u;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:f,options:d}=c;c!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&Xn(u,s),au(u.x,f.offset.x),au(u.y,f.offset.y))}return u}applyTransform(s,a=!1){const u=bt();Xn(u,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&uu(u,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ps(c.latestValues)&&uu(u,c.latestValues)}return ps(this.latestValues)&&uu(u,this.latestValues),u}removeTransform(s){const a=bt();Xn(a,s);for(let u=0;u<this.path.length;u++){const l=this.path[u];if(!l.instance||!ps(l.latestValues))continue;zw(l.latestValues)&&l.updateSnapshot();const c=bt(),f=l.measurePageBox();Xn(c,f),kP(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,c)}return ps(this.latestValues)&&kP(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==u;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),of(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=bt(),this.targetWithTransforms=bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gz(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xn(this.target,this.layout.layoutBox),O$(this.target,this.targetDelta)):Xn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bt(),this.relativeTargetOrigin=bt(),of(this.relativeTargetOrigin,this.target,p.target),Xn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}jc&&ms.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||zw(this.parent.latestValues)||P$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),u=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Xn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;nW(this.layoutCorrected,this.treeScale,this.path,u),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bt());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(OP(this.prevProjectionDelta.x,this.projectionDelta.x),OP(this.prevProjectionDelta.y,this.projectionDelta.y)),rf(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!$P(this.projectionDelta.x,this.prevProjectionDelta.x)||!$P(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),jc&&ms.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=su(),this.projectionDelta=su(),this.projectionDeltaWithTransform=su()}setAnimationOrigin(s,a=!1){const u=this.snapshot,l=u?u.latestValues:{},c={...this.latestValues},f=su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=bt(),p=u?u.source:void 0,g=this.layout?this.layout.source:void 0,m=p!==g,b=this.getStack(),y=!b||b.members.length<=1,_=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(BW));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const x=P/1e3;BP(f.x,s.x,x),BP(f.y,s.y,x),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(of(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FW(this.relativeTarget,this.relativeTargetOrigin,d,x),E&&EW(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=bt()),Xn(E,this.relativeTarget)),m&&(this.animationValues=c,vW(c,l,this.latestValues,x,_,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&($o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{kp.hasAnimatedSinceResize=!0,this.currentAnimation=hW(0,jP,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:u,layout:l,latestValues:c}=s;if(!(!a||!u||!l)){if(this!==s&&this.layout&&l&&L$(this.options.animationType,this.layout.layoutBox,l.layoutBox)){u=this.target||bt();const f=Hn(this.layout.layoutBox.x);u.x.min=s.target.x.min,u.x.max=u.x.min+f;const d=Hn(this.layout.layoutBox.y);u.y.min=s.target.y.min,u.y.max=u.y.min+d}Xn(a,u),uu(a,c),rf(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new SW),this.sharedNodes.get(s).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:u}={}){const l=this.getStack();l&&l.promote(this,u),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:u}=s;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const l={};u.z&&B0("z",s,l,this.animationValues);for(let c=0;c<F0.length;c++)B0(`rotate${F0[c]}`,s,l,this.animationValues),B0(`skew${F0[c]}`,s,l,this.animationValues);s.render();for(const c in l)s.setStaticValue(c,l[c]),this.animationValues&&(this.animationValues[c]=l[c]);s.scheduleRender()}getProjectionStyles(s){var a,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return IW;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Cp(s==null?void 0:s.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Cp(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ps(this.latestValues)&&(m.transform=c?c({},""):"none",this.hasProjected=!1),m}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),l.transform=AW(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,f.animationValues?l.opacity=f===this?(u=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Tm){if(d[m]===void 0)continue;const{correct:b,applyTo:y}=Tm[m],_=l.transform==="none"?d[m]:b(d[m],f);if(y){const E=y.length;for(let P=0;P<E;P++)l[y[P]]=_}else l[m]=_}return this.options.layoutId&&(l.pointerEvents=f===this?Cp(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(LP),this.root.sharedNodes.clear()}}}function OW(t){t.updateLayout()}function CW(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?er(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Hn(d);d.min=r[f].min,d.max=d.min+p}):L$(o,n.layoutBox,r)&&er(f=>{const d=s?n.measuredBox[f]:n.layoutBox[f],p=Hn(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=su();rf(a,r,n.layoutBox);const u=su();s?rf(u,t.applyTransform(i,!0),n.measuredBox):rf(u,r,n.layoutBox);const l=!N$(a);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const g=bt();of(g,n.layoutBox,d.layoutBox);const m=bt();of(m,r,p.layoutBox),V$(g,m)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RW(t){jc&&ms.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DW(t){t.clearSnapshot()}function LP(t){t.clearMeasurements()}function MW(t){t.isLayoutDirty=!1}function NW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function FP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function VW(t){t.resolveTargetDelta()}function $W(t){t.calcProjection()}function jW(t){t.resetSkewAndRotation()}function LW(t){t.removeLeadSnapshot()}function BP(t,e,n){t.translate=lt(e.translate,0,n),t.scale=lt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UP(t,e,n,r){t.min=lt(e.min,n.min,r),t.max=lt(e.max,n.max,r)}function FW(t,e,n,r){UP(t.x,e.x,n.x,r),UP(t.y,e.y,n.y,r)}function BW(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const UW={duration:.45,ease:[.4,0,.1,1]},zP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),WP=zP("applewebkit/")&&!zP("chrome/")?Math.round:Bn;function HP(t){t.min=WP(t.min),t.max=WP(t.max)}function zW(t){HP(t.x),HP(t.y)}function L$(t,e,n){return t==="position"||t==="preserve-aspect"&&!qz(VP(e),VP(n),.2)}function WW(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const HW=j$({attachResizeListener:(t,e)=>Uf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),U0={current:void 0},F$=j$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!U0.current){const t=new HW({});t.mount(window),t.setOptions({layoutScroll:!0}),U0.current=t}return U0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),qW={pan:{Feature:uW},drag:{Feature:aW,ProjectionNode:F$,MeasureLayout:k$}};function qP(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&et.postRender(()=>o(e,Gh(e)))}class GW extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=qU(e,n=>(qP(this.node,n,"Start"),r=>qP(this.node,r,"End"))))}unmount(){}}class KW extends Ko{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qh(Uf(this.node.current,"focus",()=>this.onFocus()),Uf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GP(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&et.postRender(()=>o(e,Gh(e)))}class YW extends Ko{mount(){const{current:e}=this.node;e&&(this.unmount=XU(e,n=>(GP(this.node,n,"Start"),(r,{success:i})=>GP(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hw=new WeakMap,z0=new WeakMap,XW=t=>{const e=Hw.get(t.target);e&&e(t)},QW=t=>{t.forEach(XW)};function JW({root:t,...e}){const n=t||document;z0.has(n)||z0.set(n,{});const r=z0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(QW,{root:t,...e})),r[i]}function ZW(t,e,n){const r=JW(e);return Hw.set(t,n),r.observe(t),()=>{Hw.delete(t),r.unobserve(t)}}const eH={some:0,all:1};class tH extends Ko{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:eH[i]},a=u=>{const{isIntersecting:l}=u;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),d=l?c:f;d&&d(u)};return ZW(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nH(e,n))&&this.startObserver()}unmount(){}}function nH({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const rH={inView:{Feature:tH},tap:{Feature:YW},focus:{Feature:KW},hover:{Feature:GW}},iH={layout:{ProjectionNode:F$,MeasureLayout:k$}},qw={current:null},B$={current:!1};function oH(){if(B$.current=!0,!!qT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>qw.current=t.matches;t.addListener(e),e()}else qw.current=!1}const sH=[...h$,sn,jo],aH=t=>sH.find(f$(t)),KP=new WeakMap;function uH(t,e,n){for(const r in e){const i=e[r],o=n[r];if(ln(i))t.addValue(r,i);else if(ln(o))t.addValue(r,Ff(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,Ff(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const YP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_x,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Zr.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,et.render(this.render,!1,!0))};const{latestValues:u,renderState:l,onUpdate:c}=s;this.onUpdate=c,this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=gy(n),this.isVariantNode=wV(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in d){const g=d[p];u[p]!==void 0&&ln(g)&&g.set(u[p],!1)}}mount(e){this.current=e,KP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),B$.current||oH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:qw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){KP.delete(this.current),this.projection&&this.projection.unmount(),$o(this.notifyUpdate),$o(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ga.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $u){const n=$u[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<YP.length;r++){const i=YP[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=uH(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ff(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(l$(i)||e$(i))?i=parseFloat(i):!aH(i)&&jo.test(n)&&(i=s$(e,n)),this.setBaseTarget(e,ln(i)?i.get():i)),ln(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=ZT(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ln(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new dx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class U$ extends lH{constructor(){super(...arguments),this.KeyframeResolver=d$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function cH(t){return window.getComputedStyle(t)}class fH extends U${constructor(){super(...arguments),this.type="html",this.renderInstance=OV}readValueFromInstance(e,n){if(ga.has(n)){const r=vx(n);return r&&r.default||0}else{const r=cH(e),i=(AV(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return C$(e,n)}build(e,n,r){nx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return sx(e,n,r)}}class hH extends U${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ga.has(n)){const r=vx(n);return r&&r.default||0}return n=CV.has(n)?n:XT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return DV(e,n,r)}build(e,n,r){rx(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){RV(e,n,r,i)}mount(e){this.isSVGTag=ox(e.tagName),super.mount(e)}}const dH=(t,e)=>JT(t)?new hH(e):new fH(e,{allowProjection:t!==j.Fragment}),pH=LU({...$z,...rH,...qW,...iH},dH),Un=eU(pH),mH=({onComplete:t})=>(j.useEffect(()=>{const e=setTimeout(()=>{t()},2500);return()=>clearTimeout(e)},[t]),M.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-gradient-to-br from-emerald-500 to-teal-600 text-white",children:M.jsxs(Un.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"flex flex-col items-center",children:[M.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-lg rounded-3xl flex items-center justify-center shadow-xl border border-white/30 mb-6",children:M.jsx("span",{className:"text-5xl",children:""})}),M.jsx(Un.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.5},className:"text-3xl font-bold tracking-tight",children:"Cedi Tracker"}),M.jsx(Un.p,{initial:{opacity:0},animate:{opacity:.8},transition:{delay:1,duration:.5},className:"mt-2 text-sm font-medium text-emerald-100",children:"Track. Save. Grow."})]})}));var z$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XP=N.createContext&&N.createContext(z$),gH=["attr","size","title"];function yH(t,e){if(t==null)return{};var n=vH(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vH(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function QP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Om(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QP(Object(n),!0).forEach(function(r){_H(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _H(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=bH(t,"string");return typeof e=="symbol"?e:e+""}function bH(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W$(t){return t&&t.map((e,n)=>N.createElement(e.tag,Om({key:n},e.attr),W$(e.child)))}function tn(t){return e=>N.createElement(TH,Pm({attr:Om({},t.attr)},e),W$(t.child))}function TH(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=yH(t,gH),a=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),N.createElement("svg",Pm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:Om(Om({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&N.createElement("title",null,o),t.children)};return XP!==void 0?N.createElement(XP.Consumer,null,n=>e(n)):e(z$)}function xH(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"},child:[]}]})(t)}function H$(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 128h-8V80c0-44.8-99.2-80-224-80S32 35.2 32 80v48h-8c-13.25 0-24 10.74-24 24v80c0 13.25 10.75 24 24 24h8v160c0 17.67 14.33 32 32 32v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h192v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h6.4c16 0 25.6-12.8 25.6-25.6V256h8c13.25 0 24-10.75 24-24v-80c0-13.26-10.75-24-24-24zM112 400c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm16-112c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h256c17.67 0 32 14.33 32 32v128c0 17.67-14.33 32-32 32H128zm272 112c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function EH(t){return tn({attr:{viewBox:"0 0 544 512"},child:[{tag:"path",attr:{d:"M527.79 288H290.5l158.03 158.03c6.04 6.04 15.98 6.53 22.19.68 38.7-36.46 65.32-85.61 73.13-140.86 1.34-9.46-6.51-17.85-16.06-17.85zm-15.83-64.8C503.72 103.74 408.26 8.28 288.8.04 279.68-.59 272 7.1 272 16.24V240h223.77c9.14 0 16.82-7.68 16.19-16.8zM224 288V50.71c0-9.55-8.39-17.4-17.84-16.06C86.99 51.49-4.1 155.6.14 280.37 4.5 408.51 114.83 513.59 243.03 511.98c50.4-.63 96.97-16.87 135.26-44.03 7.9-5.6 8.42-17.23 1.57-24.08L224 288z"},child:[]}]})(t)}function q$(t){return tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M480.07 96H160a160 160 0 1 0 114.24 272h91.52A160 160 0 1 0 480.07 96zM248 268a12 12 0 0 1-12 12h-52v52a12 12 0 0 1-12 12h-24a12 12 0 0 1-12-12v-52H84a12 12 0 0 1-12-12v-24a12 12 0 0 1 12-12h52v-52a12 12 0 0 1 12-12h24a12 12 0 0 1 12 12v52h52a12 12 0 0 1 12 12zm216 76a40 40 0 1 1 40-40 40 40 0 0 1-40 40zm64-96a40 40 0 1 1 40-40 40 40 0 0 1-40 40z"},child:[]}]})(t)}function SH(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(t)}function AH(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function G$(t){return tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(t)}function K$(t){return tn({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 224h-29.5c-8.8-20-21.6-37.7-37.4-52.5L512 96h-32c-29.4 0-55.4 13.5-73 34.3-7.6-1.1-15.1-2.3-23-2.3H256c-77.4 0-141.9 55-156.8 128H56c-14.8 0-26.5-13.5-23.5-28.8C34.7 215.8 45.4 208 57 208h1c3.3 0 6-2.7 6-6v-20c0-3.3-2.7-6-6-6-28.5 0-53.9 20.4-57.5 48.6C-3.9 258.8 22.7 288 56 288h40c0 52.2 25.4 98.1 64 127.3V496c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-48h128v48c0 8.8 7.2 16 16 16h64c8.8 0 16-7.2 16-16v-80.7c11.8-8.9 22.3-19.4 31.3-31.3H560c8.8 0 16-7.2 16-16V240c0-8.8-7.2-16-16-16zm-128 64c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM256 96h128c5.4 0 10.7.4 15.9.8 0-.3.1-.5.1-.8 0-53-43-96-96-96s-96 43-96 96c0 2.1.5 4.1.6 6.2 15.2-3.9 31-6.2 47.4-6.2z"},child:[]}]})(t)}function IH(t){return tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function PH(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function zf(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(t)}function Y$(t){return tn({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function OH(t){return tn({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function X$(t){return tn({attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(t)}function CH(t){return tn({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(t)}function Q$(t){return tn({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const RH=({balance:t,creditScore:e,transactions:n=[],onAddClick:r})=>{const i=()=>{const o=new Date().toISOString().split("T")[0],s=n.filter(a=>a.date===o&&a.type==="expense").reduce((a,u)=>a+u.amount,0);return t<0?" Critical: You are in debt. Stop spending immediately!":t<50?" Low funds. Only essential spending recommended.":s>300?" High spending today. Try to slow down.":e<550?" Credit score needs work. Reduce spending to rebuild.":e>=750&&t>500?" Excellent health! Safe to spend responsibly.":t>200?" Safe to spend, but keep saving.":" Spend wisely. Every Cedi counts."};return M.jsxs("div",{className:"space-y-6",children:[M.jsxs(Un.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"glass-card p-5 bg-gradient-to-br from-emerald-500/90 to-teal-600/90 text-white border-none shadow-xl relative overflow-hidden",children:[M.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-2xl"}),M.jsxs("div",{className:"relative z-10",children:[M.jsxs("div",{className:"flex justify-between items-start",children:[M.jsxs("div",{children:[M.jsx("p",{className:"text-emerald-100 text-xs font-medium mb-1",children:"Total Balance"}),M.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[" ",t.toFixed(2)]})]}),M.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-md",children:M.jsx(CH,{className:"text-lg text-white"})})]}),M.jsx("p",{className:"mt-2 text-[10px] text-emerald-100/80 font-light",children:i()})]})]}),M.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[M.jsxs(Un.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},className:"glass-card p-4 flex flex-col justify-between relative overflow-hidden h-32",children:[M.jsxs("div",{className:"z-10",children:[M.jsx("span",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-wider block mb-1",children:"Credit Score"}),M.jsx("h3",{className:`text-2xl font-bold ${e>=650?"text-emerald-600":e>=550?"text-yellow-600":"text-red-500"}`,children:e}),M.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:e>=750?"Excellent":e>=550?"Fair":"Needs Work"})]}),M.jsx("div",{className:"w-full bg-gray-100 h-1.5 rounded-full mt-auto overflow-hidden",children:M.jsx("div",{className:`h-full rounded-full ${e>=650?"bg-emerald-500":e>=550?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,e/850*100)}%`}})})]}),M.jsxs(Un.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},className:"glass-card p-0 flex flex-col items-center justify-center cursor-pointer hover:bg-white/60 transition-colors h-32 relative overflow-hidden group",onClick:r,children:[M.jsx("div",{className:"absolute inset-0 bg-emerald-500/5 group-hover:bg-emerald-500/10 transition-colors"}),M.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center text-emerald-600 mb-2 shadow-sm group-hover:scale-110 transition-transform",children:M.jsx(IH,{className:"text-xl"})}),M.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Add New"})]})]})]})},Kd=[{id:"Food",label:"Food",icon:X$,color:"text-orange-500"},{id:"Transport",label:"Transport",icon:H$,color:"text-blue-500"},{id:"Data/Airtime",label:"Data/Airtime",icon:Q$,color:"text-sky-500"},{id:"Entertainment",label:"Entertainment",icon:q$,color:"text-purple-500"},{id:"Savings/Invest",label:"Savings/Invest",icon:K$,color:"text-emerald-500"},{id:"Other",label:"Other",icon:zf,color:"text-gray-500"}],JP=[{id:"Allowance",label:"Allowance",icon:G$,color:"text-emerald-500"},{id:"Salary",label:"Salary",icon:xH,color:"text-blue-500"},{id:"Gift",label:"Gift",icon:SH,color:"text-purple-500"},{id:"Other",label:"Other",icon:zf,color:"text-gray-500"}],kH=({isOpen:t,onClose:e,onAdd:n})=>{const[r,i]=j.useState("expense"),[o,s]=j.useState(""),[a,u]=j.useState(Kd[0].id),[l,c]=j.useState(""),[f,d]=j.useState(new Date().toISOString().split("T")[0]),p=r==="expense"?Kd:JP,g=m=>{m.preventDefault(),o&&(n({amount:parseFloat(o),category:a,note:l,date:f,type:r}),s(""),c(""),i("expense"),u(Kd[0].id),e())};return M.jsx(mV,{children:t&&M.jsxs("div",{className:"fixed inset-0 z-40 flex items-end sm:items-center justify-center pointer-events-none",children:[M.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto"}),M.jsxs(Un.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"w-full sm:w-96 bg-white/80 backdrop-blur-xl border-t border-white/50 rounded-t-3xl sm:rounded-2xl shadow-2xl p-5 pointer-events-auto pb-6 sm:pb-6 m-0 sm:m-4",children:[M.jsxs("div",{className:"flex justify-between items-center mb-4",children:[M.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"New Transaction"}),M.jsx("button",{onClick:e,className:"p-2 bg-gray-100 rounded-full hover:bg-gray-200 transition-colors",children:M.jsx(Y$,{className:"text-gray-500 text-sm"})})]}),M.jsxs("form",{onSubmit:g,className:"space-y-3",children:[M.jsxs("div",{className:"flex p-1 bg-gray-100 rounded-xl",children:[M.jsx("button",{type:"button",onClick:()=>{i("expense"),u(Kd[0].id)},className:`flex-1 py-1.5 text-sm font-semibold rounded-lg transition-all ${r==="expense"?"bg-white text-red-500 shadow-sm":"text-gray-500"}`,children:"Expense"}),M.jsx("button",{type:"button",onClick:()=>{i("income"),u(JP[0].id)},className:`flex-1 py-1.5 text-sm font-semibold rounded-lg transition-all ${r==="income"?"bg-white text-emerald-500 shadow-sm":"text-gray-500"}`,children:"Income"})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Amount ()"}),M.jsx("input",{type:"number",step:"0.01",value:o,onChange:m=>s(m.target.value),placeholder:"0.00",className:"w-full text-2xl font-bold bg-transparent border-b-2 border-gray-200 focus:border-emerald-500 outline-none py-1 px-1 text-gray-800 placeholder:text-gray-300 transition-colors",autoFocus:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Category"}),M.jsx("div",{className:"grid grid-cols-3 gap-2",children:p.map(m=>M.jsxs("button",{type:"button",onClick:()=>u(m.id),className:`flex flex-col items-center justify-center p-2 rounded-xl border transition-all ${a===m.id?"bg-emerald-50 border-emerald-500 text-emerald-700 shadow-sm":"bg-white/40 border-transparent hover:bg-white/60 text-gray-500"}`,children:[M.jsx(m.icon,{className:`text-lg mb-1 ${a===m.id?"text-emerald-600":m.color}`}),M.jsx("span",{className:"text-[10px] font-medium truncate w-full text-center",children:m.label})]},m.id))})]}),M.jsx("div",{className:"flex gap-4",children:M.jsxs("div",{className:"flex-1",children:[M.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Date"}),M.jsx("input",{type:"date",value:f,onChange:m=>d(m.target.value),className:"glass-input w-full py-2 text-sm"})]})}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Note (Optional)"}),M.jsx("input",{type:"text",value:l,onChange:m=>c(m.target.value),placeholder:"What was this for?",className:"glass-input w-full py-2 text-sm"})]}),M.jsx("button",{type:"submit",className:"w-full glass-button py-3 text-base font-bold mt-2 bg-emerald-500 hover:bg-emerald-600",children:"Add Transaction"})]})]})]})})};function $r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ta(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const J$=6048e5,DH=864e5;let MH={};function _y(){return MH}function Wf(t,e){var a,u,l,c;const n=_y(),r=(e==null?void 0:e.weekStartsOn)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,i=$r(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Cm(t){return Wf(t,{weekStartsOn:1})}function Z$(t){const e=$r(t),n=e.getFullYear(),r=ta(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Cm(r),o=ta(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=Cm(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function ZP(t){const e=$r(t);return e.setHours(0,0,0,0),e}function eO(t){const e=$r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function NH(t,e){const n=ZP(t),r=ZP(e),i=+n-eO(n),o=+r-eO(r);return Math.round((i-o)/DH)}function VH(t){const e=Z$(t),n=ta(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Cm(n)}function $H(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function jH(t){if(!$H(t)&&typeof t!="number")return!1;const e=$r(t);return!isNaN(Number(e))}function LH(t){const e=$r(t),n=ta(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const FH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BH=(t,e,n)=>{let r;const i=FH[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function W0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const UH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},WH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},HH={date:W0({formats:UH,defaultWidth:"full"}),time:W0({formats:zH,defaultWidth:"full"}),dateTime:W0({formats:WH,defaultWidth:"full"})},qH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GH=(t,e,n,r)=>qH[t];function mc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const KH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},YH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},JH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ZH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eq=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tq={ordinalNumber:eq,era:mc({values:KH,defaultWidth:"wide"}),quarter:mc({values:YH,defaultWidth:"wide",argumentCallback:t=>t-1}),month:mc({values:XH,defaultWidth:"wide"}),day:mc({values:QH,defaultWidth:"wide"}),dayPeriod:mc({values:JH,defaultWidth:"wide",formattingValues:ZH,defaultFormattingWidth:"wide"})};function gc(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(a)?rq(a,f=>f.test(s)):nq(a,f=>f.test(s));let l;l=t.valueCallback?t.valueCallback(u):u,l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(s.length);return{value:l,rest:c}}}function nq(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function rq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function iq(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const oq=/^(\d+)(th|st|nd|rd)?/i,sq=/\d+/i,aq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uq={any:[/^b/i,/^(a|c)/i]},lq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cq={any:[/1/i,/2/i,/3/i,/4/i]},fq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yq={ordinalNumber:iq({matchPattern:oq,parsePattern:sq,valueCallback:t=>parseInt(t,10)}),era:gc({matchPatterns:aq,defaultMatchWidth:"wide",parsePatterns:uq,defaultParseWidth:"any"}),quarter:gc({matchPatterns:lq,defaultMatchWidth:"wide",parsePatterns:cq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gc({matchPatterns:fq,defaultMatchWidth:"wide",parsePatterns:hq,defaultParseWidth:"any"}),day:gc({matchPatterns:dq,defaultMatchWidth:"wide",parsePatterns:pq,defaultParseWidth:"any"}),dayPeriod:gc({matchPatterns:mq,defaultMatchWidth:"any",parsePatterns:gq,defaultParseWidth:"any"})},vq={code:"en-US",formatDistance:BH,formatLong:HH,formatRelative:GH,localize:tq,match:yq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _q(t){const e=$r(t);return NH(e,LH(e))+1}function wq(t){const e=$r(t),n=+Cm(e)-+VH(e);return Math.round(n/J$)+1}function e4(t,e){var c,f,d,p;const n=$r(t),r=n.getFullYear(),i=_y(),o=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(d=i.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??1,s=ta(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Wf(s,e),u=ta(t,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const l=Wf(u,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function bq(t,e){var a,u,l,c;const n=_y(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(l=n.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??1,i=e4(t,e),o=ta(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Wf(o,e)}function Tq(t,e){const n=$r(t),r=+Wf(n,e)-+bq(n,e);return Math.round(r/J$)+1}function Ne(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const to={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Ne(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Ne(n+1,2)},d(t,e){return Ne(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Ne(t.getHours()%12||12,e.length)},H(t,e){return Ne(t.getHours(),e.length)},m(t,e){return Ne(t.getMinutes(),e.length)},s(t,e){return Ne(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ne(i,e.length)}},Ra={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tO={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return to.y(t,e)},Y:function(t,e,n,r){const i=e4(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Ne(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ne(o,e.length)},R:function(t,e){const n=Z$(t);return Ne(n,e.length)},u:function(t,e){const n=t.getFullYear();return Ne(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ne(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ne(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return to.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ne(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Tq(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ne(i,e.length)},I:function(t,e,n){const r=wq(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ne(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):to.d(t,e)},D:function(t,e,n){const r=_q(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ne(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Ne(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Ne(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ne(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Ra.noon:r===0?i=Ra.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Ra.evening:r>=12?i=Ra.afternoon:r>=4?i=Ra.morning:i=Ra.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return to.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):to.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ne(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):to.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):to.s(t,e)},S:function(t,e){return to.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return rO(r);case"XXXX":case"XX":return gs(r);case"XXXXX":case"XXX":default:return gs(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return rO(r);case"xxxx":case"xx":return gs(r);case"xxxxx":case"xxx":default:return gs(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nO(r,":");case"OOOO":default:return"GMT"+gs(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nO(r,":");case"zzzz":default:return"GMT"+gs(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Ne(r,e.length)},T:function(t,e,n){const r=t.getTime();return Ne(r,e.length)}};function nO(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Ne(o,2)}function rO(t,e){return t%60===0?(t>0?"-":"+")+Ne(Math.abs(t)/60,2):gs(t,e)}function gs(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Ne(Math.trunc(r/60),2),o=Ne(r%60,2);return n+i+e+o}const iO=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},t4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return iO(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",iO(r,e)).replace("{{time}}",t4(i,e))},Eq={p:t4,P:xq},Sq=/^D+$/,Aq=/^Y+$/,Iq=["D","DD","YY","YYYY"];function Pq(t){return Sq.test(t)}function Oq(t){return Aq.test(t)}function Cq(t,e,n){const r=Rq(t,e,n);if(console.warn(r),Iq.includes(t))throw new RangeError(r)}function Rq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Dq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mq=/^'([^]*?)'?$/,Nq=/''/g,Vq=/[a-zA-Z]/;function $q(t,e,n){var c,f,d,p;const r=_y(),i=r.locale??vq,o=r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,a=$r(t);if(!jH(a))throw new RangeError("Invalid time value");let u=e.match(Dq).map(g=>{const m=g[0];if(m==="p"||m==="P"){const b=Eq[m];return b(g,i.formatLong)}return g}).join("").match(kq).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const m=g[0];if(m==="'")return{isToken:!1,value:jq(g)};if(tO[m])return{isToken:!0,value:g};if(m.match(Vq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(u=i.localize.preprocessor(a,u));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return u.map(g=>{if(!g.isToken)return g.value;const m=g.value;(Oq(m)||Pq(m))&&Cq(m,e,String(t));const b=tO[m[0]];return b(a,m,i.localize,l)}).join("")}function jq(t){const e=t.match(Mq);return e?e[1].replace(Nq,"'"):t}const Lq={Food:X$,Transport:H$,"Data/Airtime":Q$,Entertainment:q$,"Savings/Invest":K$,Other:zf},oO=({transactions:t,onDelete:e})=>t.length===0?M.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-400",children:[M.jsx(zf,{className:"text-4xl mb-2 opacity-20"}),M.jsx("p",{children:"No transactions yet."})]}):M.jsx("div",{className:"space-y-3 pb-20",children:t.map((n,r)=>{const i=Lq[n.category]||zf,o=n.type==="income";return M.jsxs(Un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r*.05},className:"flex items-center justify-between p-3 bg-white/40 backdrop-blur-sm rounded-xl border border-white/50 shadow-sm hover:shadow-md transition-all group",children:[M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${o?"bg-emerald-100 text-emerald-600":"bg-red-50 text-red-500"}`,children:M.jsx(i,{className:"text-sm"})}),M.jsxs("div",{children:[M.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:n.category}),M.jsx("p",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wide",children:$q(new Date(n.date),"MMM d")})]})]}),M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsxs("span",{className:`font-bold text-sm ${o?"text-emerald-600":"text-gray-800"}`,children:[o?"+":"-"," ",n.amount.toFixed(2)]}),e&&M.jsx("button",{type:"button",onClick:s=>{s.stopPropagation(),window.confirm("Are you sure you want to delete this?")&&e(n.id)},className:"p-2 text-gray-300 hover:text-red-500 transition-colors cursor-pointer relative z-10",title:"Delete Transaction",children:M.jsx(OH,{size:12})})]})]},n.id)})});function n4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=n4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ce(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=n4(t))&&(r&&(r+=" "),r+=e);return r}var Fq=Array.isArray,Rn=Fq,Bq=typeof Ad=="object"&&Ad&&Ad.Object===Object&&Ad,r4=Bq,Uq=r4,zq=typeof self=="object"&&self&&self.Object===Object&&self,Wq=Uq||zq||Function("return this")(),li=Wq,Hq=li,qq=Hq.Symbol,Kh=qq,sO=Kh,i4=Object.prototype,Gq=i4.hasOwnProperty,Kq=i4.toString,yc=sO?sO.toStringTag:void 0;function Yq(t){var e=Gq.call(t,yc),n=t[yc];try{t[yc]=void 0;var r=!0}catch{}var i=Kq.call(t);return r&&(e?t[yc]=n:delete t[yc]),i}var Xq=Yq,Qq=Object.prototype,Jq=Qq.toString;function Zq(t){return Jq.call(t)}var eG=Zq,aO=Kh,tG=Xq,nG=eG,rG="[object Null]",iG="[object Undefined]",uO=aO?aO.toStringTag:void 0;function oG(t){return t==null?t===void 0?iG:rG:uO&&uO in Object(t)?tG(t):nG(t)}var Ui=oG;function sG(t){return t!=null&&typeof t=="object"}var zi=sG,aG=Ui,uG=zi,lG="[object Symbol]";function cG(t){return typeof t=="symbol"||uG(t)&&aG(t)==lG}var Il=cG,fG=Rn,hG=Il,dG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pG=/^\w*$/;function mG(t,e){if(fG(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||hG(t)?!0:pG.test(t)||!dG.test(t)||e!=null&&t in Object(e)}var xx=mG;function gG(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Yo=gG;const Pl=Be(Yo);var yG=Ui,vG=Yo,_G="[object AsyncFunction]",wG="[object Function]",bG="[object GeneratorFunction]",TG="[object Proxy]";function xG(t){if(!vG(t))return!1;var e=yG(t);return e==wG||e==bG||e==_G||e==TG}var Ex=xG;const we=Be(Ex);var EG=li,SG=EG["__core-js_shared__"],AG=SG,H0=AG,lO=function(){var t=/[^.]+$/.exec(H0&&H0.keys&&H0.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function IG(t){return!!lO&&lO in t}var PG=IG,OG=Function.prototype,CG=OG.toString;function RG(t){if(t!=null){try{return CG.call(t)}catch{}try{return t+""}catch{}}return""}var o4=RG,kG=Ex,DG=PG,MG=Yo,NG=o4,VG=/[\\^$.*+?()[\]{}|]/g,$G=/^\[object .+?Constructor\]$/,jG=Function.prototype,LG=Object.prototype,FG=jG.toString,BG=LG.hasOwnProperty,UG=RegExp("^"+FG.call(BG).replace(VG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zG(t){if(!MG(t)||DG(t))return!1;var e=kG(t)?UG:$G;return e.test(NG(t))}var WG=zG;function HG(t,e){return t==null?void 0:t[e]}var qG=HG,GG=WG,KG=qG;function YG(t,e){var n=KG(t,e);return GG(n)?n:void 0}var ya=YG,XG=ya,QG=XG(Object,"create"),wy=QG,cO=wy;function JG(){this.__data__=cO?cO(null):{},this.size=0}var ZG=JG;function eK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var tK=eK,nK=wy,rK="__lodash_hash_undefined__",iK=Object.prototype,oK=iK.hasOwnProperty;function sK(t){var e=this.__data__;if(nK){var n=e[t];return n===rK?void 0:n}return oK.call(e,t)?e[t]:void 0}var aK=sK,uK=wy,lK=Object.prototype,cK=lK.hasOwnProperty;function fK(t){var e=this.__data__;return uK?e[t]!==void 0:cK.call(e,t)}var hK=fK,dK=wy,pK="__lodash_hash_undefined__";function mK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=dK&&e===void 0?pK:e,this}var gK=mK,yK=ZG,vK=tK,_K=aK,wK=hK,bK=gK;function Ol(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ol.prototype.clear=yK;Ol.prototype.delete=vK;Ol.prototype.get=_K;Ol.prototype.has=wK;Ol.prototype.set=bK;var TK=Ol;function xK(){this.__data__=[],this.size=0}var EK=xK;function SK(t,e){return t===e||t!==t&&e!==e}var Sx=SK,AK=Sx;function IK(t,e){for(var n=t.length;n--;)if(AK(t[n][0],e))return n;return-1}var by=IK,PK=by,OK=Array.prototype,CK=OK.splice;function RK(t){var e=this.__data__,n=PK(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():CK.call(e,n,1),--this.size,!0}var kK=RK,DK=by;function MK(t){var e=this.__data__,n=DK(e,t);return n<0?void 0:e[n][1]}var NK=MK,VK=by;function $K(t){return VK(this.__data__,t)>-1}var jK=$K,LK=by;function FK(t,e){var n=this.__data__,r=LK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var BK=FK,UK=EK,zK=kK,WK=NK,HK=jK,qK=BK;function Cl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Cl.prototype.clear=UK;Cl.prototype.delete=zK;Cl.prototype.get=WK;Cl.prototype.has=HK;Cl.prototype.set=qK;var Ty=Cl,GK=ya,KK=li,YK=GK(KK,"Map"),Ax=YK,fO=TK,XK=Ty,QK=Ax;function JK(){this.size=0,this.__data__={hash:new fO,map:new(QK||XK),string:new fO}}var ZK=JK;function eY(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var tY=eY,nY=tY;function rY(t,e){var n=t.__data__;return nY(e)?n[typeof e=="string"?"string":"hash"]:n.map}var xy=rY,iY=xy;function oY(t){var e=iY(this,t).delete(t);return this.size-=e?1:0,e}var sY=oY,aY=xy;function uY(t){return aY(this,t).get(t)}var lY=uY,cY=xy;function fY(t){return cY(this,t).has(t)}var hY=fY,dY=xy;function pY(t,e){var n=dY(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var mY=pY,gY=ZK,yY=sY,vY=lY,_Y=hY,wY=mY;function Rl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=gY;Rl.prototype.delete=yY;Rl.prototype.get=vY;Rl.prototype.has=_Y;Rl.prototype.set=wY;var Ix=Rl,s4=Ix,bY="Expected a function";function Px(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(bY);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Px.Cache||s4),n}Px.Cache=s4;var a4=Px;const TY=Be(a4);var xY=a4,EY=500;function SY(t){var e=xY(t,function(r){return n.size===EY&&n.clear(),r}),n=e.cache;return e}var AY=SY,IY=AY,PY=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OY=/\\(\\)?/g,CY=IY(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(PY,function(n,r,i,o){e.push(i?o.replace(OY,"$1"):r||n)}),e}),RY=CY;function kY(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ox=kY,hO=Kh,DY=Ox,MY=Rn,NY=Il,dO=hO?hO.prototype:void 0,pO=dO?dO.toString:void 0;function u4(t){if(typeof t=="string")return t;if(MY(t))return DY(t,u4)+"";if(NY(t))return pO?pO.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var VY=u4,$Y=VY;function jY(t){return t==null?"":$Y(t)}var l4=jY,LY=Rn,FY=xx,BY=RY,UY=l4;function zY(t,e){return LY(t)?t:FY(t,e)?[t]:BY(UY(t))}var c4=zY,WY=Il;function HY(t){if(typeof t=="string"||WY(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Ey=HY,qY=c4,GY=Ey;function KY(t,e){e=qY(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[GY(e[n++])];return n&&n==r?t:void 0}var Cx=KY,YY=Cx;function XY(t,e,n){var r=t==null?void 0:YY(t,e);return r===void 0?n:r}var f4=XY;const kr=Be(f4);function QY(t){return t==null}var JY=QY;const Ae=Be(JY);var ZY=Ui,eX=Rn,tX=zi,nX="[object String]";function rX(t){return typeof t=="string"||!eX(t)&&tX(t)&&ZY(t)==nX}var iX=rX;const Yh=Be(iX);var h4={exports:{}},Le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Sy=Symbol.for("react.fragment"),Ay=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Oy=Symbol.for("react.context"),oX=Symbol.for("react.server_context"),Cy=Symbol.for("react.forward_ref"),Ry=Symbol.for("react.suspense"),ky=Symbol.for("react.suspense_list"),Dy=Symbol.for("react.memo"),My=Symbol.for("react.lazy"),sX=Symbol.for("react.offscreen"),d4;d4=Symbol.for("react.module.reference");function yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Rx:switch(t=t.type,t){case Sy:case Iy:case Ay:case Ry:case ky:return t;default:switch(t=t&&t.$$typeof,t){case oX:case Oy:case Cy:case My:case Dy:case Py:return t;default:return e}}case kx:return e}}}Le.ContextConsumer=Oy;Le.ContextProvider=Py;Le.Element=Rx;Le.ForwardRef=Cy;Le.Fragment=Sy;Le.Lazy=My;Le.Memo=Dy;Le.Portal=kx;Le.Profiler=Iy;Le.StrictMode=Ay;Le.Suspense=Ry;Le.SuspenseList=ky;Le.isAsyncMode=function(){return!1};Le.isConcurrentMode=function(){return!1};Le.isContextConsumer=function(t){return yr(t)===Oy};Le.isContextProvider=function(t){return yr(t)===Py};Le.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rx};Le.isForwardRef=function(t){return yr(t)===Cy};Le.isFragment=function(t){return yr(t)===Sy};Le.isLazy=function(t){return yr(t)===My};Le.isMemo=function(t){return yr(t)===Dy};Le.isPortal=function(t){return yr(t)===kx};Le.isProfiler=function(t){return yr(t)===Iy};Le.isStrictMode=function(t){return yr(t)===Ay};Le.isSuspense=function(t){return yr(t)===Ry};Le.isSuspenseList=function(t){return yr(t)===ky};Le.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Sy||t===Iy||t===Ay||t===Ry||t===ky||t===sX||typeof t=="object"&&t!==null&&(t.$$typeof===My||t.$$typeof===Dy||t.$$typeof===Py||t.$$typeof===Oy||t.$$typeof===Cy||t.$$typeof===d4||t.getModuleId!==void 0)};Le.typeOf=yr;h4.exports=Le;var aX=h4.exports,uX=Ui,lX=zi,cX="[object Number]";function fX(t){return typeof t=="number"||lX(t)&&uX(t)==cX}var p4=fX;const hX=Be(p4);var dX=p4;function pX(t){return dX(t)&&t!=+t}var mX=pX;const Xh=Be(mX);var ar=function(e){return e===0?0:e>0?1:-1},ks=function(e){return Yh(e)&&e.indexOf("%")===e.length-1},re=function(e){return hX(e)&&!Xh(e)},Dt=function(e){return re(e)||Yh(e)},gX=0,Ny=function(e){var n=++gX;return"".concat(e||"").concat(n)},Sn=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(e)&&!Yh(e))return r;var o;if(ks(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return Xh(o)&&(o=r),i&&o>n&&(o=n),o},Fa=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},yX=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},mO=function(e,n){return re(e)&&re(n)?function(r){return e+r*(n-e)}:function(){return n}};function Gw(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):kr(r,e))===n})}function Kw(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}var vX=["viewBox","children"],_X=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gO=["points","pathLength"],q0={svg:vX,polygon:gO,polyline:gO},Dx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),!Pl(r))return null;var i={};return Object.keys(r).forEach(function(o){Dx.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},wX=function(e,n,r){return function(i){return e(n,r,i),null}},Vy=function(e,n,r){if(!Pl(e)||Yw(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];Dx.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=wX(s,n,r))}),i},bX=["children"],TX=["children"];function yO(t,e){if(t==null)return{};var n=xX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var vO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ai=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_O=null,G0=null,Mx=function t(e){if(e===_O&&Array.isArray(G0))return G0;var n=[];return j.Children.forEach(e,function(r){Ae(r)||(aX.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),G0=n,_O=e,n};function ei(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ai(i)}):r=[Ai(e)],Mx(t).forEach(function(i){var o=kr(i,"type.displayName")||kr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function tr(t,e){var n=ei(t,e);return n&&n[0]}var wO=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!re(r)||r<=0||!re(i)||i<=0)},EX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],SX=function(e){return e&&e.type&&Yh(e.type)&&EX.indexOf(e.type)>=0},AX=function(e,n,r,i){var o,s=(o=q0==null?void 0:q0[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!we(e)&&(i&&s.includes(n)||_X.includes(n))||r&&Dx.includes(n)},_e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Pl(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;AX((a=i)===null||a===void 0?void 0:a[s],s,n,r)&&(o[s]=i[s])}),o},Xw=function t(e,n){if(e===n)return!0;var r=j.Children.count(e);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bO(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!bO(o,s))return!1}return!0},bO=function(e,n){if(Ae(e)&&Ae(n))return!0;if(!Ae(e)&&!Ae(n)){var r=e.props||{},i=r.children,o=yO(r,bX),s=n.props||{},a=s.children,u=yO(s,TX);return i&&a?Kw(o,u)&&Xw(i,a):!i&&!a?Kw(o,u):!1}return!1},TO=function(e,n){var r=[],i={};return Mx(e).forEach(function(o,s){if(SX(o))r.push(o);else if(o){var a=Ai(o.type),u=n[a]||{},l=u.handler,c=u.once;if(l&&(!c||!i[a])){var f=l(o,a,s);r.push(f),i[a]=!0}}}),r},IX=function(e){var n=e&&e.type;return n&&vO[n]?vO[n]:null},PX=function(e,n){return Mx(n).indexOf(e)},OX=["children","width","height","viewBox","className","style","title","desc"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(this,arguments)}function CX(t,e){if(t==null)return{};var n=RX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function RX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Jw(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,u=t.desc,l=CX(t,OX),c=i||{width:n,height:r,x:0,y:0},f=Ce("recharts-surface",o);return N.createElement("svg",Qw({},_e(l,!0,"svg"),{className:f,width:n,height:r,style:s,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),N.createElement("title",null,a),N.createElement("desc",null,u),e)}var kX=["children","className"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zw.apply(this,arguments)}function DX(t,e){if(t==null)return{};var n=MX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _t=N.forwardRef(function(t,e){var n=t.children,r=t.className,i=DX(t,kX),o=Ce("recharts-layer",r);return N.createElement("g",Zw({className:o},_e(i,!0),{ref:e}),n)}),Ii=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function NX(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var VX=NX,$X=VX;function jX(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$X(t,e,n)}var LX=jX,FX="\\ud800-\\udfff",BX="\\u0300-\\u036f",UX="\\ufe20-\\ufe2f",zX="\\u20d0-\\u20ff",WX=BX+UX+zX,HX="\\ufe0e\\ufe0f",qX="\\u200d",GX=RegExp("["+qX+FX+WX+HX+"]");function KX(t){return GX.test(t)}var m4=KX;function YX(t){return t.split("")}var XX=YX,g4="\\ud800-\\udfff",QX="\\u0300-\\u036f",JX="\\ufe20-\\ufe2f",ZX="\\u20d0-\\u20ff",eQ=QX+JX+ZX,tQ="\\ufe0e\\ufe0f",nQ="["+g4+"]",eb="["+eQ+"]",tb="\\ud83c[\\udffb-\\udfff]",rQ="(?:"+eb+"|"+tb+")",y4="[^"+g4+"]",v4="(?:\\ud83c[\\udde6-\\uddff]){2}",_4="[\\ud800-\\udbff][\\udc00-\\udfff]",iQ="\\u200d",w4=rQ+"?",b4="["+tQ+"]?",oQ="(?:"+iQ+"(?:"+[y4,v4,_4].join("|")+")"+b4+w4+")*",sQ=b4+w4+oQ,aQ="(?:"+[y4+eb+"?",eb,v4,_4,nQ].join("|")+")",uQ=RegExp(tb+"(?="+tb+")|"+aQ+sQ,"g");function lQ(t){return t.match(uQ)||[]}var cQ=lQ,fQ=XX,hQ=m4,dQ=cQ;function pQ(t){return hQ(t)?dQ(t):fQ(t)}var mQ=pQ,gQ=LX,yQ=m4,vQ=mQ,_Q=l4;function wQ(t){return function(e){e=_Q(e);var n=yQ(e)?vQ(e):void 0,r=n?n[0]:e.charAt(0),i=n?gQ(n,1).join(""):e.slice(1);return r[t]()+i}}var bQ=wQ,TQ=bQ,xQ=TQ("toUpperCase"),EQ=xQ;const $y=Be(EQ);function qe(t){return function(){return t}}const T4=Math.cos,km=Math.sin,jr=Math.sqrt,Dm=Math.PI,jy=2*Dm,nb=Math.PI,rb=2*nb,ys=1e-6,SQ=rb-ys;function x4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function AQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return x4;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class IQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?x4:AQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-e,l=i-n,c=s-e,f=a-n,d=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ys)if(!(Math.abs(f*u-l*c)>ys)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,g=i-a,m=u*u+l*l,b=p*p+g*g,y=Math.sqrt(m),_=Math.sqrt(d),E=o*Math.tan((nb-Math.acos((m+d-b)/(2*y*_)))/2),P=E/_,x=E/y;Math.abs(P-1)>ys&&this._append`L${e+P*c},${n+P*f}`,this._append`A${o},${o},0,0,${+(f*p>c*g)},${this._x1=e+x*u},${this._y1=n+x*l}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),l=e+a,c=n+u,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ys||Math.abs(this._y1-c)>ys)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%rb+rb),d>SQ?this._append`A${r},${r},0,1,${f},${e-a},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=c}`:d>ys&&this._append`A${r},${r},0,${+(d>=nb)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Nx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new IQ(e)}function Vx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function E4(t){this._context=t}E4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new E4(t)}function S4(t){return t[0]}function A4(t){return t[1]}function I4(t,e){var n=qe(!0),r=null,i=Ly,o=null,s=Nx(a);t=typeof t=="function"?t:t===void 0?S4:qe(t),e=typeof e=="function"?e:e===void 0?A4:qe(e);function a(u){var l,c=(u=Vx(u)).length,f,d=!1,p;for(r==null&&(o=i(p=s())),l=0;l<=c;++l)!(l<c&&n(f=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(f,l,u),+e(f,l,u));if(p)return o=null,p+""||null}return a.x=function(u){return arguments.length?(t=typeof u=="function"?u:qe(+u),a):t},a.y=function(u){return arguments.length?(e=typeof u=="function"?u:qe(+u),a):e},a.defined=function(u){return arguments.length?(n=typeof u=="function"?u:qe(!!u),a):n},a.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),a):i},a.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),a):r},a}function Yd(t,e,n){var r=null,i=qe(!0),o=null,s=Ly,a=null,u=Nx(l);t=typeof t=="function"?t:t===void 0?S4:qe(+t),e=typeof e=="function"?e:qe(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?A4:qe(+n);function l(f){var d,p,g,m=(f=Vx(f)).length,b,y=!1,_,E=new Array(m),P=new Array(m);for(o==null&&(a=s(_=u())),d=0;d<=m;++d){if(!(d<m&&i(b=f[d],d,f))===y)if(y=!y)p=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),g=d-1;g>=p;--g)a.point(E[g],P[g]);a.lineEnd(),a.areaEnd()}y&&(E[d]=+t(b,d,f),P[d]=+e(b,d,f),a.point(r?+r(b,d,f):E[d],n?+n(b,d,f):P[d]))}if(_)return a=null,_+""||null}function c(){return I4().defined(i).curve(s).context(o)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),r=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:qe(+f),l):t},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:qe(+f),l):r},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:qe(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:qe(+f),l):n},l.lineX0=l.lineY0=function(){return c().x(t).y(e)},l.lineY1=function(){return c().x(t).y(n)},l.lineX1=function(){return c().x(r).y(e)},l.defined=function(f){return arguments.length?(i=typeof f=="function"?f:qe(!!f),l):i},l.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),l):s},l.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),l):o},l}class P4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PQ(t){return new P4(t,!0)}function OQ(t){return new P4(t,!1)}const $x={draw(t,e){const n=jr(e/Dm);t.moveTo(n,0),t.arc(0,0,n,0,jy)}},CQ={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},O4=jr(1/3),RQ=O4*2,kQ={draw(t,e){const n=jr(e/RQ),r=n*O4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},DQ={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},MQ=.8908130915292852,C4=km(Dm/10)/km(7*Dm/10),NQ=km(jy/10)*C4,VQ=-T4(jy/10)*C4,$Q={draw(t,e){const n=jr(e*MQ),r=NQ*n,i=VQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=jy*o/5,a=T4(s),u=km(s);t.lineTo(u*n,-a*n),t.lineTo(a*r-u*i,u*r+a*i)}t.closePath()}},K0=jr(3),jQ={draw(t,e){const n=-jr(e/(K0*3));t.moveTo(0,n*2),t.lineTo(-K0*n,-n),t.lineTo(K0*n,-n),t.closePath()}},Qn=-.5,Jn=jr(3)/2,ib=1/jr(12),LQ=(ib/2+1)*3,FQ={draw(t,e){const n=jr(e/LQ),r=n/2,i=n*ib,o=r,s=n*ib+n,a=-o,u=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(a,u),t.lineTo(Qn*r-Jn*i,Jn*r+Qn*i),t.lineTo(Qn*o-Jn*s,Jn*o+Qn*s),t.lineTo(Qn*a-Jn*u,Jn*a+Qn*u),t.lineTo(Qn*r+Jn*i,Qn*i-Jn*r),t.lineTo(Qn*o+Jn*s,Qn*s-Jn*o),t.lineTo(Qn*a+Jn*u,Qn*u-Jn*a),t.closePath()}};function BQ(t,e){let n=null,r=Nx(i);t=typeof t=="function"?t:qe(t||$x),e=typeof e=="function"?e:qe(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:qe(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:qe(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Mm(){}function Nm(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function UQ(t){return new R4(t)}function k4(t){this._context=t}k4.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zQ(t){return new k4(t)}function D4(t){this._context=t}D4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nm(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WQ(t){return new D4(t)}function M4(t){this._context=t}M4.prototype={areaStart:Mm,areaEnd:Mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HQ(t){return new M4(t)}function xO(t){return t<0?-1:1}function EO(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(xO(o)+xO(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function SO(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y0(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function Vm(t){this._context=t}Vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y0(this,this._t0,SO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y0(this,SO(this,n=EO(this,t,e)),n);break;default:Y0(this,this._t0,n=EO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function N4(t){this._context=new V4(t)}(N4.prototype=Object.create(Vm.prototype)).point=function(t,e){Vm.prototype.point.call(this,e,t)};function V4(t){this._context=t}V4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function qQ(t){return new Vm(t)}function GQ(t){return new N4(t)}function $4(t){this._context=t}$4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AO(t),i=AO(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AO(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function KQ(t){return new $4(t)}function Fy(t,e){this._context=t,this._t=e}Fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function YQ(t){return new Fy(t,.5)}function XQ(t){return new Fy(t,0)}function QQ(t){return new Fy(t,1)}function Lu(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,a=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ob(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function JQ(t,e){return t[e]}function ZQ(t){const e=[];return e.key=t,e}function eJ(){var t=qe([]),e=ob,n=Lu,r=JQ;function i(o){var s=Array.from(t.apply(this,arguments),ZQ),a,u=s.length,l=-1,c;for(const f of o)for(a=0,++l;a<u;++a)(s[a][l]=[0,+r(f,s[a].key,l,o)]).data=f;for(a=0,c=Vx(e(s));a<u;++a)s[c[a]].index=a;return n(s,c),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:qe(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:qe(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?ob:typeof o=="function"?o:qe(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Lu,i):n},i}function tJ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Lu(t,e)}}function nJ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,a=0;s<i;++s)a+=t[s][n][1]||0;r[n][1]+=r[n][0]=-a/2}Lu(t,e)}}function rJ(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var a=0,u=0,l=0;a<s;++a){for(var c=t[e[a]],f=c[r][1]||0,d=c[r-1][1]||0,p=(f-d)/2,g=0;g<a;++g){var m=t[e[g]],b=m[r][1]||0,y=m[r-1][1]||0;p+=b-y}u+=f,l+=p*f}i[r-1][1]+=i[r-1][0]=n,u&&(n-=l/u)}i[r-1][1]+=i[r-1][0]=n,Lu(t,e)}}function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}var iJ=["type","size","sizeType"];function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(this,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return e=sJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJ(t){var e=aJ(t,"string");return Hf(e)=="symbol"?e:e+""}function aJ(t,e){if(Hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uJ(t,e){if(t==null)return{};var n=lJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var j4={symbolCircle:$x,symbolCross:CQ,symbolDiamond:kQ,symbolSquare:DQ,symbolStar:$Q,symbolTriangle:jQ,symbolWye:FQ},cJ=Math.PI/180,fJ=function(e){var n="symbol".concat($y(e));return j4[n]||$x},hJ=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*cJ;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dJ=function(e,n){j4["symbol".concat($y(e))]=n},jx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,u=uJ(e,iJ),l=PO(PO({},u),{},{type:r,size:o,sizeType:a}),c=function(){var b=fJ(r),y=BQ().type(b).size(hJ(o,a,r));return y()},f=l.className,d=l.cx,p=l.cy,g=_e(l,!0);return d===+d&&p===+p&&o===+o?N.createElement("path",sb({},g,{className:Ce("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:c()})):null};jx.registerSymbol=dJ;function Fu(t){"@babel/helpers - typeof";return Fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fu(t)}function ab(){return ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ab.apply(this,arguments)}function OO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OO(Object(n),!0).forEach(function(r){qf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gJ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F4(r.key),r)}}function yJ(t,e,n){return e&&gJ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vJ(t,e,n){return e=$m(e),_J(t,L4()?Reflect.construct(e,n||[],$m(t).constructor):e.apply(t,n))}function _J(t,e){if(e&&(Fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wJ(t)}function wJ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L4=function(){return!!t})()}function $m(t){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$m(t)}function bJ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ub(t,e)}function ub(t,e){return ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ub(t,e)}function qf(t,e,n){return e=F4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F4(t){var e=TJ(t,"string");return Fu(e)=="symbol"?e:e+""}function TJ(t,e){if(Fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zn=32,Lx=function(t){function e(){return mJ(this,e),vJ(this,e,arguments)}return bJ(e,t),yJ(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zn/2,s=Zn/6,a=Zn/3,u=r.inactive?i:r.color;if(r.type==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(Zn,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return N.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(N.isValidElement(r.legendIcon)){var l=pJ({},r);return delete l.legendIcon,N.cloneElement(r.legendIcon,l)}return N.createElement(jx,{fill:u,cx:o,cy:o,size:Zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,u=i.formatter,l=i.inactiveColor,c={x:0,y:0,width:Zn,height:Zn},f={display:a==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,g){var m=p.formatter||u,b=Ce(qf(qf({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=we(p.value)?null:p.value;Ii(!we(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=p.inactive?l:p.color;return N.createElement("li",ab({className:b,style:f,key:"legend-item-".concat(g)},Vy(r.props,p,g)),N.createElement(Jw,{width:s,height:s,viewBox:c,style:d},r.renderIcon(p)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},m?m(y,p,g):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(j.PureComponent);qf(Lx,"displayName","Legend");qf(Lx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var xJ=Ty;function EJ(){this.__data__=new xJ,this.size=0}var SJ=EJ;function AJ(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var IJ=AJ;function PJ(t){return this.__data__.get(t)}var OJ=PJ;function CJ(t){return this.__data__.has(t)}var RJ=CJ,kJ=Ty,DJ=Ax,MJ=Ix,NJ=200;function VJ(t,e){var n=this.__data__;if(n instanceof kJ){var r=n.__data__;if(!DJ||r.length<NJ-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MJ(r)}return n.set(t,e),this.size=n.size,this}var $J=VJ,jJ=Ty,LJ=SJ,FJ=IJ,BJ=OJ,UJ=RJ,zJ=$J;function kl(t){var e=this.__data__=new jJ(t);this.size=e.size}kl.prototype.clear=LJ;kl.prototype.delete=FJ;kl.prototype.get=BJ;kl.prototype.has=UJ;kl.prototype.set=zJ;var B4=kl,WJ="__lodash_hash_undefined__";function HJ(t){return this.__data__.set(t,WJ),this}var qJ=HJ;function GJ(t){return this.__data__.has(t)}var KJ=GJ,YJ=Ix,XJ=qJ,QJ=KJ;function jm(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new YJ;++e<n;)this.add(t[e])}jm.prototype.add=jm.prototype.push=XJ;jm.prototype.has=QJ;var U4=jm;function JJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var z4=JJ;function ZJ(t,e){return t.has(e)}var W4=ZJ,eZ=U4,tZ=z4,nZ=W4,rZ=1,iZ=2;function oZ(t,e,n,r,i,o){var s=n&rZ,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var f=-1,d=!0,p=n&iZ?new eZ:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],m=e[f];if(r)var b=s?r(m,g,f,e,t,o):r(g,m,f,t,e,o);if(b!==void 0){if(b)continue;d=!1;break}if(p){if(!tZ(e,function(y,_){if(!nZ(p,_)&&(g===y||i(g,y,n,r,o)))return p.push(_)})){d=!1;break}}else if(!(g===m||i(g,m,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var H4=oZ,sZ=li,aZ=sZ.Uint8Array,uZ=aZ;function lZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var cZ=lZ;function fZ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Fx=fZ,CO=Kh,RO=uZ,hZ=Sx,dZ=H4,pZ=cZ,mZ=Fx,gZ=1,yZ=2,vZ="[object Boolean]",_Z="[object Date]",wZ="[object Error]",bZ="[object Map]",TZ="[object Number]",xZ="[object RegExp]",EZ="[object Set]",SZ="[object String]",AZ="[object Symbol]",IZ="[object ArrayBuffer]",PZ="[object DataView]",kO=CO?CO.prototype:void 0,X0=kO?kO.valueOf:void 0;function OZ(t,e,n,r,i,o,s){switch(n){case PZ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case IZ:return!(t.byteLength!=e.byteLength||!o(new RO(t),new RO(e)));case vZ:case _Z:case TZ:return hZ(+t,+e);case wZ:return t.name==e.name&&t.message==e.message;case xZ:case SZ:return t==e+"";case bZ:var a=pZ;case EZ:var u=r&gZ;if(a||(a=mZ),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;r|=yZ,s.set(t,e);var c=dZ(a(t),a(e),r,i,o,s);return s.delete(t),c;case AZ:if(X0)return X0.call(t)==X0.call(e)}return!1}var CZ=OZ;function RZ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var q4=RZ,kZ=q4,DZ=Rn;function MZ(t,e,n){var r=e(t);return DZ(t)?r:kZ(r,n(t))}var NZ=MZ;function VZ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var $Z=VZ;function jZ(){return[]}var LZ=jZ,FZ=$Z,BZ=LZ,UZ=Object.prototype,zZ=UZ.propertyIsEnumerable,DO=Object.getOwnPropertySymbols,WZ=DO?function(t){return t==null?[]:(t=Object(t),FZ(DO(t),function(e){return zZ.call(t,e)}))}:BZ,HZ=WZ;function qZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var GZ=qZ,KZ=Ui,YZ=zi,XZ="[object Arguments]";function QZ(t){return YZ(t)&&KZ(t)==XZ}var JZ=QZ,MO=JZ,ZZ=zi,G4=Object.prototype,eee=G4.hasOwnProperty,tee=G4.propertyIsEnumerable,nee=MO(function(){return arguments}())?MO:function(t){return ZZ(t)&&eee.call(t,"callee")&&!tee.call(t,"callee")},Bx=nee,Lm={exports:{}};function ree(){return!1}var iee=ree;Lm.exports;(function(t,e){var n=li,r=iee,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,u=a?a.isBuffer:void 0,l=u||r;t.exports=l})(Lm,Lm.exports);var K4=Lm.exports,oee=9007199254740991,see=/^(?:0|[1-9]\d*)$/;function aee(t,e){var n=typeof t;return e=e??oee,!!e&&(n=="number"||n!="symbol"&&see.test(t))&&t>-1&&t%1==0&&t<e}var Ux=aee,uee=9007199254740991;function lee(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=uee}var zx=lee,cee=Ui,fee=zx,hee=zi,dee="[object Arguments]",pee="[object Array]",mee="[object Boolean]",gee="[object Date]",yee="[object Error]",vee="[object Function]",_ee="[object Map]",wee="[object Number]",bee="[object Object]",Tee="[object RegExp]",xee="[object Set]",Eee="[object String]",See="[object WeakMap]",Aee="[object ArrayBuffer]",Iee="[object DataView]",Pee="[object Float32Array]",Oee="[object Float64Array]",Cee="[object Int8Array]",Ree="[object Int16Array]",kee="[object Int32Array]",Dee="[object Uint8Array]",Mee="[object Uint8ClampedArray]",Nee="[object Uint16Array]",Vee="[object Uint32Array]",Qe={};Qe[Pee]=Qe[Oee]=Qe[Cee]=Qe[Ree]=Qe[kee]=Qe[Dee]=Qe[Mee]=Qe[Nee]=Qe[Vee]=!0;Qe[dee]=Qe[pee]=Qe[Aee]=Qe[mee]=Qe[Iee]=Qe[gee]=Qe[yee]=Qe[vee]=Qe[_ee]=Qe[wee]=Qe[bee]=Qe[Tee]=Qe[xee]=Qe[Eee]=Qe[See]=!1;function $ee(t){return hee(t)&&fee(t.length)&&!!Qe[cee(t)]}var jee=$ee;function Lee(t){return function(e){return t(e)}}var Y4=Lee,Fm={exports:{}};Fm.exports;(function(t,e){var n=r4,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var u=i&&i.require&&i.require("util").types;return u||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Fm,Fm.exports);var Fee=Fm.exports,Bee=jee,Uee=Y4,NO=Fee,VO=NO&&NO.isTypedArray,zee=VO?Uee(VO):Bee,X4=zee,Wee=GZ,Hee=Bx,qee=Rn,Gee=K4,Kee=Ux,Yee=X4,Xee=Object.prototype,Qee=Xee.hasOwnProperty;function Jee(t,e){var n=qee(t),r=!n&&Hee(t),i=!n&&!r&&Gee(t),o=!n&&!r&&!i&&Yee(t),s=n||r||i||o,a=s?Wee(t.length,String):[],u=a.length;for(var l in t)(e||Qee.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Kee(l,u)))&&a.push(l);return a}var Zee=Jee,ete=Object.prototype;function tte(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ete;return t===n}var nte=tte;function rte(t,e){return function(n){return t(e(n))}}var Q4=rte,ite=Q4,ote=ite(Object.keys,Object),ste=ote,ate=nte,ute=ste,lte=Object.prototype,cte=lte.hasOwnProperty;function fte(t){if(!ate(t))return ute(t);var e=[];for(var n in Object(t))cte.call(t,n)&&n!="constructor"&&e.push(n);return e}var hte=fte,dte=Ex,pte=zx;function mte(t){return t!=null&&pte(t.length)&&!dte(t)}var By=mte,gte=Zee,yte=hte,vte=By;function _te(t){return vte(t)?gte(t):yte(t)}var Wx=_te,wte=NZ,bte=HZ,Tte=Wx;function xte(t){return wte(t,Tte,bte)}var Ete=xte,$O=Ete,Ste=1,Ate=Object.prototype,Ite=Ate.hasOwnProperty;function Pte(t,e,n,r,i,o){var s=n&Ste,a=$O(t),u=a.length,l=$O(e),c=l.length;if(u!=c&&!s)return!1;for(var f=u;f--;){var d=a[f];if(!(s?d in e:Ite.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var b=s;++f<u;){d=a[f];var y=t[d],_=e[d];if(r)var E=s?r(_,y,d,e,t,o):r(y,_,d,t,e,o);if(!(E===void 0?y===_||i(y,_,n,r,o):E)){m=!1;break}b||(b=d=="constructor")}if(m&&!b){var P=t.constructor,x=e.constructor;P!=x&&"constructor"in t&&"constructor"in e&&!(typeof P=="function"&&P instanceof P&&typeof x=="function"&&x instanceof x)&&(m=!1)}return o.delete(t),o.delete(e),m}var Ote=Pte,Cte=ya,Rte=li,kte=Cte(Rte,"DataView"),Dte=kte,Mte=ya,Nte=li,Vte=Mte(Nte,"Promise"),$te=Vte,jte=ya,Lte=li,Fte=jte(Lte,"Set"),J4=Fte,Bte=ya,Ute=li,zte=Bte(Ute,"WeakMap"),Wte=zte,lb=Dte,cb=Ax,fb=$te,hb=J4,db=Wte,Z4=Ui,Dl=o4,jO="[object Map]",Hte="[object Object]",LO="[object Promise]",FO="[object Set]",BO="[object WeakMap]",UO="[object DataView]",qte=Dl(lb),Gte=Dl(cb),Kte=Dl(fb),Yte=Dl(hb),Xte=Dl(db),vs=Z4;(lb&&vs(new lb(new ArrayBuffer(1)))!=UO||cb&&vs(new cb)!=jO||fb&&vs(fb.resolve())!=LO||hb&&vs(new hb)!=FO||db&&vs(new db)!=BO)&&(vs=function(t){var e=Z4(t),n=e==Hte?t.constructor:void 0,r=n?Dl(n):"";if(r)switch(r){case qte:return UO;case Gte:return jO;case Kte:return LO;case Yte:return FO;case Xte:return BO}return e});var Qte=vs,Q0=B4,Jte=H4,Zte=CZ,ene=Ote,zO=Qte,WO=Rn,HO=K4,tne=X4,nne=1,qO="[object Arguments]",GO="[object Array]",Xd="[object Object]",rne=Object.prototype,KO=rne.hasOwnProperty;function ine(t,e,n,r,i,o){var s=WO(t),a=WO(e),u=s?GO:zO(t),l=a?GO:zO(e);u=u==qO?Xd:u,l=l==qO?Xd:l;var c=u==Xd,f=l==Xd,d=u==l;if(d&&HO(t)){if(!HO(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Q0),s||tne(t)?Jte(t,e,n,r,i,o):Zte(t,e,u,n,r,i,o);if(!(n&nne)){var p=c&&KO.call(t,"__wrapped__"),g=f&&KO.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,b=g?e.value():e;return o||(o=new Q0),i(m,b,n,r,o)}}return d?(o||(o=new Q0),ene(t,e,n,r,i,o)):!1}var one=ine,sne=one,YO=zi;function ej(t,e,n,r,i){return t===e?!0:t==null||e==null||!YO(t)&&!YO(e)?t!==t&&e!==e:sne(t,e,n,r,ej,i)}var Hx=ej,ane=B4,une=Hx,lne=1,cne=2;function fne(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var u=a[0],l=t[u],c=a[1];if(s&&a[2]){if(l===void 0&&!(u in t))return!1}else{var f=new ane;if(r)var d=r(l,c,u,t,e,f);if(!(d===void 0?une(c,l,lne|cne,r,f):d))return!1}}return!0}var hne=fne,dne=Yo;function pne(t){return t===t&&!dne(t)}var tj=pne,mne=tj,gne=Wx;function yne(t){for(var e=gne(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mne(i)]}return e}var vne=yne;function _ne(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var nj=_ne,wne=hne,bne=vne,Tne=nj;function xne(t){var e=bne(t);return e.length==1&&e[0][2]?Tne(e[0][0],e[0][1]):function(n){return n===t||wne(n,t,e)}}var Ene=xne;function Sne(t,e){return t!=null&&e in Object(t)}var Ane=Sne,Ine=c4,Pne=Bx,One=Rn,Cne=Ux,Rne=zx,kne=Ey;function Dne(t,e,n){e=Ine(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=kne(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Rne(i)&&Cne(s,i)&&(One(t)||Pne(t)))}var Mne=Dne,Nne=Ane,Vne=Mne;function $ne(t,e){return t!=null&&Vne(t,e,Nne)}var jne=$ne,Lne=Hx,Fne=f4,Bne=jne,Une=xx,zne=tj,Wne=nj,Hne=Ey,qne=1,Gne=2;function Kne(t,e){return Une(t)&&zne(e)?Wne(Hne(t),e):function(n){var r=Fne(n,t);return r===void 0&&r===e?Bne(n,t):Lne(e,r,qne|Gne)}}var Yne=Kne;function Xne(t){return t}var Ml=Xne;function Qne(t){return function(e){return e==null?void 0:e[t]}}var Jne=Qne,Zne=Cx;function ere(t){return function(e){return Zne(e,t)}}var tre=ere,nre=Jne,rre=tre,ire=xx,ore=Ey;function sre(t){return ire(t)?nre(ore(t)):rre(t)}var are=sre,ure=Ene,lre=Yne,cre=Ml,fre=Rn,hre=are;function dre(t){return typeof t=="function"?t:t==null?cre:typeof t=="object"?fre(t)?lre(t[0],t[1]):ure(t):hre(t)}var Xo=dre;function pre(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var mre=pre;function gre(t){return t!==t}var yre=gre;function vre(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var _re=vre,wre=mre,bre=yre,Tre=_re;function xre(t,e,n){return e===e?Tre(t,e,n):wre(t,bre,n)}var Ere=xre,Sre=Ere;function Are(t,e){var n=t==null?0:t.length;return!!n&&Sre(t,e,0)>-1}var Ire=Are;function Pre(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ore=Pre;function Cre(){}var Rre=Cre,J0=J4,kre=Rre,Dre=Fx,Mre=1/0,Nre=J0&&1/Dre(new J0([,-0]))[1]==Mre?function(t){return new J0(t)}:kre,Vre=Nre,$re=U4,jre=Ire,Lre=Ore,Fre=W4,Bre=Vre,Ure=Fx,zre=200;function Wre(t,e,n){var r=-1,i=jre,o=t.length,s=!0,a=[],u=a;if(n)s=!1,i=Lre;else if(o>=zre){var l=e?null:Bre(t);if(l)return Ure(l);s=!1,i=Fre,u=new $re}else u=e?[]:a;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;e&&u.push(f),a.push(c)}else i(u,f,n)||(u!==a&&u.push(f),a.push(c))}return a}var Hre=Wre,qre=Xo,Gre=Hre;function Kre(t,e){return t&&t.length?Gre(t,qre(e)):[]}var Yre=Kre;const XO=Be(Yre);function rj(t,e,n){return e===!0?XO(t,n):we(e)?XO(t,e):t}function Bu(t){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bu(t)}var Xre=["ref"];function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oj(r.key),r)}}function Jre(t,e,n){return e&&JO(t.prototype,e),n&&JO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zre(t,e,n){return e=Bm(e),eie(t,ij()?Reflect.construct(e,n||[],Bm(t).constructor):e.apply(t,n))}function eie(t,e){if(e&&(Bu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tie(t)}function tie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ij(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ij=function(){return!!t})()}function Bm(t){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bm(t)}function nie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function Uy(t,e,n){return e=oj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oj(t){var e=rie(t,"string");return Bu(e)=="symbol"?e:e+""}function rie(t,e){if(Bu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iie(t,e){if(t==null)return{};var n=oie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sie(t){return t.value}function aie(t,e){if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return N.createElement(t,e);e.ref;var n=iie(e,Xre);return N.createElement(Lx,n)}var ZO=1,_u=function(t){function e(){var n;Qre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Zre(this,e,[].concat(i)),Uy(n,"lastBoundingBox",{width:-1,height:-1}),n}return nie(e,t),Jre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>ZO||Math.abs(i.height-this.lastBoundingBox.height)>ZO)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,u=i.margin,l=i.chartWidth,c=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((l||0)-p.width)/2}}else f=s==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var g=this.getBBoxSnapshot();d={top:((c||0)-g.height)/2}}else d=a==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return fi(fi({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,a=i.height,u=i.wrapperStyle,l=i.payloadUniqBy,c=i.payload,f=fi(fi({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(u)),u);return N.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},aie(o,fi(fi({},this.props),{},{payload:rj(c,l,sie)})))}}],[{key:"getWithHeight",value:function(r,i){var o=fi(fi({},this.defaultProps),r.props),s=o.layout;return s==="vertical"&&re(r.props.height)?{height:r.props.height}:s==="horizontal"?{width:r.props.width||i}:null}}])}(j.PureComponent);Uy(_u,"displayName","Legend");Uy(_u,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e2=Kh,uie=Bx,lie=Rn,t2=e2?e2.isConcatSpreadable:void 0;function cie(t){return lie(t)||uie(t)||!!(t2&&t&&t[t2])}var fie=cie,hie=q4,die=fie;function sj(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=die),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?sj(a,e-1,n,r,i):hie(i,a):r||(i[i.length]=a)}return i}var aj=sj;function pie(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),a=s.length;a--;){var u=s[t?a:++i];if(n(o[u],u,o)===!1)break}return e}}var mie=pie,gie=mie,yie=gie(),vie=yie,_ie=vie,wie=Wx;function bie(t,e){return t&&_ie(t,e,wie)}var uj=bie,Tie=By;function xie(t,e){return function(n,r){if(n==null)return n;if(!Tie(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var Eie=xie,Sie=uj,Aie=Eie,Iie=Aie(Sie),qx=Iie,Pie=qx,Oie=By;function Cie(t,e){var n=-1,r=Oie(t)?Array(t.length):[];return Pie(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var lj=Cie;function Rie(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var kie=Rie,n2=Il;function Die(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=n2(t),s=e!==void 0,a=e===null,u=e===e,l=n2(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!l&&t<e||l&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}var Mie=Die,Nie=Mie;function Vie(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,a=n.length;++r<s;){var u=Nie(i[r],o[r]);if(u){if(r>=a)return u;var l=n[r];return u*(l=="desc"?-1:1)}}return t.index-e.index}var $ie=Vie,Z0=Ox,jie=Cx,Lie=Xo,Fie=lj,Bie=kie,Uie=Y4,zie=$ie,Wie=Ml,Hie=Rn;function qie(t,e,n){e.length?e=Z0(e,function(o){return Hie(o)?function(s){return jie(s,o.length===1?o[0]:o)}:o}):e=[Wie];var r=-1;e=Z0(e,Uie(Lie));var i=Fie(t,function(o,s,a){var u=Z0(e,function(l){return l(o)});return{criteria:u,index:++r,value:o}});return Bie(i,function(o,s){return zie(o,s,n)})}var Gie=qie;function Kie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Yie=Kie,Xie=Yie,r2=Math.max;function Qie(t,e,n){return e=r2(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=r2(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(s),Xie(t,this,a)}}var Jie=Qie;function Zie(t){return function(){return t}}var eoe=Zie,toe=ya,noe=function(){try{var t=toe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),cj=noe,roe=eoe,i2=cj,ioe=Ml,ooe=i2?function(t,e){return i2(t,"toString",{configurable:!0,enumerable:!1,value:roe(e),writable:!0})}:ioe,soe=ooe,aoe=800,uoe=16,loe=Date.now;function coe(t){var e=0,n=0;return function(){var r=loe(),i=uoe-(r-n);if(n=r,i>0){if(++e>=aoe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var foe=coe,hoe=soe,doe=foe,poe=doe(hoe),moe=poe,goe=Ml,yoe=Jie,voe=moe;function _oe(t,e){return voe(yoe(t,e,goe),t+"")}var woe=_oe,boe=Sx,Toe=By,xoe=Ux,Eoe=Yo;function Soe(t,e,n){if(!Eoe(n))return!1;var r=typeof e;return(r=="number"?Toe(n)&&xoe(e,n.length):r=="string"&&e in n)?boe(n[e],t):!1}var zy=Soe,Aoe=aj,Ioe=Gie,Poe=woe,o2=zy,Ooe=Poe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&o2(t,e[0],e[1])?e=[]:n>2&&o2(e[0],e[1],e[2])&&(e=[e[0]]),Ioe(t,Aoe(e,1),[])}),Coe=Ooe;const Gx=Be(Coe);function Gf(t){"@babel/helpers - typeof";return Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(t)}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}function Roe(t,e){return Noe(t)||Moe(t,e)||Doe(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Doe(t,e){if(t){if(typeof t=="string")return s2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s2(t,e)}}function s2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Moe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Noe(t){if(Array.isArray(t))return t}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function e_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){Voe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Voe(t,e,n){return e=$oe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $oe(t){var e=joe(t,"string");return Gf(e)=="symbol"?e:e+""}function joe(t,e){if(Gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Loe(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var Foe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,u=e.labelStyle,l=u===void 0?{}:u,c=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,b=e.labelFormatter,y=e.accessibilityLayer,_=y===void 0?!1:y,E=function(){if(c&&c.length){var C={padding:0,margin:0},R=(d?Gx(c,d):c).map(function(U,W){if(U.type==="none")return null;var K=e_({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},a),q=U.formatter||f||Loe,L=U.value,H=U.name,G=L,ie=H;if(q&&G!=null&&ie!=null){var J=q(L,H,U,W,c);if(Array.isArray(J)){var he=Roe(J,2);G=he[0],ie=he[1]}else G=J}return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:K},Dt(ie)?N.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Dt(ie)?N.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,N.createElement("span",{className:"recharts-tooltip-item-value"},G),N.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:C},R)}return null},P=e_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),x=e_({margin:0},l),S=!Ae(m),w=S?m:"",T=Ce("recharts-default-tooltip",p),I=Ce("recharts-tooltip-label",g);S&&b&&c!==void 0&&c!==null&&(w=b(m,c));var O=_?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",mb({className:T,style:P},O),N.createElement("p",{className:I,style:x},N.isValidElement(w)?w:"".concat(w)),E())};function Kf(t){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kf(t)}function Qd(t,e,n){return e=Boe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Boe(t){var e=Uoe(t,"string");return Kf(e)=="symbol"?e:e+""}function Uoe(t,e){if(Kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vc="recharts-tooltip-wrapper",zoe={visibility:"hidden"};function Woe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ce(vc,Qd(Qd(Qd(Qd({},"".concat(vc,"-right"),re(n)&&e&&re(e.x)&&n>=e.x),"".concat(vc,"-left"),re(n)&&e&&re(e.x)&&n<e.x),"".concat(vc,"-bottom"),re(r)&&e&&re(e.y)&&r>=e.y),"".concat(vc,"-top"),re(r)&&e&&re(e.y)&&r<e.y))}function u2(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,u=t.viewBox,l=t.viewBoxDimension;if(o&&re(o[r]))return o[r];var c=n[r]-a-i,f=n[r]+i;if(e[r])return s[r]?c:f;if(s[r]){var d=c,p=u[r];return d<p?Math.max(f,u[r]):Math.max(c,u[r])}var g=f+a,m=u[r]+l;return g>m?Math.max(c,u[r]):Math.max(f,u[r])}function Hoe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function qoe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,u=t.viewBox,l,c,f;return s.height>0&&s.width>0&&n?(c=u2({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:u,viewBoxDimension:u.width}),f=u2({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:u,viewBoxDimension:u.height}),l=Hoe({translateX:c,translateY:f,useTranslate3d:a})):l=zoe,{cssProperties:l,cssClasses:Woe({translateX:c,translateY:f,coordinate:n})}}function Uu(t){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(t)}function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){yb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Goe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Koe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hj(r.key),r)}}function Yoe(t,e,n){return e&&Koe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,e,n){return e=Um(e),Qoe(t,fj()?Reflect.construct(e,n||[],Um(t).constructor):e.apply(t,n))}function Qoe(t,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fj=function(){return!!t})()}function Um(t){return Um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Um(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gb(t,e)}function gb(t,e){return gb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gb(t,e)}function yb(t,e,n){return e=hj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t){var e=ese(t,"string");return Uu(e)=="symbol"?e:e+""}function ese(t,e){if(Uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f2=1,tse=function(t){function e(){var n;Goe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Xoe(this,e,[].concat(i)),yb(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yb(n,"handleKeyDown",function(s){if(s.key==="Escape"){var a,u,l,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&a!==void 0?a:0,y:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&l!==void 0?l:0}})}}),n}return Zoe(e,t),Yoe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>f2||Math.abs(r.height-this.state.lastBoundingBox.height)>f2)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,u=i.animationEasing,l=i.children,c=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,b=i.useTranslate3d,y=i.viewBox,_=i.wrapperStyle,E=qoe({allowEscapeViewBox:s,coordinate:c,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:y}),P=E.cssClasses,x=E.cssProperties,S=c2(c2({transition:d&&o?"transform ".concat(a,"ms ").concat(u):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},_);return N.createElement("div",{tabIndex:-1,className:P,style:S,ref:function(T){r.wrapperNode=T}},l)}}])}(j.PureComponent),nse=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wy={isSsr:nse()};function zu(t){"@babel/helpers - typeof";return zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zu(t)}function h2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h2(Object(n),!0).forEach(function(r){Kx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ise(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pj(r.key),r)}}function ose(t,e,n){return e&&ise(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sse(t,e,n){return e=zm(e),ase(t,dj()?Reflect.construct(e,n||[],zm(t).constructor):e.apply(t,n))}function ase(t,e){if(e&&(zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return use(t)}function use(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dj=function(){return!!t})()}function zm(t){return zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zm(t)}function lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vb(t,e)}function vb(t,e){return vb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vb(t,e)}function Kx(t,e,n){return e=pj(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pj(t){var e=cse(t,"string");return zu(e)=="symbol"?e:e+""}function cse(t,e){if(zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fse(t){return t.dataKey}function hse(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(Foe,e)}var Wr=function(t){function e(){return rse(this,e),sse(this,e,arguments)}return lse(e,t),ose(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,u=i.animationEasing,l=i.content,c=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,b=i.position,y=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,P=i.wrapperStyle,x=g??[];f&&x.length&&(x=rj(g.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),m,fse));var S=x.length>0;return N.createElement(tse,{allowEscapeViewBox:s,animationDuration:a,animationEasing:u,isAnimationActive:d,active:o,coordinate:c,hasPayload:S,offset:p,position:b,reverseDirection:y,useTranslate3d:_,viewBox:E,wrapperStyle:P},hse(l,d2(d2({},this.props),{},{payload:x})))}}])}(j.PureComponent);Kx(Wr,"displayName","Tooltip");Kx(Wr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wy.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var dse=li,pse=function(){return dse.Date.now()},mse=pse,gse=/\s/;function yse(t){for(var e=t.length;e--&&gse.test(t.charAt(e)););return e}var vse=yse,_se=vse,wse=/^\s+/;function bse(t){return t&&t.slice(0,_se(t)+1).replace(wse,"")}var Tse=bse,xse=Tse,p2=Yo,Ese=Il,m2=NaN,Sse=/^[-+]0x[0-9a-f]+$/i,Ase=/^0b[01]+$/i,Ise=/^0o[0-7]+$/i,Pse=parseInt;function Ose(t){if(typeof t=="number")return t;if(Ese(t))return m2;if(p2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=p2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=xse(t);var n=Ase.test(t);return n||Ise.test(t)?Pse(t.slice(2),n?2:8):Sse.test(t)?m2:+t}var mj=Ose,Cse=Yo,t_=mse,g2=mj,Rse="Expected a function",kse=Math.max,Dse=Math.min;function Mse(t,e,n){var r,i,o,s,a,u,l=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Rse);e=g2(e)||0,Cse(n)&&(c=!!n.leading,f="maxWait"in n,o=f?kse(g2(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(S){var w=r,T=i;return r=i=void 0,l=S,s=t.apply(T,w),s}function g(S){return l=S,a=setTimeout(y,e),c?p(S):s}function m(S){var w=S-u,T=S-l,I=e-w;return f?Dse(I,o-T):I}function b(S){var w=S-u,T=S-l;return u===void 0||w>=e||w<0||f&&T>=o}function y(){var S=t_();if(b(S))return _(S);a=setTimeout(y,m(S))}function _(S){return a=void 0,d&&r?p(S):(r=i=void 0,s)}function E(){a!==void 0&&clearTimeout(a),l=0,r=u=i=a=void 0}function P(){return a===void 0?s:_(t_())}function x(){var S=t_(),w=b(S);if(r=arguments,i=this,u=S,w){if(a===void 0)return g(u);if(f)return clearTimeout(a),a=setTimeout(y,e),p(u)}return a===void 0&&(a=setTimeout(y,e)),s}return x.cancel=E,x.flush=P,x}var Nse=Mse,Vse=Nse,$se=Yo,jse="Expected a function";function Lse(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(jse);return $se(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Vse(t,e,{leading:r,maxWait:e,trailing:i})}var Fse=Lse;const gj=Be(Fse);function Yf(t){"@babel/helpers - typeof";return Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yf(t)}function y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y2(Object(n),!0).forEach(function(r){Bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bse(t,e,n){return e=Use(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Use(t){var e=zse(t,"string");return Yf(e)=="symbol"?e:e+""}function zse(t,e){if(Yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wse(t,e){return Kse(t)||Gse(t,e)||qse(t,e)||Hse()}function Hse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return v2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v2(t,e)}}function v2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Kse(t){if(Array.isArray(t))return t}var Yse=j.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,a=t.height,u=a===void 0?"100%":a,l=t.minWidth,c=l===void 0?0:l,f=t.minHeight,d=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,b=t.id,y=t.className,_=t.onResize,E=t.style,P=E===void 0?{}:E,x=j.useRef(null),S=j.useRef();S.current=_,j.useImperativeHandle(e,function(){return Object.defineProperty(x.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),x.current},configurable:!0})});var w=j.useState({containerWidth:i.width,containerHeight:i.height}),T=Wse(w,2),I=T[0],O=T[1],k=j.useCallback(function(R,U){O(function(W){var K=Math.round(R),q=Math.round(U);return W.containerWidth===K&&W.containerHeight===q?W:{containerWidth:K,containerHeight:q}})},[]);j.useEffect(function(){var R=function(H){var G,ie=H[0].contentRect,J=ie.width,he=ie.height;k(J,he),(G=S.current)===null||G===void 0||G.call(S,J,he)};m>0&&(R=gj(R,m,{trailing:!0,leading:!1}));var U=new ResizeObserver(R),W=x.current.getBoundingClientRect(),K=W.width,q=W.height;return k(K,q),U.observe(x.current),function(){U.disconnect()}},[k,m]);var C=j.useMemo(function(){var R=I.containerWidth,U=I.containerHeight;if(R<0||U<0)return null;Ii(ks(s)||ks(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,u),Ii(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=ks(s)?R:s,K=ks(u)?U:u;n&&n>0&&(W?K=W/n:K&&(W=K*n),d&&K>d&&(K=d)),Ii(W>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,K,s,u,c,f,n);var q=!Array.isArray(p)&&Ai(p.type).endsWith("Chart");return N.Children.map(p,function(L){return N.isValidElement(L)?j.cloneElement(L,Jd({width:W,height:K},q?{style:Jd({height:"100%",width:"100%",maxHeight:K,maxWidth:W},L.props.style)}:{})):L})},[n,p,u,d,f,c,I,s]);return N.createElement("div",{id:b?"".concat(b):void 0,className:Ce("recharts-responsive-container",y),style:Jd(Jd({},P),{},{width:s,height:u,minWidth:c,minHeight:f,maxHeight:d}),ref:x},C)}),Yx=function(e){return null};Yx.displayName="Cell";function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function _2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _b(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_2(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return e=Qse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qse(t){var e=Jse(t,"string");return Xf(e)=="symbol"?e:e+""}function Jse(t,e){if(Xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ka={widthCache:{},cacheCount:0},Zse=2e3,eae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},w2="recharts_measurement_span";function tae(t){var e=_b({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var b2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Wy.isSsr)return{width:0,height:0};var r=tae(n),i=JSON.stringify({text:e,copyStyle:r});if(ka.widthCache[i])return ka.widthCache[i];try{var o=document.getElementById(w2);o||(o=document.createElement("span"),o.setAttribute("id",w2),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=_b(_b({},eae),r);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),u={width:a.width,height:a.height};return ka.widthCache[i]=u,++ka.cacheCount>Zse&&(ka.cacheCount=0,ka.widthCache={}),u}catch{return{width:0,height:0}}},nae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Qf(t){"@babel/helpers - typeof";return Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qf(t)}function Wm(t,e){return sae(t)||oae(t,e)||iae(t,e)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iae(t,e){if(t){if(typeof t=="string")return T2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T2(t,e)}}function T2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function sae(t){if(Array.isArray(t))return t}function aae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lae(r.key),r)}}function uae(t,e,n){return e&&x2(t.prototype,e),n&&x2(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lae(t){var e=cae(t,"string");return Qf(e)=="symbol"?e:e+""}function cae(t,e){if(Qf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,S2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,yj={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dae=Object.keys(yj),lu="NaN";function pae(t,e){return t*yj[e]}var Zd=function(){function t(e,n){aae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!fae.test(n)&&(this.num=NaN,this.unit=""),dae.includes(n)&&(this.num=pae(e,n),this.unit="px")}return uae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=hae.exec(n))!==null&&r!==void 0?r:[],o=Wm(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])}();function vj(t){if(t.includes(lu))return lu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=E2.exec(e))!==null&&n!==void 0?n:[],i=Wm(r,4),o=i[1],s=i[2],a=i[3],u=Zd.parse(o??""),l=Zd.parse(a??""),c=s==="*"?u.multiply(l):u.divide(l);if(c.isNaN())return lu;e=e.replace(E2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=S2.exec(e))!==null&&f!==void 0?f:[],p=Wm(d,4),g=p[1],m=p[2],b=p[3],y=Zd.parse(g??""),_=Zd.parse(b??""),E=m==="+"?y.add(_):y.subtract(_);if(E.isNaN())return lu;e=e.replace(S2,E.toString())}return e}var A2=/\(([^()]*)\)/;function mae(t){for(var e=t;e.includes("(");){var n=A2.exec(e),r=Wm(n,2),i=r[1];e=e.replace(A2,vj(i))}return e}function gae(t){var e=t.replace(/\s+/g,"");return e=mae(e),e=vj(e),e}function yae(t){try{return gae(t)}catch{return lu}}function n_(t){var e=yae(t.slice(5,-1));return e===lu?"":e}var vae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_ae=["dx","dy","angle","className","breakAll"];function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}function I2(t,e){if(t==null)return{};var n=wae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function P2(t,e){return Eae(t)||xae(t,e)||Tae(t,e)||bae()}function bae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tae(t,e){if(t){if(typeof t=="string")return O2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O2(t,e)}}function O2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Eae(t){if(Array.isArray(t))return t}var _j=/[ \f\n\r\t\v\u2028\u2029]+/,wj=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ae(n)||(r?o=n.toString().split(""):o=n.toString().split(_j));var s=o.map(function(u){return{word:u,width:b2(u,i).width}}),a=r?0:b2("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Sae=function(e,n,r,i,o){var s=e.maxLines,a=e.children,u=e.style,l=e.breakAll,c=re(s),f=a,d=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(K,q){var L=q.word,H=q.width,G=K[K.length-1];if(G&&(i==null||o||G.width+H+r<Number(i)))G.words.push(L),G.width+=H+r;else{var ie={words:[L],width:H};K.push(ie)}return K},[])},p=d(n),g=function(W){return W.reduce(function(K,q){return K.width>q.width?K:q})};if(!c)return p;for(var m="",b=function(W){var K=f.slice(0,W),q=wj({breakAll:l,style:u,children:K+m}).wordsWithComputedWidth,L=d(q),H=L.length>s||g(L).width>Number(i);return[H,L]},y=0,_=f.length-1,E=0,P;y<=_&&E<=f.length-1;){var x=Math.floor((y+_)/2),S=x-1,w=b(S),T=P2(w,2),I=T[0],O=T[1],k=b(x),C=P2(k,1),R=C[0];if(!I&&!R&&(y=x+1),I&&R&&(_=x-1),!I&&R){P=O;break}E++}return P||p},C2=function(e){var n=Ae(e)?[]:e.toString().split(_j);return[{words:n}]},Aae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((n||r)&&!Wy.isSsr){var u,l,c=wj({breakAll:s,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,d=c.spaceWidth;u=f,l=d}else return C2(i);return Sae({breakAll:s,children:i,maxLines:a,style:o},u,l,n,r)}return C2(i)},R2="#808080",Wu=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,u=e.capHeight,l=u===void 0?"0.71em":u,c=e.scaleToFit,f=c===void 0?!1:c,d=e.textAnchor,p=d===void 0?"start":d,g=e.verticalAnchor,m=g===void 0?"end":g,b=e.fill,y=b===void 0?R2:b,_=I2(e,vae),E=j.useMemo(function(){return Aae({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:f,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,f,_.style,_.width]),P=_.dx,x=_.dy,S=_.angle,w=_.className,T=_.breakAll,I=I2(_,_ae);if(!Dt(r)||!Dt(o))return null;var O=r+(re(P)?P:0),k=o+(re(x)?x:0),C;switch(m){case"start":C=n_("calc(".concat(l,")"));break;case"middle":C=n_("calc(".concat((E.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:C=n_("calc(".concat(E.length-1," * -").concat(a,")"));break}var R=[];if(f){var U=E[0].width,W=_.width;R.push("scale(".concat((re(W)?W/U:1)/U,")"))}return S&&R.push("rotate(".concat(S,", ").concat(O,", ").concat(k,")")),R.length&&(I.transform=R.join(" ")),N.createElement("text",wb({},_e(I,!0),{x:O,y:k,className:Ce("recharts-text",w),textAnchor:p,fill:y.includes("url")?R2:y}),E.map(function(K,q){var L=K.words.join(T?"":" ");return N.createElement("tspan",{x:O,dy:q===0?C:a,key:"".concat(L,"-").concat(q)},L)}))};function Po(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Xx(t){let e,n,r;t.length!==2?(e=Po,n=(a,u)=>Po(t(a),u),r=(a,u)=>t(a)-u):(e=t===Po||t===Iae?t:Pae,n=t,r=t);function i(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<0?l=f+1:c=f}while(l<c)}return l}function o(a,u,l=0,c=a.length){if(l<c){if(e(u,u)!==0)return c;do{const f=l+c>>>1;n(a[f],u)<=0?l=f+1:c=f}while(l<c)}return l}function s(a,u,l=0,c=a.length){const f=i(a,u,l,c-1);return f>l&&r(a[f-1],u)>-r(a[f],u)?f-1:f}return{left:i,center:s,right:o}}function Pae(){return 0}function bj(t){return t===null?NaN:+t}function*Oae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Cae=Xx(Po),Qh=Cae.right;Xx(bj).center;class k2 extends Map{constructor(e,n=Dae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(D2(this,e))}has(e){return super.has(D2(this,e))}set(e,n){return super.set(Rae(this,e),n)}delete(e){return super.delete(kae(this,e))}}function D2({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Rae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Dae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Mae(t=Po){if(t===Po)return Tj;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Tj(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Nae=Math.sqrt(50),Vae=Math.sqrt(10),$ae=Math.sqrt(2);function Hm(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Nae?10:o>=Vae?5:o>=$ae?2:1;let a,u,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(t*l),u=Math.round(e*l),a/l<t&&++a,u/l>e&&--u,l=-l):(l=Math.pow(10,i)*s,a=Math.round(t/l),u=Math.round(e/l),a*l<t&&++a,u*l>e&&--u),u<a&&.5<=n&&n<2?Hm(t,e,n*2):[a,u,l]}function bb(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?Hm(e,t,n):Hm(t,e,n);if(!(o>=i))return[];const a=o-i+1,u=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)u[l]=(o-l)/-s;else for(let l=0;l<a;++l)u[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)u[l]=(i+l)/-s;else for(let l=0;l<a;++l)u[l]=(i+l)*s;return u}function Tb(t,e,n){return e=+e,t=+t,n=+n,Hm(t,e,n)[2]}function xb(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Tb(e,t,n):Tb(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function M2(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function N2(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function xj(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Tj:Mae(i);r>n;){if(r-n>600){const u=r-n+1,l=e-n+1,c=Math.log(u),f=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*f*(u-f)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*f/u+d)),g=Math.min(r,Math.floor(e+(u-l)*f/u+d));xj(t,e,p,g,i)}const o=t[e];let s=n,a=r;for(_c(t,n,e),i(t[r],o)>0&&_c(t,n,r);s<a;){for(_c(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[n],o)===0?_c(t,n,a):(++a,_c(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function _c(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function jae(t,e,n){if(t=Float64Array.from(Oae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return N2(t);if(e>=1)return M2(t);var r,i=(r-1)*e,o=Math.floor(i),s=M2(xj(t,o).subarray(0,o+1)),a=N2(t.subarray(o+1));return s+(a-s)*(i-o)}}function Lae(t,e,n=bj){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),a=+n(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function Fae(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function vr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Wi(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Eb=Symbol("implicit");function Qx(){var t=new k2,e=[],n=[],r=Eb;function i(o){let s=t.get(o);if(s===void 0){if(r!==Eb)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new k2;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Qx(e,n).unknown(r)},vr.apply(i,arguments),i}function Jf(){var t=Qx().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,a=!1,u=0,l=0,c=.5;delete t.unknown;function f(){var d=e().length,p=i<r,g=p?i:r,m=p?r:i;o=(m-g)/Math.max(1,d-u+l*2),a&&(o=Math.floor(o)),g+=(m-g-o*(d-u))*c,s=o*(1-u),a&&(g=Math.round(g),s=Math.round(s));var b=Fae(d).map(function(y){return g+o*y});return n(p?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(d){return arguments.length?(a=!!d,f()):a},t.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),f()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),f()):u},t.paddingOuter=function(d){return arguments.length?(l=+d,f()):l},t.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),f()):c},t.copy=function(){return Jf(e(),[r,i]).round(a).paddingInner(u).paddingOuter(l).align(c)},vr.apply(f(),arguments)}function Ej(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ej(e())},t}function sf(){return Ej(Jf.apply(null,arguments).paddingInner(1))}function Jx(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Sj(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jh(){}var Zf=.7,qm=1/Zf,wu="\\s*([+-]?\\d+)\\s*",eh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Bae=/^#([0-9a-f]{3,8})$/,Uae=new RegExp(`^rgb\\(${wu},${wu},${wu}\\)$`),zae=new RegExp(`^rgb\\(${ti},${ti},${ti}\\)$`),Wae=new RegExp(`^rgba\\(${wu},${wu},${wu},${eh}\\)$`),Hae=new RegExp(`^rgba\\(${ti},${ti},${ti},${eh}\\)$`),qae=new RegExp(`^hsl\\(${eh},${ti},${ti}\\)$`),Gae=new RegExp(`^hsla\\(${eh},${ti},${ti},${eh}\\)$`),V2={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jx(Jh,th,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$2,formatHex:$2,formatHex8:Kae,formatHsl:Yae,formatRgb:j2,toString:j2});function $2(){return this.rgb().formatHex()}function Kae(){return this.rgb().formatHex8()}function Yae(){return Aj(this).formatHsl()}function j2(){return this.rgb().formatRgb()}function th(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Bae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?L2(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ep(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ep(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uae.exec(t))?new An(e[1],e[2],e[3],1):(e=zae.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wae.exec(t))?ep(e[1],e[2],e[3],e[4]):(e=Hae.exec(t))?ep(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qae.exec(t))?U2(e[1],e[2]/100,e[3]/100,1):(e=Gae.exec(t))?U2(e[1],e[2]/100,e[3]/100,e[4]):V2.hasOwnProperty(t)?L2(V2[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function L2(t){return new An(t>>16&255,t>>8&255,t&255,1)}function ep(t,e,n,r){return r<=0&&(t=e=n=NaN),new An(t,e,n,r)}function Xae(t){return t instanceof Jh||(t=th(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function Sb(t,e,n,r){return arguments.length===1?Xae(t):new An(t,e,n,r??1)}function An(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Jx(An,Sb,Sj(Jh,{brighter(t){return t=t==null?qm:Math.pow(qm,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new An(Bs(this.r),Bs(this.g),Bs(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F2,formatHex:F2,formatHex8:Qae,formatRgb:B2,toString:B2}));function F2(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}`}function Qae(){return`#${Ds(this.r)}${Ds(this.g)}${Ds(this.b)}${Ds((isNaN(this.opacity)?1:this.opacity)*255)}`}function B2(){const t=Gm(this.opacity);return`${t===1?"rgb(":"rgba("}${Bs(this.r)}, ${Bs(this.g)}, ${Bs(this.b)}${t===1?")":`, ${t})`}`}function Gm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bs(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ds(t){return t=Bs(t),(t<16?"0":"")+t.toString(16)}function U2(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ir(t,e,n,r)}function Aj(t){if(t instanceof Ir)return new Ir(t.h,t.s,t.l,t.opacity);if(t instanceof Jh||(t=th(t)),!t)return new Ir;if(t instanceof Ir)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,u=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new Ir(s,a,u,t.opacity)}function Jae(t,e,n,r){return arguments.length===1?Aj(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Jx(Ir,Jae,Sj(Jh,{brighter(t){return t=t==null?qm:Math.pow(qm,t),new Ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zf:Math.pow(Zf,t),new Ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new An(r_(t>=240?t-240:t+120,i,r),r_(t,i,r),r_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ir(z2(this.h),tp(this.s),tp(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Gm(this.opacity);return`${t===1?"hsl(":"hsla("}${z2(this.h)}, ${tp(this.s)*100}%, ${tp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function z2(t){return t=(t||0)%360,t<0?t+360:t}function tp(t){return Math.max(0,Math.min(1,t||0))}function r_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Zx=t=>()=>t;function Zae(t,e){return function(n){return t+n*e}}function eue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function tue(t){return(t=+t)==1?Ij:function(e,n){return n-e?eue(e,n,t):Zx(isNaN(e)?n:e)}}function Ij(t,e){var n=e-t;return n?Zae(t,n):Zx(isNaN(t)?e:t)}const W2=function t(e){var n=tue(e);function r(i,o){var s=n((i=Sb(i)).r,(o=Sb(o)).r),a=n(i.g,o.g),u=n(i.b,o.b),l=Ij(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function nue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function rue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function iue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Nl(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function oue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Km(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function sue(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Nl(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Ab=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i_=new RegExp(Ab.source,"g");function aue(t){return function(){return t}}function uue(t){return function(e){return t(e)+""}}function lue(t,e){var n=Ab.lastIndex=i_.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Ab.exec(t))&&(i=i_.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Km(r,i)})),n=i_.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?uue(u[0].x):aue(e):(e=u.length,function(l){for(var c=0,f;c<e;++c)a[(f=u[c]).i]=f.x(l);return a.join("")})}function Nl(t,e){var n=typeof e,r;return e==null||n==="boolean"?Zx(e):(n==="number"?Km:n==="string"?(r=th(e))?(e=r,W2):lue:e instanceof th?W2:e instanceof Date?oue:rue(e)?nue:Array.isArray(e)?iue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?sue:Km)(t,e)}function eE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function cue(t,e){e===void 0&&(e=t,t=Nl);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function fue(t){return function(){return t}}function Ym(t){return+t}var H2=[0,1];function mn(t){return t}function Ib(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fue(isNaN(e)?NaN:.5)}function hue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function due(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Ib(i,r),o=n(s,o)):(r=Ib(r,i),o=n(o,s)),function(a){return o(r(a))}}function pue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Ib(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var u=Qh(t,a,1,r)-1;return o[u](i[u](a))}}function Zh(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hy(){var t=H2,e=H2,n=Nl,r,i,o,s=mn,a,u,l;function c(){var d=Math.min(t.length,e.length);return s!==mn&&(s=hue(t[0],t[d-1])),a=d>2?pue:due,u=l=null,f}function f(d){return d==null||isNaN(d=+d)?o:(u||(u=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((l||(l=a(e,t.map(r),Km)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Ym),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=eE,c()},f.clamp=function(d){return arguments.length?(s=d?!0:mn,c()):s!==mn},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,p){return r=d,i=p,c()}}function tE(){return Hy()(mn,mn)}function mue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xm(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Hu(t){return t=Xm(Math.abs(t)),t?t[1]:NaN}function gue(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],u=0;i>0&&a>0&&(u+a+1>r&&(a=Math.max(1,r-u)),o.push(n.substring(i-=a,i+a)),!((u+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function yue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var vue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function nh(t){if(!(e=vue.exec(t)))throw new Error("invalid format: "+t);var e;return new nE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}nh.prototype=nE.prototype;function nE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _ue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Qm;function wue(t,e){var n=Xm(t,e);if(!n)return Qm=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(Qm=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Xm(t,Math.max(0,e+o-1))[0]}function q2(t,e){var n=Xm(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const G2={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>q2(t*100,e),r:q2,s:wue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function K2(t){return t}var Y2=Array.prototype.map,X2=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bue(t){var e=t.grouping===void 0||t.thousands===void 0?K2:gue(Y2.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?K2:yue(Y2.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f,d){f=nh(f);var p=f.fill,g=f.align,m=f.sign,b=f.symbol,y=f.zero,_=f.width,E=f.comma,P=f.precision,x=f.trim,S=f.type;S==="n"?(E=!0,S="g"):G2[S]||(P===void 0&&(P=12),x=!0,S="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var w=(d&&d.prefix!==void 0?d.prefix:"")+(b==="$"?n:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),T=(b==="$"?r:/[%p]/.test(S)?s:"")+(d&&d.suffix!==void 0?d.suffix:""),I=G2[S],O=/[defgprs%]/.test(S);P=P===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function k(C){var R=w,U=T,W,K,q;if(S==="c")U=I(C)+U,C="";else{C=+C;var L=C<0||1/C<0;if(C=isNaN(C)?u:I(Math.abs(C),P),x&&(C=_ue(C)),L&&+C==0&&m!=="+"&&(L=!1),R=(L?m==="("?m:a:m==="-"||m==="("?"":m)+R,U=(S==="s"&&!isNaN(C)&&Qm!==void 0?X2[8+Qm/3]:"")+U+(L&&m==="("?")":""),O){for(W=-1,K=C.length;++W<K;)if(q=C.charCodeAt(W),48>q||q>57){U=(q===46?i+C.slice(W+1):C.slice(W))+U,C=C.slice(0,W);break}}}E&&!y&&(C=e(C,1/0));var H=R.length+C.length+U.length,G=H<_?new Array(_-H+1).join(p):"";switch(E&&y&&(C=e(G+C,G.length?_-U.length:1/0),G=""),g){case"<":C=R+C+U+G;break;case"=":C=R+G+C+U;break;case"^":C=G.slice(0,H=G.length>>1)+R+C+U+G.slice(H);break;default:C=G+R+C+U;break}return o(C)}return k.toString=function(){return f+""},k}function c(f,d){var p=Math.max(-8,Math.min(8,Math.floor(Hu(d)/3)))*3,g=Math.pow(10,-p),m=l((f=nh(f),f.type="f",f),{suffix:X2[8+p/3]});return function(b){return m(g*b)}}return{format:l,formatPrefix:c}}var np,rE,Pj;Tue({thousands:",",grouping:[3],currency:["$",""]});function Tue(t){return np=bue(t),rE=np.format,Pj=np.formatPrefix,np}function xue(t){return Math.max(0,-Hu(Math.abs(t)))}function Eue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hu(e)/3)))*3-Hu(Math.abs(t)))}function Sue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Hu(e)-Hu(t))+1}function Oj(t,e,n,r){var i=xb(t,e,n),o;switch(r=nh(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Eue(i,s))&&(r.precision=o),Pj(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Sue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=xue(i))&&(r.precision=o-(r.type==="%")*2);break}}return rE(r)}function Qo(t){var e=t.domain;return t.ticks=function(n){var r=e();return bb(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Oj(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],u,l,c=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);c-- >0;){if(l=Tb(s,a,n),l===u)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;u=l}return t},t}function Jm(){var t=tE();return t.copy=function(){return Zh(t,Jm())},vr.apply(t,arguments),Qo(t)}function Cj(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Ym),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Cj(t).unknown(e)},t=arguments.length?Array.from(t,Ym):[0,1],Qo(n)}function Rj(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Q2(t){return Math.log(t)}function J2(t){return Math.exp(t)}function Aue(t){return-Math.log(-t)}function Iue(t){return-Math.exp(-t)}function Pue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Oue(t){return t===10?Pue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Cue(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Z2(t){return(e,n)=>-t(-e,n)}function iE(t){const e=t(Q2,J2),n=e.domain;let r=10,i,o;function s(){return i=Cue(r),o=Oue(r),n()[0]<0?(i=Z2(i),o=Z2(o),t(Aue,Iue)):t(Q2,J2),e}return e.base=function(a){return arguments.length?(r=+a,s()):r},e.domain=function(a){return arguments.length?(n(a),s()):n()},e.ticks=a=>{const u=n();let l=u[0],c=u[u.length-1];const f=c<l;f&&([l,c]=[c,l]);let d=i(l),p=i(c),g,m;const b=a==null?10:+a;let y=[];if(!(r%1)&&p-d<b){if(d=Math.floor(d),p=Math.ceil(p),l>0){for(;d<=p;++d)for(g=1;g<r;++g)if(m=d<0?g/o(-d):g*o(d),!(m<l)){if(m>c)break;y.push(m)}}else for(;d<=p;++d)for(g=r-1;g>=1;--g)if(m=d>0?g/o(-d):g*o(d),!(m<l)){if(m>c)break;y.push(m)}y.length*2<b&&(y=bb(l,c,b))}else y=bb(d,p,Math.min(p-d,b)).map(o);return f?y.reverse():y},e.tickFormat=(a,u)=>{if(a==null&&(a=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=nh(u)).precision==null&&(u.trim=!0),u=rE(u)),a===1/0)return u;const l=Math.max(1,r*a/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=l?u(c):""}},e.nice=()=>n(Rj(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function kj(){const t=iE(Hy()).domain([1,10]);return t.copy=()=>Zh(t,kj()).base(t.base()),vr.apply(t,arguments),t}function eC(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tC(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function oE(t){var e=1,n=t(eC(e),tC(e));return n.constant=function(r){return arguments.length?t(eC(e=+r),tC(e)):e},Qo(n)}function Dj(){var t=oE(Hy());return t.copy=function(){return Zh(t,Dj()).constant(t.constant())},vr.apply(t,arguments)}function nC(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Rue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kue(t){return t<0?-t*t:t*t}function sE(t){var e=t(mn,mn),n=1;function r(){return n===1?t(mn,mn):n===.5?t(Rue,kue):t(nC(n),nC(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Qo(e)}function aE(){var t=sE(Hy());return t.copy=function(){return Zh(t,aE()).exponent(t.exponent())},vr.apply(t,arguments),t}function Due(){return aE.apply(null,arguments).exponent(.5)}function rC(t){return Math.sign(t)*t*t}function Mue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Mj(){var t=tE(),e=[0,1],n=!1,r;function i(o){var s=Mue(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(rC(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Ym)).map(rC)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Mj(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},vr.apply(i,arguments),Qo(i)}function Nj(){var t=[],e=[],n=[],r;function i(){var s=0,a=Math.max(1,e.length);for(n=new Array(a-1);++s<a;)n[s-1]=Lae(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Qh(n,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Po),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Nj().domain(t).range(e).unknown(r)},vr.apply(o,arguments)}function Vj(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(u){return u!=null&&u<=u?i[Qh(r,u,0,n)]:o}function a(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,a()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,a()):i.slice()},s.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[t,r[0]]:l>=n?[r[n-1],e]:[r[l-1],r[l]]},s.unknown=function(u){return arguments.length&&(o=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return Vj().domain([t,e]).range(i).unknown(o)},vr.apply(Qo(s),arguments)}function $j(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Qh(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return $j().domain(t).range(e).unknown(n)},vr.apply(i,arguments)}const o_=new Date,s_=new Date;function Vt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const u=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return u;let l;do u.push(l=new Date(+o)),e(o,a),t(o);while(l<o&&o<s);return u},i.filter=o=>Vt(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(o_.setTime(+o),s_.setTime(+s),t(o_),t(s_),Math.floor(n(o_,s_))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Zm=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Zm);Zm.range;const vi=1e3,ur=vi*60,_i=ur*60,Mi=_i*24,uE=Mi*7,iC=Mi*30,a_=Mi*365,Ms=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vi)},(t,e)=>(e-t)/vi,t=>t.getUTCSeconds());Ms.range;const lE=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getMinutes());lE.range;const cE=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ur)},(t,e)=>(e-t)/ur,t=>t.getUTCMinutes());cE.range;const fE=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vi-t.getMinutes()*ur)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getHours());fE.range;const hE=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCHours());hE.range;const ed=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ur)/Mi,t=>t.getDate()-1);ed.range;const qy=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mi,t=>t.getUTCDate()-1);qy.range;const jj=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Mi,t=>Math.floor(t/Mi));jj.range;function va(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ur)/uE)}const Gy=va(0),eg=va(1),Nue=va(2),Vue=va(3),qu=va(4),$ue=va(5),jue=va(6);Gy.range;eg.range;Nue.range;Vue.range;qu.range;$ue.range;jue.range;function _a(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uE)}const Ky=_a(0),tg=_a(1),Lue=_a(2),Fue=_a(3),Gu=_a(4),Bue=_a(5),Uue=_a(6);Ky.range;tg.range;Lue.range;Fue.range;Gu.range;Bue.range;Uue.range;const dE=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dE.range;const pE=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pE.range;const Ni=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ni.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ni.range;const Vi=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Vi.range;function Lj(t,e,n,r,i,o){const s=[[Ms,1,vi],[Ms,5,5*vi],[Ms,15,15*vi],[Ms,30,30*vi],[o,1,ur],[o,5,5*ur],[o,15,15*ur],[o,30,30*ur],[i,1,_i],[i,3,3*_i],[i,6,6*_i],[i,12,12*_i],[r,1,Mi],[r,2,2*Mi],[n,1,uE],[e,1,iC],[e,3,3*iC],[t,1,a_]];function a(l,c,f){const d=c<l;d&&([l,c]=[c,l]);const p=f&&typeof f.range=="function"?f:u(l,c,f),g=p?p.range(l,+c+1):[];return d?g.reverse():g}function u(l,c,f){const d=Math.abs(c-l)/f,p=Xx(([,,b])=>b).right(s,d);if(p===s.length)return t.every(xb(l/a_,c/a_,f));if(p===0)return Zm.every(Math.max(xb(l,c,f),1));const[g,m]=s[d/s[p-1][2]<s[p][2]/d?p-1:p];return g.every(m)}return[a,u]}const[zue,Wue]=Lj(Vi,pE,Ky,jj,hE,cE),[Hue,que]=Lj(Ni,dE,Gy,ed,fE,lE);function u_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function l_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wc(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Gue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,u=t.shortMonths,l=bc(i),c=Tc(i),f=bc(o),d=Tc(o),p=bc(s),g=Tc(s),m=bc(a),b=Tc(a),y=bc(u),_=Tc(u),E={a:q,A:L,b:H,B:G,c:null,d:cC,e:cC,f:gle,g:Ale,G:Ple,H:dle,I:ple,j:mle,L:Fj,m:yle,M:vle,p:ie,q:J,Q:dC,s:pC,S:_le,u:wle,U:ble,V:Tle,w:xle,W:Ele,x:null,X:null,y:Sle,Y:Ile,Z:Ole,"%":hC},P={a:he,A:Pe,b:dt,B:ot,c:null,d:fC,e:fC,f:Dle,g:zle,G:Hle,H:Cle,I:Rle,j:kle,L:Uj,m:Mle,M:Nle,p:bn,q:jt,Q:dC,s:pC,S:Vle,u:$le,U:jle,V:Lle,w:Fle,W:Ble,x:null,X:null,y:Ule,Y:Wle,Z:qle,"%":hC},x={a:O,A:k,b:C,B:R,c:U,d:uC,e:uC,f:lle,g:aC,G:sC,H:lC,I:lC,j:ole,L:ule,m:ile,M:sle,p:I,q:rle,Q:fle,s:hle,S:ale,u:Jue,U:Zue,V:ele,w:Que,W:tle,x:W,X:K,y:aC,Y:sC,Z:nle,"%":cle};E.x=S(n,E),E.X=S(r,E),E.c=S(e,E),P.x=S(n,P),P.X=S(r,P),P.c=S(e,P);function S(ne,ge){return function(ye){var Y=[],We=-1,xe=0,wt=ne.length,st,Lt,_r;for(ye instanceof Date||(ye=new Date(+ye));++We<wt;)ne.charCodeAt(We)===37&&(Y.push(ne.slice(xe,We)),(Lt=oC[st=ne.charAt(++We)])!=null?st=ne.charAt(++We):Lt=st==="e"?" ":"0",(_r=ge[st])&&(st=_r(ye,Lt)),Y.push(st),xe=We+1);return Y.push(ne.slice(xe,We)),Y.join("")}}function w(ne,ge){return function(ye){var Y=wc(1900,void 0,1),We=T(Y,ne,ye+="",0),xe,wt;if(We!=ye.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ge&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(xe=l_(wc(Y.y,0,1)),wt=xe.getUTCDay(),xe=wt>4||wt===0?tg.ceil(xe):tg(xe),xe=qy.offset(xe,(Y.V-1)*7),Y.y=xe.getUTCFullYear(),Y.m=xe.getUTCMonth(),Y.d=xe.getUTCDate()+(Y.w+6)%7):(xe=u_(wc(Y.y,0,1)),wt=xe.getDay(),xe=wt>4||wt===0?eg.ceil(xe):eg(xe),xe=ed.offset(xe,(Y.V-1)*7),Y.y=xe.getFullYear(),Y.m=xe.getMonth(),Y.d=xe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),wt="Z"in Y?l_(wc(Y.y,0,1)).getUTCDay():u_(wc(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(wt+5)%7:Y.w+Y.U*7-(wt+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,l_(Y)):u_(Y)}}function T(ne,ge,ye,Y){for(var We=0,xe=ge.length,wt=ye.length,st,Lt;We<xe;){if(Y>=wt)return-1;if(st=ge.charCodeAt(We++),st===37){if(st=ge.charAt(We++),Lt=x[st in oC?ge.charAt(We++):st],!Lt||(Y=Lt(ne,ye,Y))<0)return-1}else if(st!=ye.charCodeAt(Y++))return-1}return Y}function I(ne,ge,ye){var Y=l.exec(ge.slice(ye));return Y?(ne.p=c.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function O(ne,ge,ye){var Y=p.exec(ge.slice(ye));return Y?(ne.w=g.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function k(ne,ge,ye){var Y=f.exec(ge.slice(ye));return Y?(ne.w=d.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function C(ne,ge,ye){var Y=y.exec(ge.slice(ye));return Y?(ne.m=_.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function R(ne,ge,ye){var Y=m.exec(ge.slice(ye));return Y?(ne.m=b.get(Y[0].toLowerCase()),ye+Y[0].length):-1}function U(ne,ge,ye){return T(ne,e,ge,ye)}function W(ne,ge,ye){return T(ne,n,ge,ye)}function K(ne,ge,ye){return T(ne,r,ge,ye)}function q(ne){return s[ne.getDay()]}function L(ne){return o[ne.getDay()]}function H(ne){return u[ne.getMonth()]}function G(ne){return a[ne.getMonth()]}function ie(ne){return i[+(ne.getHours()>=12)]}function J(ne){return 1+~~(ne.getMonth()/3)}function he(ne){return s[ne.getUTCDay()]}function Pe(ne){return o[ne.getUTCDay()]}function dt(ne){return u[ne.getUTCMonth()]}function ot(ne){return a[ne.getUTCMonth()]}function bn(ne){return i[+(ne.getUTCHours()>=12)]}function jt(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=S(ne+="",E);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=w(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=S(ne+="",P);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=w(ne+="",!0);return ge.toString=function(){return ne},ge}}}var oC={"-":"",_:" ",0:"0"},qt=/^\s*\d+/,Kue=/^%/,Yue=/[\\^$*+?|[\]().{}]/g;function Re(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Xue(t){return t.replace(Yue,"\\$&")}function bc(t){return new RegExp("^(?:"+t.map(Xue).join("|")+")","i")}function Tc(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Que(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Jue(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zue(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ele(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tle(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function sC(t,e,n){var r=qt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nle(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rle(t,e,n){var r=qt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ile(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function uC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ole(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lC(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sle(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ale(t,e,n){var r=qt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ule(t,e,n){var r=qt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lle(t,e,n){var r=qt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cle(t,e,n){var r=Kue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fle(t,e,n){var r=qt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hle(t,e,n){var r=qt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function cC(t,e){return Re(t.getDate(),e,2)}function dle(t,e){return Re(t.getHours(),e,2)}function ple(t,e){return Re(t.getHours()%12||12,e,2)}function mle(t,e){return Re(1+ed.count(Ni(t),t),e,3)}function Fj(t,e){return Re(t.getMilliseconds(),e,3)}function gle(t,e){return Fj(t,e)+"000"}function yle(t,e){return Re(t.getMonth()+1,e,2)}function vle(t,e){return Re(t.getMinutes(),e,2)}function _le(t,e){return Re(t.getSeconds(),e,2)}function wle(t){var e=t.getDay();return e===0?7:e}function ble(t,e){return Re(Gy.count(Ni(t)-1,t),e,2)}function Bj(t){var e=t.getDay();return e>=4||e===0?qu(t):qu.ceil(t)}function Tle(t,e){return t=Bj(t),Re(qu.count(Ni(t),t)+(Ni(t).getDay()===4),e,2)}function xle(t){return t.getDay()}function Ele(t,e){return Re(eg.count(Ni(t)-1,t),e,2)}function Sle(t,e){return Re(t.getFullYear()%100,e,2)}function Ale(t,e){return t=Bj(t),Re(t.getFullYear()%100,e,2)}function Ile(t,e){return Re(t.getFullYear()%1e4,e,4)}function Ple(t,e){var n=t.getDay();return t=n>=4||n===0?qu(t):qu.ceil(t),Re(t.getFullYear()%1e4,e,4)}function Ole(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Re(e/60|0,"0",2)+Re(e%60,"0",2)}function fC(t,e){return Re(t.getUTCDate(),e,2)}function Cle(t,e){return Re(t.getUTCHours(),e,2)}function Rle(t,e){return Re(t.getUTCHours()%12||12,e,2)}function kle(t,e){return Re(1+qy.count(Vi(t),t),e,3)}function Uj(t,e){return Re(t.getUTCMilliseconds(),e,3)}function Dle(t,e){return Uj(t,e)+"000"}function Mle(t,e){return Re(t.getUTCMonth()+1,e,2)}function Nle(t,e){return Re(t.getUTCMinutes(),e,2)}function Vle(t,e){return Re(t.getUTCSeconds(),e,2)}function $le(t){var e=t.getUTCDay();return e===0?7:e}function jle(t,e){return Re(Ky.count(Vi(t)-1,t),e,2)}function zj(t){var e=t.getUTCDay();return e>=4||e===0?Gu(t):Gu.ceil(t)}function Lle(t,e){return t=zj(t),Re(Gu.count(Vi(t),t)+(Vi(t).getUTCDay()===4),e,2)}function Fle(t){return t.getUTCDay()}function Ble(t,e){return Re(tg.count(Vi(t)-1,t),e,2)}function Ule(t,e){return Re(t.getUTCFullYear()%100,e,2)}function zle(t,e){return t=zj(t),Re(t.getUTCFullYear()%100,e,2)}function Wle(t,e){return Re(t.getUTCFullYear()%1e4,e,4)}function Hle(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Gu(t):Gu.ceil(t),Re(t.getUTCFullYear()%1e4,e,4)}function qle(){return"+0000"}function hC(){return"%"}function dC(t){return+t}function pC(t){return Math.floor(+t/1e3)}var Da,Wj,Hj;Gle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gle(t){return Da=Gue(t),Wj=Da.format,Da.parse,Hj=Da.utcFormat,Da.utcParse,Da}function Kle(t){return new Date(t)}function Yle(t){return t instanceof Date?+t:+new Date(+t)}function mE(t,e,n,r,i,o,s,a,u,l){var c=tE(),f=c.invert,d=c.domain,p=l(".%L"),g=l(":%S"),m=l("%I:%M"),b=l("%I %p"),y=l("%a %d"),_=l("%b %d"),E=l("%B"),P=l("%Y");function x(S){return(u(S)<S?p:a(S)<S?g:s(S)<S?m:o(S)<S?b:r(S)<S?i(S)<S?y:_:n(S)<S?E:P)(S)}return c.invert=function(S){return new Date(f(S))},c.domain=function(S){return arguments.length?d(Array.from(S,Yle)):d().map(Kle)},c.ticks=function(S){var w=d();return t(w[0],w[w.length-1],S??10)},c.tickFormat=function(S,w){return w==null?x:l(w)},c.nice=function(S){var w=d();return(!S||typeof S.range!="function")&&(S=e(w[0],w[w.length-1],S??10)),S?d(Rj(w,S)):c},c.copy=function(){return Zh(c,mE(t,e,n,r,i,o,s,a,u,l))},c}function Xle(){return vr.apply(mE(Hue,que,Ni,dE,Gy,ed,fE,lE,Ms,Wj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qle(){return vr.apply(mE(zue,Wue,Vi,pE,Ky,qy,hE,cE,Ms,Hj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yy(){var t=0,e=1,n,r,i,o,s=mn,a=!1,u;function l(f){return f==null||isNaN(f=+f)?u:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}l.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),l):[t,e]},l.clamp=function(f){return arguments.length?(a=!!f,l):a},l.interpolator=function(f){return arguments.length?(s=f,l):s};function c(f){return function(d){var p,g;return arguments.length?([p,g]=d,s=f(p,g),l):[s(0),s(1)]}}return l.range=c(Nl),l.rangeRound=c(eE),l.unknown=function(f){return arguments.length?(u=f,l):u},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),l}}function Jo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qj(){var t=Qo(Yy()(mn));return t.copy=function(){return Jo(t,qj())},Wi.apply(t,arguments)}function Gj(){var t=iE(Yy()).domain([1,10]);return t.copy=function(){return Jo(t,Gj()).base(t.base())},Wi.apply(t,arguments)}function Kj(){var t=oE(Yy());return t.copy=function(){return Jo(t,Kj()).constant(t.constant())},Wi.apply(t,arguments)}function gE(){var t=sE(Yy());return t.copy=function(){return Jo(t,gE()).exponent(t.exponent())},Wi.apply(t,arguments)}function Jle(){return gE.apply(null,arguments).exponent(.5)}function Yj(){var t=[],e=mn;function n(r){if(r!=null&&!isNaN(r=+r))return e((Qh(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Po),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>jae(t,o/r))},n.copy=function(){return Yj(e).domain(t)},Wi.apply(n,arguments)}function Xy(){var t=0,e=.5,n=1,r=1,i,o,s,a,u,l=mn,c,f=!1,d;function p(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?a:u),l(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,n]=m,i=c(t=+t),o=c(e=+e),s=c(n=+n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(l=m,p):l};function g(m){return function(b){var y,_,E;return arguments.length?([y,_,E]=b,l=cue(m,[y,_,E]),p):[l(0),l(.5),l(1)]}}return p.range=g(Nl),p.rangeRound=g(eE),p.unknown=function(m){return arguments.length?(d=m,p):d},function(m){return c=m,i=m(t),o=m(e),s=m(n),a=i===o?0:.5/(o-i),u=o===s?0:.5/(s-o),r=o<i?-1:1,p}}function Xj(){var t=Qo(Xy()(mn));return t.copy=function(){return Jo(t,Xj())},Wi.apply(t,arguments)}function Qj(){var t=iE(Xy()).domain([.1,1,10]);return t.copy=function(){return Jo(t,Qj()).base(t.base())},Wi.apply(t,arguments)}function Jj(){var t=oE(Xy());return t.copy=function(){return Jo(t,Jj()).constant(t.constant())},Wi.apply(t,arguments)}function yE(){var t=sE(Xy());return t.copy=function(){return Jo(t,yE()).exponent(t.exponent())},Wi.apply(t,arguments)}function Zle(){return yE.apply(null,arguments).exponent(.5)}const mC=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jf,scaleDiverging:Xj,scaleDivergingLog:Qj,scaleDivergingPow:yE,scaleDivergingSqrt:Zle,scaleDivergingSymlog:Jj,scaleIdentity:Cj,scaleImplicit:Eb,scaleLinear:Jm,scaleLog:kj,scaleOrdinal:Qx,scalePoint:sf,scalePow:aE,scaleQuantile:Nj,scaleQuantize:Vj,scaleRadial:Mj,scaleSequential:qj,scaleSequentialLog:Gj,scaleSequentialPow:gE,scaleSequentialQuantile:Yj,scaleSequentialSqrt:Jle,scaleSequentialSymlog:Kj,scaleSqrt:Due,scaleSymlog:Dj,scaleThreshold:$j,scaleTime:Xle,scaleUtc:Qle,tickFormat:Oj},Symbol.toStringTag,{value:"Module"}));var ece=Il;function tce(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(s!=null&&(a===void 0?s===s&&!ece(s):n(s,a)))var a=s,u=o}return u}var Qy=tce;function nce(t,e){return t>e}var Zj=nce,rce=Qy,ice=Zj,oce=Ml;function sce(t){return t&&t.length?rce(t,oce,ice):void 0}var ace=sce;const Jy=Be(ace);function uce(t,e){return t<e}var eL=uce,lce=Qy,cce=eL,fce=Ml;function hce(t){return t&&t.length?lce(t,fce,cce):void 0}var dce=hce;const Zy=Be(dce);var pce=Ox,mce=Xo,gce=lj,yce=Rn;function vce(t,e){var n=yce(t)?pce:gce;return n(t,mce(e))}var _ce=vce,wce=aj,bce=_ce;function Tce(t,e){return wce(bce(t,e),1)}var xce=Tce;const Ece=Be(xce);var Sce=Hx;function Ace(t,e){return Sce(t,e)}var Ice=Ace;const vE=Be(Ice);var Vl=1e9,Pce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wE,rt=!0,gr="[DecimalError] ",Us=gr+"Invalid argument: ",_E=gr+"Exponent out of range: ",$l=Math.floor,_s=Math.pow,Oce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vn,Bt=1e7,Je=7,tL=9007199254740991,ng=$l(tL/Je),se={};se.absoluteValue=se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};se.comparedTo=se.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};se.decimalPlaces=se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Je;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};se.dividedBy=se.div=function(t){return Pi(this,new this.constructor(t))};se.dividedToIntegerBy=se.idiv=function(t){var e=this,n=e.constructor;return ze(Pi(e,new n(t),0,1),n.precision)};se.equals=se.eq=function(t){return!this.cmp(t)};se.exponent=function(){return It(this)};se.greaterThan=se.gt=function(t){return this.cmp(t)>0};se.greaterThanOrEqualTo=se.gte=function(t){return this.cmp(t)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(t){return this.cmp(t)<0};se.lessThanOrEqualTo=se.lte=function(t){return this.cmp(t)<1};se.logarithm=se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Vn))throw Error(gr+"NaN");if(n.s<1)throw Error(gr+(n.s?"NaN":"-Infinity"));return n.eq(Vn)?new r(0):(rt=!1,e=Pi(rh(n,o),rh(t,o),o),rt=!0,ze(e,i))};se.minus=se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iL(e,t):nL(e,(t.s=-t.s,t))};se.modulo=se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(gr+"NaN");return n.s?(rt=!1,e=Pi(n,t,0,1).times(t),rt=!0,n.minus(e)):ze(new r(n),i)};se.naturalExponential=se.exp=function(){return rL(this)};se.naturalLogarithm=se.ln=function(){return rh(this)};se.negated=se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};se.plus=se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nL(e,t):iL(e,(t.s=-t.s,t))};se.precision=se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Us+t);if(e=It(i)+1,r=i.d.length-1,n=r*Je+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};se.squareRoot=se.sqrt=function(){var t,e,n,r,i,o,s,a=this,u=a.constructor;if(a.s<1){if(!a.s)return new u(0);throw Error(gr+"NaN")}for(t=It(a),rt=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Gr(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$l((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(o=r,r=o.plus(Pi(a,o,s+2)).times(.5),Gr(o.d).slice(0,s)===(e=Gr(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ze(o,n+1,0),o.times(o).eq(a)){r=o;break}}else if(e!="9999")break;s+=4}return rt=!0,ze(r,n)};se.times=se.mul=function(t){var e,n,r,i,o,s,a,u,l,c=this,f=c.constructor,d=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,u=d.length,l=p.length,u<l&&(o=d,d=p,p=o,s=u,u=l,l=s),o=[],s=u+l,r=s;r--;)o.push(0);for(r=l;--r>=0;){for(e=0,i=u+r;i>r;)a=o[i]+p[r]*d[i-r-1]+e,o[i--]=a%Bt|0,e=a/Bt|0;o[i]=(o[i]+e)%Bt|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,rt?ze(t,f.precision):t};se.toDecimalPlaces=se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(oi(t,0,Vl),e===void 0?e=r.rounding:oi(e,0,8),ze(n,t+It(n)+1,e))};se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=na(r,!0):(oi(t,0,Vl),e===void 0?e=i.rounding:oi(e,0,8),r=ze(new i(r),t+1,e),n=na(r,!0,t+1)),n};se.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?na(i):(oi(t,0,Vl),e===void 0?e=o.rounding:oi(e,0,8),r=ze(new o(i),t+It(i)+1,e),n=na(r.abs(),!1,t+It(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};se.toInteger=se.toint=function(){var t=this,e=t.constructor;return ze(new e(t),It(t)+1,e.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(t){var e,n,r,i,o,s,a=this,u=a.constructor,l=12,c=+(t=new u(t));if(!t.s)return new u(Vn);if(a=new u(a),!a.s){if(t.s<1)throw Error(gr+"Infinity");return a}if(a.eq(Vn))return a;if(r=u.precision,t.eq(Vn))return ze(a,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=a.s,s){if((n=c<0?-c:c)<=tL){for(i=new u(Vn),e=Math.ceil(r/Je+4),rt=!1;n%2&&(i=i.times(a),yC(i.d,e)),n=$l(n/2),n!==0;)a=a.times(a),yC(a.d,e);return rt=!0,t.s<0?new u(Vn).div(i):ze(i,r)}}else if(o<0)throw Error(gr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,rt=!1,i=t.times(rh(a,r+l)),rt=!0,i=rL(i),i.s=o,i};se.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=It(i),r=na(i,n<=o.toExpNeg||n>=o.toExpPos)):(oi(t,1,Vl),e===void 0?e=o.rounding:oi(e,0,8),i=ze(new o(i),t,e),n=It(i),r=na(i,t<=n||n<=o.toExpNeg,t)),r};se.toSignificantDigits=se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(oi(t,1,Vl),e===void 0?e=r.rounding:oi(e,0,8)),ze(new r(n),t,e)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=It(t),n=t.constructor;return na(t,e<=n.toExpNeg||e>=n.toExpPos)};function nL(t,e){var n,r,i,o,s,a,u,l,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),rt?ze(e,f):e;if(u=t.d,l=e.d,s=t.e,i=e.e,u=u.slice(),o=s-i,o){for(o<0?(r=u,o=-o,a=l.length):(r=l,i=s,a=u.length),s=Math.ceil(f/Je),a=s>a?s+1:a+1,o>a&&(o=a,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(a=u.length,o=l.length,a-o<0&&(o=a,r=l,l=u,u=r),n=0;o;)n=(u[--o]=u[o]+l[o]+n)/Bt|0,u[o]%=Bt;for(n&&(u.unshift(n),++i),a=u.length;u[--a]==0;)u.pop();return e.d=u,e.e=i,rt?ze(e,f):e}function oi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Us+t)}function Gr(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(o+=lo(n)),o+=r;s=t[e],r=s+"",n=Je-r.length,n&&(o+=lo(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var Pi=function(){function t(r,i){var o,s=0,a=r.length;for(r=r.slice();a--;)o=r[a]*i+s,r[a]=o%Bt|0,s=o/Bt|0;return s&&r.unshift(s),r}function e(r,i,o,s){var a,u;if(o!=s)u=o>s?1:-1;else for(a=u=0;a<o;a++)if(r[a]!=i[a]){u=r[a]>i[a]?1:-1;break}return u}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Bt+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var a,u,l,c,f,d,p,g,m,b,y,_,E,P,x,S,w,T,I=r.constructor,O=r.s==i.s?1:-1,k=r.d,C=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(gr+"Division by zero");for(u=r.e-i.e,w=C.length,x=k.length,p=new I(O),g=p.d=[],l=0;C[l]==(k[l]||0);)++l;if(C[l]>(k[l]||0)&&--u,o==null?_=o=I.precision:s?_=o+(It(r)-It(i))+1:_=o,_<0)return new I(0);if(_=_/Je+2|0,l=0,w==1)for(c=0,C=C[0],_++;(l<x||c)&&_--;l++)E=c*Bt+(k[l]||0),g[l]=E/C|0,c=E%C|0;else{for(c=Bt/(C[0]+1)|0,c>1&&(C=t(C,c),k=t(k,c),w=C.length,x=k.length),P=w,m=k.slice(0,w),b=m.length;b<w;)m[b++]=0;T=C.slice(),T.unshift(0),S=C[0],C[1]>=Bt/2&&++S;do c=0,a=e(C,m,w,b),a<0?(y=m[0],w!=b&&(y=y*Bt+(m[1]||0)),c=y/S|0,c>1?(c>=Bt&&(c=Bt-1),f=t(C,c),d=f.length,b=m.length,a=e(f,m,d,b),a==1&&(c--,n(f,w<d?T:C,d))):(c==0&&(a=c=1),f=C.slice()),d=f.length,d<b&&f.unshift(0),n(m,f,b),a==-1&&(b=m.length,a=e(C,m,w,b),a<1&&(c++,n(m,w<b?T:C,b))),b=m.length):a===0&&(c++,m=[0]),g[l++]=c,a&&m[0]?m[b++]=k[P]||0:(m=[k[P]],b=1);while((P++<x||m[0]!==void 0)&&_--)}return g[0]||g.shift(),p.e=u,ze(p,s?o+It(p)+1:o)}}();function rL(t,e){var n,r,i,o,s,a,u=0,l=0,c=t.constructor,f=c.precision;if(It(t)>16)throw Error(_E+It(t));if(!t.s)return new c(Vn);for(rt=!1,a=f,s=new c(.03125);t.abs().gte(.1);)t=t.times(s),l+=5;for(r=Math.log(_s(2,l))/Math.LN10*2+5|0,a+=r,n=i=o=new c(Vn),c.precision=a;;){if(i=ze(i.times(t),a),n=n.times(++u),s=o.plus(Pi(i,n,a)),Gr(s.d).slice(0,a)===Gr(o.d).slice(0,a)){for(;l--;)o=ze(o.times(o),a);return c.precision=f,e==null?(rt=!0,ze(o,f)):o}o=s}}function It(t){for(var e=t.e*Je,n=t.d[0];n>=10;n/=10)e++;return e}function c_(t,e,n){if(e>t.LN10.sd())throw rt=!0,n&&(t.precision=n),Error(gr+"LN10 precision limit exceeded");return ze(new t(t.LN10),e)}function lo(t){for(var e="";t--;)e+="0";return e}function rh(t,e){var n,r,i,o,s,a,u,l,c,f=1,d=10,p=t,g=p.d,m=p.constructor,b=m.precision;if(p.s<1)throw Error(gr+(p.s?"NaN":"-Infinity"));if(p.eq(Vn))return new m(0);if(e==null?(rt=!1,l=b):l=e,p.eq(10))return e==null&&(rt=!0),c_(m,l);if(l+=d,m.precision=l,n=Gr(g),r=n.charAt(0),o=It(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=Gr(p.d),r=n.charAt(0),f++;o=It(p),r>1?(p=new m("0."+n),o++):p=new m(r+"."+n.slice(1))}else return u=c_(m,l+2,b).times(o+""),p=rh(new m(r+"."+n.slice(1)),l-d).plus(u),m.precision=b,e==null?(rt=!0,ze(p,b)):p;for(a=s=p=Pi(p.minus(Vn),p.plus(Vn),l),c=ze(p.times(p),l),i=3;;){if(s=ze(s.times(c),l),u=a.plus(Pi(s,new m(i),l)),Gr(u.d).slice(0,l)===Gr(a.d).slice(0,l))return a=a.times(2),o!==0&&(a=a.plus(c_(m,l+2,b).times(o+""))),a=Pi(a,new m(f),l),m.precision=b,e==null?(rt=!0,ze(a,b)):a;a=u,i+=2}}function gC(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$l(n/Je),t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),rt&&(t.e>ng||t.e<-ng))throw Error(_E+n)}else t.s=0,t.e=0,t.d=[0];return t}function ze(t,e,n){var r,i,o,s,a,u,l,c,f=t.d;for(s=1,o=f[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Je,i=e,l=f[c=0];else{if(c=Math.ceil((r+1)/Je),o=f.length,c>=o)return t;for(l=o=f[c],s=1;o>=10;o/=10)s++;r%=Je,i=r-Je+s}if(n!==void 0&&(o=_s(10,s-i-1),a=l/o%10|0,u=e<0||f[c+1]!==void 0||l%o,u=n<4?(a||u)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||u||n==6&&(r>0?i>0?l/_s(10,s-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return u?(o=It(t),f.length=1,e=e-o-1,f[0]=_s(10,(Je-e%Je)%Je),t.e=$l(-e/Je)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=_s(10,Je-r),f[c]=i>0?(l/_s(10,s-i)%_s(10,i)|0)*o:0),u)for(;;)if(c==0){(f[0]+=o)==Bt&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Bt)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(rt&&(t.e>ng||t.e<-ng))throw Error(_E+It(t));return t}function iL(t,e){var n,r,i,o,s,a,u,l,c,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),rt?ze(e,p):e;if(u=t.d,f=e.d,r=e.e,l=t.e,u=u.slice(),s=l-r,s){for(c=s<0,c?(n=u,s=-s,a=f.length):(n=f,r=l,a=u.length),i=Math.max(Math.ceil(p/Je),a)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,a=f.length,c=i<a,c&&(a=i),i=0;i<a;i++)if(u[i]!=f[i]){c=u[i]<f[i];break}s=0}for(c&&(n=u,u=f,f=n,e.s=-e.s),a=u.length,i=f.length-a;i>0;--i)u[a++]=0;for(i=f.length;i>s;){if(u[--i]<f[i]){for(o=i;o&&u[--o]===0;)u[o]=Bt-1;--u[o],u[i]+=Bt}u[i]-=f[i]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,rt?ze(e,p):e):new d(0)}function na(t,e,n){var r,i=It(t),o=Gr(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+lo(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+lo(-i-1)+o,n&&(r=n-s)>0&&(o+=lo(r))):i>=s?(o+=lo(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+lo(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=lo(r))),t.s<0?"-"+o:o}function yC(t,e){if(t.length>e)return t.length=e,!0}function oL(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Us+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return gC(s,o.toString())}else if(typeof o!="string")throw Error(Us+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Oce.test(o))gC(s,o);else throw Error(Us+o)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=oL,i.config=i.set=Cce,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Cce(t){if(!t||typeof t!="object")throw Error(gr+"Object expected");var e,n,r,i=["precision",1,Vl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($l(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Us+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Us+n+": "+r);return this}var wE=oL(Pce);Vn=new wE(1);const Fe=wE;function Rce(t){return Nce(t)||Mce(t)||Dce(t)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dce(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function Mce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nce(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Vce=function(e){return e},sL={},aL=function(e){return e===sL},vC=function(e){return function n(){return arguments.length===0||arguments.length===1&&aL(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},$ce=function t(e,n){return e===1?n:vC(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==sL}).length;return s>=e?n.apply(void 0,i):t(e-s,vC(function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];var c=i.map(function(f){return aL(f)?u.shift():f});return n.apply(void 0,Rce(c).concat(u))}))})},ev=function(e){return $ce(e.length,e)},Ob=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},jce=ev(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Lce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Vce;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,u){return u(a)},o.apply(void 0,arguments))}},Cb=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uL=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(a,u){return a===n[u]})||(n=o,r=e.apply(void 0,o)),r}};function Fce(t){var e;return t===0?e=1:e=Math.floor(new Fe(t).abs().log(10).toNumber())+1,e}function Bce(t,e,n){for(var r=new Fe(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var Uce=ev(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),zce=ev(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Wce=ev(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const tv={rangeStep:Bce,getDigitCount:Fce,interpolateNumber:Uce,uninterpolateNumber:zce,uninterpolateTruncation:Wce};function Rb(t){return Gce(t)||qce(t)||lL(t)||Hce()}function Hce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gce(t){if(Array.isArray(t))return kb(t)}function ih(t,e){return Xce(t)||Yce(t,e)||lL(t,e)||Kce()}function Kce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(t,e){if(t){if(typeof t=="string")return kb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kb(t,e)}}function kb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function Xce(t){if(Array.isArray(t))return t}function cL(t){var e=ih(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function fL(t,e,n){if(t.lte(0))return new Fe(0);var r=tv.getDigitCount(t.toNumber()),i=new Fe(10).pow(r),o=t.div(i),s=r!==1?.05:.1,a=new Fe(Math.ceil(o.div(s).toNumber())).add(n).mul(s),u=a.mul(i);return e?u:new Fe(Math.ceil(u))}function Qce(t,e,n){var r=1,i=new Fe(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Fe(10).pow(tv.getDigitCount(t)-1),i=new Fe(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Fe(Math.floor(t)))}else t===0?i=new Fe(Math.floor((e-1)/2)):n||(i=new Fe(Math.floor(t)));var s=Math.floor((e-1)/2),a=Lce(jce(function(u){return i.add(new Fe(u-s).mul(r)).toNumber()}),Ob);return a(0,e)}function hL(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Fe(0),tickMin:new Fe(0),tickMax:new Fe(0)};var o=fL(new Fe(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Fe(0):(s=new Fe(t).add(e).div(2),s=s.sub(new Fe(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Fe(e).sub(s).div(o).toNumber()),l=a+u+1;return l>n?hL(t,e,n,r,i+1):(l<n&&(u=e>0?u+(n-l):u,a=e>0?a:a+(n-l)),{step:o,tickMin:s.sub(new Fe(a).mul(o)),tickMax:s.add(new Fe(u).mul(o))})}function Jce(t){var e=ih(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=cL([n,r]),u=ih(a,2),l=u[0],c=u[1];if(l===-1/0||c===1/0){var f=c===1/0?[l].concat(Rb(Ob(0,i-1).map(function(){return 1/0}))):[].concat(Rb(Ob(0,i-1).map(function(){return-1/0})),[c]);return n>r?Cb(f):f}if(l===c)return Qce(l,i,o);var d=hL(l,c,s,o),p=d.step,g=d.tickMin,m=d.tickMax,b=tv.rangeStep(g,m.add(new Fe(.1).mul(p)),p);return n>r?Cb(b):b}function Zce(t,e){var n=ih(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=cL([r,i]),a=ih(s,2),u=a[0],l=a[1];if(u===-1/0||l===1/0)return[r,i];if(u===l)return[u];var c=Math.max(e,2),f=fL(new Fe(l).sub(u).div(c-1),o,0),d=[].concat(Rb(tv.rangeStep(new Fe(u),new Fe(l).sub(new Fe(.99).mul(f)),f)),[l]);return r>i?Cb(d):d}var efe=uL(Jce),tfe=uL(Zce),nfe="Invariant failed";function Ku(t,e){throw new Error(nfe)}var rfe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Yu(t){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yu(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(this,arguments)}function ife(t,e){return ufe(t)||afe(t,e)||sfe(t,e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sfe(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function afe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function ufe(t){if(Array.isArray(t))return t}function lfe(t,e){if(t==null)return{};var n=cfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ffe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mL(r.key),r)}}function dfe(t,e,n){return e&&hfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pfe(t,e,n){return e=ig(e),mfe(t,dL()?Reflect.construct(e,n||[],ig(t).constructor):e.apply(t,n))}function mfe(t,e){if(e&&(Yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gfe(t)}function gfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dL=function(){return!!t})()}function ig(t){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ig(t)}function yfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Db(t,e)}function Db(t,e){return Db=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Db(t,e)}function pL(t,e,n){return e=mL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mL(t){var e=vfe(t,"string");return Yu(e)=="symbol"?e:e+""}function vfe(t,e){if(Yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bE=function(t){function e(){return ffe(this,e),pfe(this,e,arguments)}return yfe(e,t),dfe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,s=r.width,a=r.dataKey,u=r.data,l=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,d=lfe(r,rfe),p=_e(d,!1);this.props.direction==="x"&&c.type!=="number"&&Ku();var g=u.map(function(m){var b=l(m,a),y=b.x,_=b.y,E=b.value,P=b.errorVal;if(!P)return null;var x=[],S,w;if(Array.isArray(P)){var T=ife(P,2);S=T[0],w=T[1]}else S=w=P;if(o==="vertical"){var I=c.scale,O=_+i,k=O+s,C=O-s,R=I(E-S),U=I(E+w);x.push({x1:U,y1:k,x2:U,y2:C}),x.push({x1:R,y1:O,x2:U,y2:O}),x.push({x1:R,y1:k,x2:R,y2:C})}else if(o==="horizontal"){var W=f.scale,K=y+i,q=K-s,L=K+s,H=W(E-S),G=W(E+w);x.push({x1:q,y1:G,x2:L,y2:G}),x.push({x1:K,y1:H,x2:K,y2:G}),x.push({x1:q,y1:H,x2:L,y2:H})}return N.createElement(_t,rg({className:"recharts-errorBar",key:"bar-".concat(x.map(function(ie){return"".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))},p),x.map(function(ie){return N.createElement("line",rg({},ie,{key:"line-".concat(ie.x1,"-").concat(ie.x2,"-").concat(ie.y1,"-").concat(ie.y2)}))}))});return N.createElement(_t,{className:"recharts-errorBars"},g)}}])}(N.Component);pL(bE,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});pL(bE,"displayName","ErrorBar");function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function wC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function us(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(n),!0).forEach(function(r){_fe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _fe(t,e,n){return e=wfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wfe(t){var e=bfe(t,"string");return oh(e)=="symbol"?e:e+""}function bfe(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gL=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=tr(n,_u);if(!s)return null;var a=_u.defaultProps,u=a!==void 0?us(us({},a),s.props):{},l;return s.props&&s.props.payload?l=s.props&&s.props.payload:o==="children"?l=(r||[]).reduce(function(c,f){var d=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(m){return{type:s.props.iconType||d.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):l=(r||[]).map(function(c){var f=c.item,d=f.type.defaultProps,p=d!==void 0?us(us({},d),f.props):{},g=p.dataKey,m=p.name,b=p.legendType,y=p.hide;return{inactive:y,dataKey:g,type:u.iconType||b||"square",color:TE(f),value:m||g,payload:p}}),us(us(us({},u),_u.getWithHeight(s,i)),{},{payload:l,item:s})};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function bC(t){return Sfe(t)||Efe(t)||xfe(t)||Tfe()}function Tfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xfe(t,e){if(t){if(typeof t=="string")return Mb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mb(t,e)}}function Efe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sfe(t){if(Array.isArray(t))return Mb(t)}function Mb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TC(Object(n),!0).forEach(function(r){bu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bu(t,e,n){return e=Afe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Afe(t){var e=Ife(t,"string");return sh(e)=="symbol"?e:e+""}function Ife(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $n(t,e,n){return Ae(t)||Ae(e)?n:Dt(e)?kr(t,e,n):we(e)?e(t):n}function af(t,e,n,r){var i=Ece(t,function(a){return $n(a,e)});if(n==="number"){var o=i.filter(function(a){return re(a)||parseFloat(a)});return o.length?[Zy(o),Jy(o)]:[1/0,-1/0]}var s=r?i.filter(function(a){return!Ae(a)}):i;return s.map(function(a){return Dt(a)||a instanceof Date?a:""})}var Pfe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var u=o.range,l=0;l<a;l++){var c=l>0?i[l-1].coordinate:i[a-1].coordinate,f=i[l].coordinate,d=l>=a-1?i[0].coordinate:i[l+1].coordinate,p=void 0;if(ar(f-c)!==ar(d-f)){var g=[];if(ar(d-f)===ar(u[1]-u[0])){p=d;var m=f+u[1]-u[0];g[0]=Math.min(m,(m+c)/2),g[1]=Math.max(m,(m+c)/2)}else{p=c;var b=d+u[1]-u[0];g[0]=Math.min(f,(b+f)/2),g[1]=Math.max(f,(b+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){s=i[l].index;break}}else{var _=Math.min(c,d),E=Math.max(c,d);if(e>(_+f)/2&&e<=(E+f)/2){s=i[l].index;break}}}else for(var P=0;P<a;P++)if(P===0&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2&&e<=(r[P].coordinate+r[P+1].coordinate)/2||P===a-1&&e>(r[P].coordinate+r[P-1].coordinate)/2){s=r[P].index;break}return s},TE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,u;switch(i){case"Line":u=s;break;case"Area":case"Radar":u=s&&s!=="none"?s:a;break;default:u=a;break}return u},Ofe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),u=0,l=a.length;u<l;u++)for(var c=o[a[u]].stackGroups,f=Object.keys(c),d=0,p=f.length;d<p;d++){var g=c[f[d]],m=g.items,b=g.cateAxisId,y=m.filter(function(w){return Ai(w.type).indexOf("Bar")>=0});if(y&&y.length){var _=y[0].type.defaultProps,E=_!==void 0?yt(yt({},_),y[0].props):y[0].props,P=E.barSize,x=E[b];s[x]||(s[x]=[]);var S=Ae(P)?n:P;s[x].push({item:y[0],stackList:y.slice(1),barSize:Ae(S)?void 0:Sn(S,r,0)})}}return s},Cfe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,u=s.length;if(u<1)return null;var l=Sn(n,i,0,!0),c,f=[];if(s[0].barSize===+s[0].barSize){var d=!1,p=i/u,g=s.reduce(function(P,x){return P+x.barSize||0},0);g+=(u-1)*l,g>=i&&(g-=(u-1)*l,l=0),g>=i&&p>0&&(d=!0,p*=.9,g=u*p);var m=(i-g)/2>>0,b={offset:m-l,size:0};c=s.reduce(function(P,x){var S={item:x.item,position:{offset:b.offset+b.size+l,size:d?p:x.barSize}},w=[].concat(bC(P),[S]);return b=w[w.length-1].position,x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){w.push({item:T,position:b})}),w},f)}else{var y=Sn(r,i,0,!0);i-2*y-(u-1)*l<=0&&(l=0);var _=(i-2*y-(u-1)*l)/u;_>1&&(_>>=0);var E=a===+a?Math.min(_,a):_;c=s.reduce(function(P,x,S){var w=[].concat(bC(P),[{item:x.item,position:{offset:y+(_+l)*S+(_-E)/2,size:E}}]);return x.stackList&&x.stackList.length&&x.stackList.forEach(function(T){w.push({item:T,position:w[w.length-1].position})}),w},f)}return c},Rfe=function(e,n,r,i){var o=r.children,s=r.width,a=r.margin,u=s-(a.left||0)-(a.right||0),l=gL({children:o,legendWidth:u});if(l){var c=i||{},f=c.width,d=c.height,p=l.align,g=l.verticalAlign,m=l.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&re(e[p]))return yt(yt({},e),{},bu({},p,e[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&re(e[g]))return yt(yt({},e),{},bu({},g,e[g]+(d||0)))}return e},kfe=function(e,n,r){return Ae(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yL=function(e,n,r,i,o){var s=n.props.children,a=ei(s,bE).filter(function(l){return kfe(i,o,l.props.direction)});if(a&&a.length){var u=a.map(function(l){return l.props.dataKey});return e.reduce(function(l,c){var f=$n(c,r);if(Ae(f))return l;var d=Array.isArray(f)?[Zy(f),Jy(f)]:[f,f],p=u.reduce(function(g,m){var b=$n(c,m,0),y=d[0]-Math.abs(Array.isArray(b)?b[0]:b),_=d[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(y,g[0]),Math.max(_,g[1])]},[1/0,-1/0]);return[Math.min(p[0],l[0]),Math.max(p[1],l[1])]},[1/0,-1/0])}return null},Dfe=function(e,n,r,i,o){var s=n.map(function(a){return yL(e,a,r,o,i)}).filter(function(a){return!Ae(a)});return s&&s.length?s.reduce(function(a,u){return[Math.min(a[0],u[0]),Math.max(a[1],u[1])]},[1/0,-1/0]):null},vL=function(e,n,r,i,o){var s=n.map(function(u){var l=u.props.dataKey;return r==="number"&&l&&yL(e,u,l,i)||af(e,l,r,o)});if(r==="number")return s.reduce(function(u,l){return[Math.min(u[0],l[0]),Math.max(u[1],l[1])]},[1/0,-1/0]);var a={};return s.reduce(function(u,l){for(var c=0,f=l.length;c<f;c++)a[l[c]]||(a[l[c]]=!0,u.push(l[c]));return u},[])},_L=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Lc=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,u=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,l=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/u:0;if(l=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ar(a[0]-a[1])*2*l:l,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var d=o?o.indexOf(f):f;return{coordinate:i(d)+l,value:f,offset:l}});return c.filter(function(f){return!Xh(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+l,value:f,index:d,offset:l}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+l,value:f,offset:l}}):i.domain().map(function(f,d){return{coordinate:i(f)+l,value:o?o[f]:f,index:d,offset:l}})},f_=new WeakMap,rp=function(e,n){if(typeof n!="function")return e;f_.has(e)||f_.set(e,new WeakMap);var r=f_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Mfe=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Jf(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:Jm(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0)?{scale:sf(),realScaleType:"point"}:o==="category"?{scale:Jf(),realScaleType:"band"}:{scale:Jm(),realScaleType:"linear"};if(Yh(i)){var u="scale".concat($y(i));return{scale:(mC[u]||sf)(),realScaleType:mC[u]?u:"point"}}return we(i)?{scale:i}:{scale:sf(),realScaleType:"point"}},xC=1e-4,Nfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-xC,s=Math.max(i[0],i[1])+xC,a=e(n[0]),u=e(n[r-1]);(a<o||a>s||u<o||u>s)&&e.domain([n[0],n[r-1]])}},Vfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,a=0;a<n;++a){var u=Xh(e[a][r][1])?e[a][r][0]:e[a][r][1];u>=0?(e[a][r][0]=o,e[a][r][1]=o+u,o=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+u,s=e[a][r][1])}},$fe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var a=Xh(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=o,e[s][r][1]=o+a,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},jfe={sign:Vfe,expand:tJ,none:Lu,silhouette:nJ,wiggle:rJ,positive:$fe},Lfe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),o=jfe[r],s=eJ().keys(i).value(function(a,u){return+$n(a,u,0)}).order(ob).offset(o);return s(e)},Ffe=function(e,n,r,i,o,s){if(!e)return null;var a=s?n.reverse():n,u={},l=a.reduce(function(f,d){var p,g=(p=d.type)!==null&&p!==void 0&&p.defaultProps?yt(yt({},d.type.defaultProps),d.props):d.props,m=g.stackId,b=g.hide;if(b)return f;var y=g[r],_=f[y]||{hasStack:!1,stackGroups:{}};if(Dt(m)){var E=_.stackGroups[m]||{numericAxisId:r,cateAxisId:i,items:[]};E.items.push(d),_.hasStack=!0,_.stackGroups[m]=E}else _.stackGroups[Ny("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return yt(yt({},f),{},bu({},y,_))},u),c={};return Object.keys(l).reduce(function(f,d){var p=l[d];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,b){var y=p.stackGroups[b];return yt(yt({},m),{},bu({},b,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Lfe(e,y.items,o)}))},g)}return yt(yt({},f),{},bu({},d,p))},c)},Bfe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,a=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var l=e.domain();if(!l.length)return null;var c=efe(l,o,a);return e.domain([Zy(c),Jy(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),d=tfe(f,o,a);return{niceTicks:d}}return null},Ufe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var s=n[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},zfe=function(e){return e.reduce(function(n,r){return[Zy(r.concat([n[0]]).filter(re)),Jy(r.concat([n[1]]).filter(re))]},[1/0,-1/0])},wL=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,u=a.reduce(function(l,c){var f=zfe(c.slice(n,r+1));return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},EC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nb=function(e,n,r){if(we(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(re(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(EC.test(e[0])){var o=+EC.exec(e[0])[1];i[0]=n[0]-o}else we(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(re(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(SC.test(e[1])){var s=+SC.exec(e[1])[1];i[1]=n[1]+s}else we(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Vb=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=Gx(n,function(f){return f.coordinate}),s=1/0,a=1,u=o.length;a<u;a++){var l=o[a],c=o[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},AC=function(e,n,r){return!e||!e.length||vE(e,kr(r,"type.defaultProps.domain"))?n:e},Wfe=function(e,n){var r=e.type.defaultProps?yt(yt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,s=r.unit,a=r.formatter,u=r.tooltipType,l=r.chartType,c=r.hide;return yt(yt({},_e(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:TE(e),value:$n(n,i),type:u,payload:n,chartType:l,hide:c})};function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}function IC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(n),!0).forEach(function(r){bL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bL(t,e,n){return e=Hfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hfe(t){var e=qfe(t,"string");return ah(e)=="symbol"?e:e+""}function qfe(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gfe(t,e){return Qfe(t)||Xfe(t,e)||Yfe(t,e)||Kfe()}function Kfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yfe(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Qfe(t){if(Array.isArray(t))return t}var og=Math.PI/180,Jfe=function(e){return e*180/Math.PI},Ke=function(e,n,r,i){return{x:e+Math.cos(-og*i)*r,y:n+Math.sin(-og*i)*r}},TL=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Zfe=function(e,n,r,i,o){var s=e.width,a=e.height,u=e.startAngle,l=e.endAngle,c=Sn(e.cx,s,s/2),f=Sn(e.cy,a,a/2),d=TL(s,a,r),p=Sn(e.innerRadius,d,0),g=Sn(e.outerRadius,d,d*.8),m=Object.keys(n);return m.reduce(function(b,y){var _=n[y],E=_.domain,P=_.reversed,x;if(Ae(_.range))i==="angleAxis"?x=[u,l]:i==="radiusAxis"&&(x=[p,g]),P&&(x=[x[1],x[0]]);else{x=_.range;var S=x,w=Gfe(S,2);u=w[0],l=w[1]}var T=Mfe(_,o),I=T.realScaleType,O=T.scale;O.domain(E).range(x),Nfe(O);var k=Bfe(O,di(di({},_),{},{realScaleType:I})),C=di(di(di({},_),k),{},{range:x,radius:g,realScaleType:I,scale:O,cx:c,cy:f,innerRadius:p,outerRadius:g,startAngle:u,endAngle:l});return di(di({},b),{},bL({},y,C))},{})},ehe=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},the=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,a=ehe({x:r,y:i},{x:o,y:s});if(a<=0)return{radius:a};var u=(r-o)/a,l=Math.acos(u);return i>s&&(l=2*Math.PI-l),{radius:a,angle:Jfe(l),angleInRadian:l}},nhe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},rhe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},OC=function(e,n){var r=e.x,i=e.y,o=the({x:r,y:i},n),s=o.radius,a=o.angle,u=n.innerRadius,l=n.outerRadius;if(s<u||s>l)return!1;if(s===0)return!0;var c=nhe(n),f=c.startAngle,d=c.endAngle,p=a,g;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;g=p>=d&&p<=f}return g?di(di({},n),{},{radius:s,angle:rhe(p,n)}):null},xL=function(e){return!j.isValidElement(e)&&!we(e)&&typeof e!="boolean"?e.className:""};function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}var ihe=["offset"];function ohe(t){return lhe(t)||uhe(t)||ahe(t)||she()}function she(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ahe(t,e){if(t){if(typeof t=="string")return $b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $b(t,e)}}function uhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lhe(t){if(Array.isArray(t))return $b(t)}function $b(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function che(t,e){if(t==null)return{};var n=fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CC(Object(n),!0).forEach(function(r){hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hhe(t,e,n){return e=dhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dhe(t){var e=phe(t,"string");return uh(e)=="symbol"?e:e+""}function phe(t,e){if(uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}var mhe=function(e){var n=e.value,r=e.formatter,i=Ae(e.children)?n:e.children;return we(r)?r(i):i},ghe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),360);return r*i},yhe=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,u=o,l=u.cx,c=u.cy,f=u.innerRadius,d=u.outerRadius,p=u.startAngle,g=u.endAngle,m=u.clockWise,b=(f+d)/2,y=ghe(p,g),_=y>=0?1:-1,E,P;i==="insideStart"?(E=p+_*s,P=m):i==="insideEnd"?(E=g-_*s,P=!m):i==="end"&&(E=g+_*s,P=m),P=y<=0?P:!P;var x=Ke(l,c,b,E),S=Ke(l,c,b,E+(P?1:-1)*359),w="M".concat(x.x,",").concat(x.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(P?0:1,`,
    `).concat(S.x,",").concat(S.y),T=Ae(e.id)?Ny("recharts-radial-line-"):e.id;return N.createElement("text",lh({},r,{dominantBaseline:"central",className:Ce("recharts-radial-bar-label",a)}),N.createElement("defs",null,N.createElement("path",{id:T,d:w})),N.createElement("textPath",{xlinkHref:"#".concat(T)},n))},vhe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,a=o.cy,u=o.innerRadius,l=o.outerRadius,c=o.startAngle,f=o.endAngle,d=(c+f)/2;if(i==="outside"){var p=Ke(s,a,l+r,d),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var b=(u+l)/2,y=Ke(s,a,b,d),_=y.x,E=y.y;return{x:_,y:E,textAnchor:"middle",verticalAnchor:"middle"}},_he=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,a=s.x,u=s.y,l=s.width,c=s.height,f=c>=0?1:-1,d=f*i,p=f>0?"end":"start",g=f>0?"start":"end",m=l>=0?1:-1,b=m*i,y=m>0?"end":"start",_=m>0?"start":"end";if(o==="top"){var E={x:a+l/2,y:u-f*i,textAnchor:"middle",verticalAnchor:p};return Ct(Ct({},E),r?{height:Math.max(u-r.y,0),width:l}:{})}if(o==="bottom"){var P={x:a+l/2,y:u+c+d,textAnchor:"middle",verticalAnchor:g};return Ct(Ct({},P),r?{height:Math.max(r.y+r.height-(u+c),0),width:l}:{})}if(o==="left"){var x={x:a-b,y:u+c/2,textAnchor:y,verticalAnchor:"middle"};return Ct(Ct({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(o==="right"){var S={x:a+l+b,y:u+c/2,textAnchor:_,verticalAnchor:"middle"};return Ct(Ct({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:c}:{})}var w=r?{width:l,height:c}:{};return o==="insideLeft"?Ct({x:a+b,y:u+c/2,textAnchor:_,verticalAnchor:"middle"},w):o==="insideRight"?Ct({x:a+l-b,y:u+c/2,textAnchor:y,verticalAnchor:"middle"},w):o==="insideTop"?Ct({x:a+l/2,y:u+d,textAnchor:"middle",verticalAnchor:g},w):o==="insideBottom"?Ct({x:a+l/2,y:u+c-d,textAnchor:"middle",verticalAnchor:p},w):o==="insideTopLeft"?Ct({x:a+b,y:u+d,textAnchor:_,verticalAnchor:g},w):o==="insideTopRight"?Ct({x:a+l-b,y:u+d,textAnchor:y,verticalAnchor:g},w):o==="insideBottomLeft"?Ct({x:a+b,y:u+c-d,textAnchor:_,verticalAnchor:p},w):o==="insideBottomRight"?Ct({x:a+l-b,y:u+c-d,textAnchor:y,verticalAnchor:p},w):Pl(o)&&(re(o.x)||ks(o.x))&&(re(o.y)||ks(o.y))?Ct({x:a+Sn(o.x,l),y:u+Sn(o.y,c),textAnchor:"end",verticalAnchor:"end"},w):Ct({x:a+l/2,y:u+c/2,textAnchor:"middle",verticalAnchor:"middle"},w)},whe=function(e){return"cx"in e&&re(e.cx)};function Jt(t){var e=t.offset,n=e===void 0?5:e,r=che(t,ihe),i=Ct({offset:n},r),o=i.viewBox,s=i.position,a=i.value,u=i.children,l=i.content,c=i.className,f=c===void 0?"":c,d=i.textBreakAll;if(!o||Ae(a)&&Ae(u)&&!j.isValidElement(l)&&!we(l))return null;if(j.isValidElement(l))return j.cloneElement(l,i);var p;if(we(l)){if(p=j.createElement(l,i),j.isValidElement(p))return p}else p=mhe(i);var g=whe(o),m=_e(i,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return yhe(i,p,m);var b=g?vhe(i):_he(i);return N.createElement(Wu,lh({className:Ce("recharts-label",f)},m,b,{breakAll:d}),p)}Jt.displayName="Label";var EL=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,u=e.radius,l=e.innerRadius,c=e.outerRadius,f=e.x,d=e.y,p=e.top,g=e.left,m=e.width,b=e.height,y=e.clockWise,_=e.labelViewBox;if(_)return _;if(re(m)&&re(b)){if(re(f)&&re(d))return{x:f,y:d,width:m,height:b};if(re(p)&&re(g))return{x:p,y:g,width:m,height:b}}return re(f)&&re(d)?{x:f,y:d,width:0,height:0}:re(n)&&re(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:l||0,outerRadius:c||u||a||0,clockWise:y}:e.viewBox?e.viewBox:{}},bhe=function(e,n){return e?e===!0?N.createElement(Jt,{key:"label-implicit",viewBox:n}):Dt(e)?N.createElement(Jt,{key:"label-implicit",viewBox:n,value:e}):j.isValidElement(e)?e.type===Jt?j.cloneElement(e,{key:"label-implicit",viewBox:n}):N.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):we(e)?N.createElement(Jt,{key:"label-implicit",content:e,viewBox:n}):Pl(e)?N.createElement(Jt,lh({viewBox:n},e,{key:"label-implicit"})):null:null},The=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=EL(e),s=ei(i,Jt).map(function(u,l){return j.cloneElement(u,{viewBox:n||o,key:"label-".concat(l)})});if(!r)return s;var a=bhe(e.label,n||o);return[a].concat(ohe(s))};Jt.parseViewBox=EL;Jt.renderCallByParent=The;function xhe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Ehe=xhe;const She=Be(Ehe);function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}var Ahe=["valueAccessor"],Ihe=["data","dataKey","clockWise","id","textBreakAll"];function Phe(t){return khe(t)||Rhe(t)||Che(t)||Ohe()}function Ohe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Che(t,e){if(t){if(typeof t=="string")return jb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jb(t,e)}}function Rhe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function khe(t){if(Array.isArray(t))return jb(t)}function jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sg.apply(this,arguments)}function RC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RC(Object(n),!0).forEach(function(r){Dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dhe(t,e,n){return e=Mhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mhe(t){var e=Nhe(t,"string");return ch(e)=="symbol"?e:e+""}function Nhe(t,e){if(ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DC(t,e){if(t==null)return{};var n=Vhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var $he=function(e){return Array.isArray(e.value)?She(e.value):e.value};function zs(t){var e=t.valueAccessor,n=e===void 0?$he:e,r=DC(t,Ahe),i=r.data,o=r.dataKey,s=r.clockWise,a=r.id,u=r.textBreakAll,l=DC(r,Ihe);return!i||!i.length?null:N.createElement(_t,{className:"recharts-label-list"},i.map(function(c,f){var d=Ae(o)?n(c,f):$n(c&&c.payload,o),p=Ae(a)?{}:{id:"".concat(a,"-").concat(f)};return N.createElement(Jt,sg({},_e(c,!0),l,p,{parentViewBox:c.parentViewBox,value:d,textBreakAll:u,viewBox:Jt.parseViewBox(Ae(s)?c:kC(kC({},c),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}zs.displayName="LabelList";function jhe(t,e){return t?t===!0?N.createElement(zs,{key:"labelList-implicit",data:e}):N.isValidElement(t)||we(t)?N.createElement(zs,{key:"labelList-implicit",data:e,content:t}):Pl(t)?N.createElement(zs,sg({data:e},t,{key:"labelList-implicit"})):null:null}function Lhe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ei(r,zs).map(function(s,a){return j.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var o=jhe(t.label,e);return[o].concat(Phe(i))}zs.renderCallByParent=Lhe;function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function MC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return e=Bhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bhe(t){var e=Uhe(t,"string");return fh(e)=="symbol"?e:e+""}function Uhe(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zhe=function(e,n){var r=ar(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},ip=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,u=e.cornerRadius,l=e.cornerIsExternal,c=u*(a?1:-1)+i,f=Math.asin(u/c)/og,d=l?o:o+s*f,p=Ke(n,r,c,d),g=Ke(n,r,i,d),m=l?o-s*f:o,b=Ke(n,r,c*Math.cos(f*og),m);return{center:p,circleTangency:g,lineTangency:b,theta:f}},SL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,u=zhe(s,a),l=s+u,c=Ke(n,r,o,s),f=Ke(n,r,o,l),d="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>l),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Ke(n,r,i,s),g=Ke(n,r,i,l);d+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=l),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},Whe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,u=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,f=ar(c-l),d=ip({cx:n,cy:r,radius:o,angle:l,sign:f,cornerRadius:s,cornerIsExternal:u}),p=d.circleTangency,g=d.lineTangency,m=d.theta,b=ip({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:u}),y=b.circleTangency,_=b.lineTangency,E=b.theta,P=u?Math.abs(l-c):Math.abs(l-c)-m-E;if(P<0)return a?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):SL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:l,endAngle:c});var x="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(P>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var S=ip({cx:n,cy:r,radius:i,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),w=S.circleTangency,T=S.lineTangency,I=S.theta,O=ip({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),k=O.circleTangency,C=O.lineTangency,R=O.theta,U=u?Math.abs(l-c):Math.abs(l-c)-I-R;if(U<0&&s===0)return"".concat(x,"L").concat(n,",").concat(r,"Z");x+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(f>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else x+="L".concat(n,",").concat(r,"Z");return x},Hhe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AL=function(e){var n=NC(NC({},Hhe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,a=n.cornerRadius,u=n.forceCornerRadius,l=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,d=n.className;if(s<o||c===f)return null;var p=Ce("recharts-sector",d),g=s-o,m=Sn(a,g,0,!0),b;return m>0&&Math.abs(c-f)<360?b=Whe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:u,cornerIsExternal:l,startAngle:c,endAngle:f}):b=SL({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:c,endAngle:f}),N.createElement("path",Lb({},_e(n,!0),{className:p,d:b,role:"img"}))};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function Fb(){return Fb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fb.apply(this,arguments)}function VC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $C(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VC(Object(n),!0).forEach(function(r){qhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qhe(t,e,n){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Khe(t,"string");return hh(e)=="symbol"?e:e+""}function Khe(t,e){if(hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jC={curveBasisClosed:zQ,curveBasisOpen:WQ,curveBasis:UQ,curveBumpX:PQ,curveBumpY:OQ,curveLinearClosed:HQ,curveLinear:Ly,curveMonotoneX:qQ,curveMonotoneY:GQ,curveNatural:KQ,curveStep:YQ,curveStepAfter:QQ,curveStepBefore:XQ},op=function(e){return e.x===+e.x&&e.y===+e.y},xc=function(e){return e.x},Ec=function(e){return e.y},Yhe=function(e,n){if(we(e))return e;var r="curve".concat($y(e));return(r==="curveMonotone"||r==="curveBump")&&n?jC["".concat(r).concat(n==="vertical"?"Y":"X")]:jC[r]||Ly},Xhe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,u=e.connectNulls,l=u===void 0?!1:u,c=Yhe(r,a),f=l?o.filter(function(m){return op(m)}):o,d;if(Array.isArray(s)){var p=l?s.filter(function(m){return op(m)}):s,g=f.map(function(m,b){return $C($C({},m),{},{base:p[b]})});return a==="vertical"?d=Yd().y(Ec).x1(xc).x0(function(m){return m.base.x}):d=Yd().x(xc).y1(Ec).y0(function(m){return m.base.y}),d.defined(op).curve(c),d(g)}return a==="vertical"&&re(s)?d=Yd().y(Ec).x1(xc).x0(s):re(s)?d=Yd().x(xc).y1(Ec).y0(s):d=I4().x(xc).y(Ec),d.defined(op).curve(c),d(f)},Bb=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?Xhe(e):i;return j.createElement("path",Fb({},_e(e,!1),Rm(e),{className:Ce("recharts-curve",n),d:s,ref:o}))},IL={exports:{}},Qhe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Jhe=Qhe,Zhe=Jhe;function PL(){}function OL(){}OL.resetWarningCache=PL;var ede=function(){function t(r,i,o,s,a,u){if(u!==Zhe){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OL,resetWarningCache:PL};return n.PropTypes=n,n};IL.exports=ede();var tde=IL.exports;const De=Be(tde),{getOwnPropertyNames:nde,getOwnPropertySymbols:rde}=Object,{hasOwnProperty:ide}=Object.prototype;function h_(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function sp(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);const u=t(n,r,i);return o.delete(n),o.delete(r),u}}function ode(t){return t!=null?t[Symbol.toStringTag]:void 0}function LC(t){return nde(t).concat(rde(t))}const sde=Object.hasOwn||((t,e)=>ide.call(t,e));function wa(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const ade="__v",ude="__o",lde="_owner",{getOwnPropertyDescriptor:FC,keys:BC}=Object;function cde(t,e){return t.byteLength===e.byteLength&&ag(new Uint8Array(t),new Uint8Array(e))}function fde(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function hde(t,e){return t.byteLength===e.byteLength&&ag(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function dde(t,e){return wa(t.getTime(),e.getTime())}function pde(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function mde(t,e){return t===e}function UC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,a,u=0;for(;(s=o.next())&&!s.done;){const l=e.entries();let c=!1,f=0;for(;(a=l.next())&&!a.done;){if(i[f]){f++;continue}const d=s.value,p=a.value;if(n.equals(d[0],p[0],u,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;u++}return!0}const gde=wa;function yde(t,e,n){const r=BC(t);let i=r.length;if(BC(e).length!==i)return!1;for(;i-- >0;)if(!CL(t,e,n,r[i]))return!1;return!0}function Sc(t,e,n){const r=LC(t);let i=r.length;if(LC(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=r[i],!CL(t,e,n,o)||(s=FC(t,o),a=FC(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function vde(t,e){return wa(t.valueOf(),e.valueOf())}function _de(t,e){return t.source===e.source&&t.flags===e.flags}function zC(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const u=e.values();let l=!1,c=0;for(;(a=u.next())&&!a.done;){if(!i[c]&&n.equals(s.value,a.value,s.value,a.value,t,e,n)){l=i[c]=!0;break}c++}if(!l)return!1}return!0}function ag(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function wde(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function CL(t,e,n,r){return(r===lde||r===ude||r===ade)&&(t.$$typeof||e.$$typeof)?!0:sde(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const bde="[object ArrayBuffer]",Tde="[object Arguments]",xde="[object Boolean]",Ede="[object DataView]",Sde="[object Date]",Ade="[object Error]",Ide="[object Map]",Pde="[object Number]",Ode="[object Object]",Cde="[object RegExp]",Rde="[object Set]",kde="[object String]",Dde={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},Mde="[object URL]",Nde=Object.prototype.toString;function Vde({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:u,arePrimitiveWrappersEqual:l,areRegExpsEqual:c,areSetsEqual:f,areTypedArraysEqual:d,areUrlsEqual:p,unknownTagComparators:g}){return function(b,y,_){if(b===y)return!0;if(b==null||y==null)return!1;const E=typeof b;if(E!==typeof y)return!1;if(E!=="object")return E==="number"?a(b,y,_):E==="function"?o(b,y,_):!1;const P=b.constructor;if(P!==y.constructor)return!1;if(P===Object)return u(b,y,_);if(Array.isArray(b))return e(b,y,_);if(P===Date)return r(b,y,_);if(P===RegExp)return c(b,y,_);if(P===Map)return s(b,y,_);if(P===Set)return f(b,y,_);const x=Nde.call(b);if(x===Sde)return r(b,y,_);if(x===Cde)return c(b,y,_);if(x===Ide)return s(b,y,_);if(x===Rde)return f(b,y,_);if(x===Ode)return typeof b.then!="function"&&typeof y.then!="function"&&u(b,y,_);if(x===Mde)return p(b,y,_);if(x===Ade)return i(b,y,_);if(x===Tde)return u(b,y,_);if(Dde[x])return d(b,y,_);if(x===bde)return t(b,y,_);if(x===Ede)return n(b,y,_);if(x===xde||x===Pde||x===kde)return l(b,y,_);if(g){let S=g[x];if(!S){const w=ode(b);w&&(S=g[w])}if(S)return S(b,y,_)}return!1}}function $de({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:cde,areArraysEqual:n?Sc:fde,areDataViewsEqual:hde,areDatesEqual:dde,areErrorsEqual:pde,areFunctionsEqual:mde,areMapsEqual:n?h_(UC,Sc):UC,areNumbersEqual:gde,areObjectsEqual:n?Sc:yde,arePrimitiveWrappersEqual:vde,areRegExpsEqual:_de,areSetsEqual:n?h_(zC,Sc):zC,areTypedArraysEqual:n?h_(ag,Sc):ag,areUrlsEqual:wde,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=sp(r.areArraysEqual),o=sp(r.areMapsEqual),s=sp(r.areObjectsEqual),a=sp(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return r}function jde(t){return function(e,n,r,i,o,s,a){return t(e,n,a)}}function Lde({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(a,u){const{cache:l=t?new WeakMap:void 0,meta:c}=n();return e(a,u,{cache:l,equals:r,meta:c,strict:i})};if(t)return function(a,u){return e(a,u,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(a,u){return e(a,u,o)}}const Fde=Zo();Zo({strict:!0});Zo({circular:!0});Zo({circular:!0,strict:!0});Zo({createInternalComparator:()=>wa});Zo({strict:!0,createInternalComparator:()=>wa});Zo({circular:!0,createInternalComparator:()=>wa});Zo({circular:!0,createInternalComparator:()=>wa,strict:!0});function Zo(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=$de(t),s=Vde(o),a=n?n(s):jde(s);return Lde({circular:e,comparator:s,createState:r,equals:a,strict:i})}function Bde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function WC(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Bde(i)};requestAnimationFrame(r)}function Ub(t){"@babel/helpers - typeof";return Ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ub(t)}function Ude(t){return qde(t)||Hde(t)||Wde(t)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wde(t,e){if(t){if(typeof t=="string")return HC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(t,e)}}function HC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qde(t){if(Array.isArray(t))return t}function Gde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,a=Ude(s),u=a[0],l=a.slice(1);if(typeof u=="number"){WC(i.bind(null,l),u);return}i(u),WC(i.bind(null,l));return}Ub(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function qC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qC(Object(n),!0).forEach(function(r){RL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RL(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Yde(t,"string");return dh(e)==="symbol"?e:String(e)}function Yde(t,e){if(dh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Qde=function(e){return e},Jde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},uf=function(e,n){return Object.keys(n).reduce(function(r,i){return GC(GC({},r),{},RL({},i,e(i,n[i])))},{})},KC=function(e,n,r){return e.map(function(i){return"".concat(Jde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Zde(t,e){return npe(t)||tpe(t,e)||kL(t,e)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function npe(t){if(Array.isArray(t))return t}function rpe(t){return spe(t)||ope(t)||kL(t)||ipe()}function ipe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kL(t,e){if(t){if(typeof t=="string")return zb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(t,e)}}function ope(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function spe(t){if(Array.isArray(t))return zb(t)}function zb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ug=1e-4,DL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},ML=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},YC=function(e,n){return function(r){var i=DL(e,n);return ML(i,r)}},ape=function(e,n){return function(r){var i=DL(e,n),o=[].concat(rpe(i.map(function(s,a){return s*a}).slice(1)),[0]);return ML(o,r)}},XC=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var l=u[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),c=Zde(l,4);i=c[0],o=c[1],s=c[2],a=c[3]}}}var f=YC(i,s),d=YC(o,a),p=ape(i,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var _=y>1?1:y,E=_,P=0;P<8;++P){var x=f(E)-_,S=p(E);if(Math.abs(x-_)<ug||S<ug)return d(E);E=g(E-x/S)}return d(E)};return m.isStepper=!1,m},upe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,u=function(c,f,d){var p=-(c-f)*r,g=d*o,m=d+(p-g)*a/1e3,b=d*a/1e3+c;return Math.abs(b-f)<ug&&Math.abs(m)<ug?[f,0]:[b,m]};return u.isStepper=!0,u.dt=a,u},lpe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return XC(i);case"spring":return upe();default:if(i.split("(")[0]==="cubic-bezier")return XC(i)}return typeof i=="function"?i:null};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function QC(t){return hpe(t)||fpe(t)||NL(t)||cpe()}function cpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hpe(t){if(Array.isArray(t))return Hb(t)}function JC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JC(Object(n),!0).forEach(function(r){Wb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wb(t,e,n){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=ppe(t,"string");return ph(e)==="symbol"?e:String(e)}function ppe(t,e){if(ph(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mpe(t,e){return vpe(t)||ype(t,e)||NL(t,e)||gpe()}function gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NL(t,e){if(t){if(typeof t=="string")return Hb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hb(t,e)}}function Hb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ype(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function vpe(t){if(Array.isArray(t))return t}var lg=function(e,n,r){return e+(n-e)*r},qb=function(e){var n=e.from,r=e.to;return n!==r},_pe=function t(e,n,r){var i=uf(function(o,s){if(qb(s)){var a=e(s.from,s.to,s.velocity),u=mpe(a,2),l=u[0],c=u[1];return Gt(Gt({},s),{},{from:l,velocity:c})}return s},n);return r<1?uf(function(o,s){return qb(s)?Gt(Gt({},s),{},{velocity:lg(s.velocity,i[o].velocity,r),from:lg(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const wpe=function(t,e,n,r,i){var o=Xde(t,e),s=o.reduce(function(b,y){return Gt(Gt({},b),{},Wb({},y,[t[y],e[y]]))},{}),a=o.reduce(function(b,y){return Gt(Gt({},b),{},Wb({},y,{from:t[y],velocity:0,to:e[y]}))},{}),u=-1,l,c,f=function(){return null},d=function(){return uf(function(y,_){return _.from},a)},p=function(){return!Object.values(a).filter(qb).length},g=function(y){l||(l=y);var _=y-l,E=_/n.dt;a=_pe(n,a,E),i(Gt(Gt(Gt({},t),e),d())),l=y,p()||(u=requestAnimationFrame(f))},m=function(y){c||(c=y);var _=(y-c)/r,E=uf(function(x,S){return lg.apply(void 0,QC(S).concat([n(_)]))},s);if(i(Gt(Gt(Gt({},t),e),E)),_<1)u=requestAnimationFrame(f);else{var P=uf(function(x,S){return lg.apply(void 0,QC(S).concat([n(1)]))},s);i(Gt(Gt(Gt({},t),e),P))}};return f=n.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(u)}}};function Xu(t){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xu(t)}var bpe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tpe(t,e){if(t==null)return{};var n=xpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xpe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function d_(t){return Ipe(t)||Ape(t)||Spe(t)||Epe()}function Epe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Spe(t,e){if(t){if(typeof t=="string")return Gb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gb(t,e)}}function Ape(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ipe(t){if(Array.isArray(t))return Gb(t)}function Gb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ZC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZC(Object(n),!0).forEach(function(r){Fc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fc(t,e,n){return e=VL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ope(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VL(r.key),r)}}function Cpe(t,e,n){return e&&Ope(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VL(t){var e=Rpe(t,"string");return Xu(e)==="symbol"?e:String(e)}function Rpe(t,e){if(Xu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kb(t,e)}function Kb(t,e){return Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kb(t,e)}function Dpe(t){var e=Mpe();return function(){var r=cg(t),i;if(e){var o=cg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Yb(this,i)}}function Yb(t,e){if(e&&(Xu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xb(t)}function Xb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mpe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cg(t){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cg(t)}var Lo=function(t){kpe(n,t);var e=Dpe(n);function n(r,i){var o;Ppe(this,n),o=e.call(this,r,i);var s=o.props,a=s.isActive,u=s.attributeName,l=s.from,c=s.to,f=s.steps,d=s.children,p=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(Xb(o)),o.changeStyle=o.changeStyle.bind(Xb(o)),!a||p<=0)return o.state={style:{}},typeof d=="function"&&(o.state={style:c}),Yb(o);if(f&&f.length)o.state={style:f[0].style};else if(l){if(typeof d=="function")return o.state={style:l},Yb(o);o.state={style:u?Fc({},u,l):l}}else o.state={style:{}};return o}return Cpe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,u=o.attributeName,l=o.shouldReAnimate,c=o.to,f=o.from,d=this.state.style;if(a){if(!s){var p={style:u?Fc({},u,c):c};this.state&&d&&(u&&d[u]!==c||!u&&d!==c)&&this.setState(p);return}if(!(Fde(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||l?f:i.to;if(this.state&&d){var b={style:u?Fc({},u,m):m};(u&&d[u]!==m||!u&&d!==m)&&this.setState(b)}this.runAnimation(br(br({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,u=i.duration,l=i.easing,c=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=wpe(s,a,lpe(l),u,this.changeStyle),g=function(){o.stopJSAnimation=p()};this.manager.start([d,c,g,u,f])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,u=i.onAnimationStart,l=s[0],c=l.style,f=l.duration,d=f===void 0?0:f,p=function(m,b,y){if(y===0)return m;var _=b.duration,E=b.easing,P=E===void 0?"ease":E,x=b.style,S=b.properties,w=b.onAnimationEnd,T=y>0?s[y-1]:b,I=S||Object.keys(x);if(typeof P=="function"||P==="spring")return[].concat(d_(m),[o.runJSAnimation.bind(o,{from:T.style,to:x,duration:_,easing:P}),_]);var O=KC(I,_,P),k=br(br(br({},T.style),x),{},{transition:O});return[].concat(d_(m),[k,_,w]).filter(Qde)};return this.manager.start([u].concat(d_(s.reduce(p,[c,Math.max(d,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Gde());var o=i.begin,s=i.duration,a=i.attributeName,u=i.to,l=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof l=="function"||typeof p=="function"||l==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var m=a?Fc({},a,u):u,b=KC(Object.keys(m),s,l);g.start([c,o,br(br({},m),{},{transition:b}),s,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Tpe(i,bpe),l=j.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!a||l===0||s<=0)return o;var f=function(p){var g=p.props,m=g.style,b=m===void 0?{}:m,y=g.className,_=j.cloneElement(p,br(br({},u),{},{style:br(br({},b),c),className:y}));return _};return l===1?f(j.Children.only(o)):N.createElement("div",null,j.Children.map(o,function(d){return f(d)}))}}]),n}(j.PureComponent);Lo.displayName="Animate";Lo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Lo.propTypes={from:De.oneOfType([De.object,De.string]),to:De.oneOfType([De.object,De.string]),attributeName:De.string,duration:De.number,begin:De.number,easing:De.oneOfType([De.string,De.func]),steps:De.arrayOf(De.shape({duration:De.number.isRequired,style:De.object.isRequired,easing:De.oneOfType([De.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),De.func]),properties:De.arrayOf("string"),onAnimationEnd:De.func})),children:De.oneOfType([De.node,De.func]),isActive:De.bool,canBegin:De.bool,onAnimationEnd:De.func,shouldReAnimate:De.bool,onAnimationStart:De.func,onAnimationReStart:De.func};function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}function Npe(t,e){return Lpe(t)||jpe(t,e)||$pe(t,e)||Vpe()}function Vpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $pe(t,e){if(t){if(typeof t=="string")return eR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eR(t,e)}}function eR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function Lpe(t){if(Array.isArray(t))return t}function tR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tR(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return e=Bpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=Upe(t,"string");return mh(e)=="symbol"?e:e+""}function Upe(t,e){if(mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rR=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,u=r>=0?1:-1,l=i>=0&&r>=0||i<0&&r<0?1:0,c;if(s>0&&o instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=o[d]>s?s:o[d];c="M".concat(e,",").concat(n+a*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(l,",").concat(e+u*f[0],",").concat(n)),c+="L ".concat(e+r-u*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(n+a*f[1])),c+="L ".concat(e+r,",").concat(n+i-a*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(l,`,
        `).concat(e+r-u*f[2],",").concat(n+i)),c+="L ".concat(e+u*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(n+i-a*f[3])),c+="Z"}else if(s>0&&o===+o&&o>0){var g=Math.min(s,o);c="M ".concat(e,",").concat(n+a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+u*g,",").concat(n,`
            L `).concat(e+r-u*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+r,",").concat(n+a*g,`
            L `).concat(e+r,",").concat(n+i-a*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e+r-u*g,",").concat(n+i,`
            L `).concat(e+u*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(l,",").concat(e,",").concat(n+i-a*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},zpe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,a=n.width,u=n.height;if(Math.abs(a)>0&&Math.abs(u)>0){var l=Math.min(o,o+a),c=Math.max(o,o+a),f=Math.min(s,s+u),d=Math.max(s,s+u);return r>=l&&r<=c&&i>=f&&i<=d}return!1},Wpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xE=function(e){var n=nR(nR({},Wpe),e),r=j.useRef(),i=j.useState(-1),o=Npe(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&a(P)}catch{}},[]);var u=n.x,l=n.y,c=n.width,f=n.height,d=n.radius,p=n.className,g=n.animationEasing,m=n.animationDuration,b=n.animationBegin,y=n.isAnimationActive,_=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||c===0||f===0)return null;var E=Ce("recharts-rectangle",p);return _?N.createElement(Lo,{canBegin:s>0,from:{width:c,height:f,x:u,y:l},to:{width:c,height:f,x:u,y:l},duration:m,animationEasing:g,isActive:_},function(P){var x=P.width,S=P.height,w=P.x,T=P.y;return N.createElement(Lo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,isActive:y,easing:g},N.createElement("path",fg({},_e(n,!0),{className:E,d:rR(w,T,x,S,d),ref:r})))}):N.createElement("path",fg({},_e(n,!0),{className:E,d:rR(u,l,c,f,d)}))},Hpe=["points","className","baseLinePoints","connectNulls"];function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cu.apply(this,arguments)}function qpe(t,e){if(t==null)return{};var n=Gpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function iR(t){return Qpe(t)||Xpe(t)||Ype(t)||Kpe()}function Kpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ype(t,e){if(t){if(typeof t=="string")return Qb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qb(t,e)}}function Xpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qpe(t){if(Array.isArray(t))return Qb(t)}function Qb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var oR=function(e){return e&&e.x===+e.x&&e.y===+e.y},Jpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){oR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),oR(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lf=function(e,n){var r=Jpe(e);n&&(r=[r.reduce(function(o,s){return[].concat(iR(o),iR(s))},[])]);var i=r.map(function(o){return o.reduce(function(s,a,u){return"".concat(s).concat(u===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Zpe=function(e,n,r){var i=lf(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lf(n.reverse(),r).slice(1))},eme=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,s=qpe(e,Hpe);if(!n||!n.length)return null;var a=Ce("recharts-polygon",r);if(i&&i.length){var u=s.stroke&&s.stroke!=="none",l=Zpe(n,i,o);return N.createElement("g",{className:a},N.createElement("path",cu({},_e(s,!0),{fill:l.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:l})),u?N.createElement("path",cu({},_e(s,!0),{fill:"none",d:lf(n,o)})):null,u?N.createElement("path",cu({},_e(s,!0),{fill:"none",d:lf(i,o)})):null)}var c=lf(n,o);return N.createElement("path",cu({},_e(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",className:a,d:c}))};function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(this,arguments)}var EE=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=Ce("recharts-dot",o);return n===+n&&r===+r&&i===+i?j.createElement("circle",Jb({},_e(e,!1),Rm(e),{className:s,cx:n,cy:r,r:i})):null};function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}var tme=["x","y","top","left","width","height","className"];function Zb(){return Zb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zb.apply(this,arguments)}function sR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sR(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return e=ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=ome(t,"string");return gh(e)=="symbol"?e:e+""}function ome(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sme(t,e){if(t==null)return{};var n=ame(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ame(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ume=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},lme=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,u=e.left,l=u===void 0?0:u,c=e.width,f=c===void 0?0:c,d=e.height,p=d===void 0?0:d,g=e.className,m=sme(e,tme),b=nme({x:r,y:o,top:a,left:l,width:f,height:p},m);return!re(r)||!re(o)||!re(f)||!re(p)||!re(a)||!re(l)?null:N.createElement("path",Zb({},_e(b,!0),{className:Ce("recharts-cross",g),d:ume(r,o,f,p,a,l)}))},cme=Qy,fme=Zj,hme=Xo;function dme(t,e){return t&&t.length?cme(t,hme(e),fme):void 0}var pme=dme;const mme=Be(pme);var gme=Qy,yme=Xo,vme=eL;function _me(t,e){return t&&t.length?gme(t,yme(e),vme):void 0}var wme=_me;const bme=Be(wme);var Tme=["cx","cy","angle","ticks","axisLine"],xme=["ticks","tick","angle","tickFormatter","stroke"];function Qu(t){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qu(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cf.apply(this,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ls(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uR(t,e){if(t==null)return{};var n=Eme(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Eme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Sme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jL(r.key),r)}}function Ame(t,e,n){return e&&lR(t.prototype,e),n&&lR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ime(t,e,n){return e=hg(e),Pme(t,$L()?Reflect.construct(e,n||[],hg(t).constructor):e.apply(t,n))}function Pme(t,e){if(e&&(Qu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(t)}function Ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function hg(t){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hg(t)}function Cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e1(t,e)}function e1(t,e){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},e1(t,e)}function nv(t,e,n){return e=jL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jL(t){var e=Rme(t,"string");return Qu(e)=="symbol"?e:e+""}function Rme(t,e){if(Qu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=function(t){function e(){return Sme(this,e),Ime(this,e,arguments)}return Cme(e,t),Ame(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,s=o.angle,a=o.cx,u=o.cy;return Ke(a,u,i,s)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,u=mme(a,function(c){return c.coordinate||0}),l=bme(a,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:s,endAngle:s,innerRadius:l.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.angle,a=r.ticks,u=r.axisLine,l=uR(r,Tme),c=a.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),f=Ke(i,o,c[0],s),d=Ke(i,o,c[1],s),p=ls(ls(ls({},_e(l,!1)),{},{fill:"none"},_e(u,!1)),{},{x1:f.x,y1:f.y,x2:d.x,y2:d.y});return N.createElement("line",cf({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.angle,u=i.tickFormatter,l=i.stroke,c=uR(i,xme),f=this.getTickTextAnchor(),d=_e(c,!1),p=_e(s,!1),g=o.map(function(m,b){var y=r.getTickValueCoord(m),_=ls(ls(ls(ls({textAnchor:f,transform:"rotate(".concat(90-a,", ").concat(y.x,", ").concat(y.y,")")},d),{},{stroke:"none",fill:l},p),{},{index:b},y),{},{payload:m});return N.createElement(_t,cf({className:Ce("recharts-polar-radius-axis-tick",xL(s)),key:"tick-".concat(m.coordinate)},Vy(r.props,m,b)),e.renderTickItem(s,_,u?u(m.value,b):m.value))});return N.createElement(_t,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,s=r.tick;return!i||!i.length?null:N.createElement(_t,{className:Ce("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),s&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return N.isValidElement(r)?s=N.cloneElement(r,i):we(r)?s=r(i):s=N.createElement(Wu,cf({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),s}}])}(j.PureComponent);nv(rv,"displayName","PolarRadiusAxis");nv(rv,"axisType","radiusAxis");nv(rv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function xs(){return xs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xs.apply(this,arguments)}function cR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cR(Object(n),!0).forEach(function(r){iv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FL(r.key),r)}}function Dme(t,e,n){return e&&fR(t.prototype,e),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mme(t,e,n){return e=dg(e),Nme(t,LL()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function Nme(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vme(t)}function Vme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LL=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function $me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t1(t,e)}function t1(t,e){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t1(t,e)}function iv(t,e,n){return e=FL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FL(t){var e=jme(t,"string");return Ju(e)=="symbol"?e:e+""}function jme(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lme=Math.PI/180,hR=1e-5,ov=function(t){function e(){return kme(this,e),Mme(this,e,arguments)}return $me(e,t),Dme(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,s=i.cy,a=i.radius,u=i.orientation,l=i.tickSize,c=l||8,f=Ke(o,s,a,r.coordinate),d=Ke(o,s,a+(u==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:d.x,y2:d.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Lme),s;return o>hR?s=i==="outer"?"start":"end":o<-hR?s=i==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,s=r.radius,a=r.axisLine,u=r.axisLineType,l=cs(cs({},_e(this.props,!1)),{},{fill:"none"},_e(a,!1));if(u==="circle")return N.createElement(EE,xs({className:"recharts-polar-angle-axis-line"},l,{cx:i,cy:o,r:s}));var c=this.props.ticks,f=c.map(function(d){return Ke(i,o,s,d.coordinate)});return N.createElement(eme,xs({className:"recharts-polar-angle-axis-line"},l,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,s=i.tick,a=i.tickLine,u=i.tickFormatter,l=i.stroke,c=_e(this.props,!1),f=_e(s,!1),d=cs(cs({},c),{},{fill:"none"},_e(a,!1)),p=o.map(function(g,m){var b=r.getTickLineCoord(g),y=r.getTickTextAnchor(g),_=cs(cs(cs({textAnchor:y},c),{},{stroke:"none",fill:l},f),{},{index:m,payload:g,x:b.x2,y:b.y2});return N.createElement(_t,xs({className:Ce("recharts-polar-angle-axis-tick",xL(s)),key:"tick-".concat(g.coordinate)},Vy(r.props,g,m)),a&&N.createElement("line",xs({className:"recharts-polar-angle-axis-tick-line"},d,b)),s&&e.renderTickItem(s,_,u?u(g.value,m):g.value))});return N.createElement(_t,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,s=r.axisLine;return o<=0||!i||!i.length?null:N.createElement(_t,{className:Ce("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var s;return N.isValidElement(r)?s=N.cloneElement(r,i):we(r)?s=r(i):s=N.createElement(Wu,xs({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),s}}])}(j.PureComponent);iv(ov,"displayName","PolarAngleAxis");iv(ov,"axisType","angleAxis");iv(ov,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Fme=Q4,Bme=Fme(Object.getPrototypeOf,Object),Ume=Bme,zme=Ui,Wme=Ume,Hme=zi,qme="[object Object]",Gme=Function.prototype,Kme=Object.prototype,BL=Gme.toString,Yme=Kme.hasOwnProperty,Xme=BL.call(Object);function Qme(t){if(!Hme(t)||zme(t)!=qme)return!1;var e=Wme(t);if(e===null)return!0;var n=Yme.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&BL.call(n)==Xme}var Jme=Qme;const Zme=Be(Jme);var ege=Ui,tge=zi,nge="[object Boolean]";function rge(t){return t===!0||t===!1||tge(t)&&ege(t)==nge}var ige=rge;const oge=Be(ige);function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pg.apply(this,arguments)}function sge(t,e){return cge(t)||lge(t,e)||uge(t,e)||age()}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uge(t,e){if(t){if(typeof t=="string")return dR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dR(t,e)}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function cge(t){if(Array.isArray(t))return t}function pR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return e=hge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=dge(t,"string");return yh(e)=="symbol"?e:e+""}function dge(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gR=function(e,n,r,i,o){var s=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-s/2,",").concat(n+o),a+="L ".concat(e+r-s/2-i,",").concat(n+o),a+="L ".concat(e,",").concat(n," Z"),a},pge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mge=function(e){var n=mR(mR({},pge),e),r=j.useRef(),i=j.useState(-1),o=sge(i,2),s=o[0],a=o[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&a(E)}catch{}},[]);var u=n.x,l=n.y,c=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,g=n.animationEasing,m=n.animationDuration,b=n.animationBegin,y=n.isUpdateAnimationActive;if(u!==+u||l!==+l||c!==+c||f!==+f||d!==+d||c===0&&f===0||d===0)return null;var _=Ce("recharts-trapezoid",p);return y?N.createElement(Lo,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:u,y:l},to:{upperWidth:c,lowerWidth:f,height:d,x:u,y:l},duration:m,animationEasing:g,isActive:y},function(E){var P=E.upperWidth,x=E.lowerWidth,S=E.height,w=E.x,T=E.y;return N.createElement(Lo,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:m,easing:g},N.createElement("path",pg({},_e(n,!0),{className:_,d:gR(w,T,P,x,S),ref:r})))}):N.createElement("g",null,N.createElement("path",pg({},_e(n,!0),{className:_,d:gR(u,l,c,f,d)})))},gge=["option","shapeType","propTransformer","activeClassName","isActive"];function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function yge(t,e){if(t==null)return{};var n=vge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yR(Object(n),!0).forEach(function(r){_ge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ge(t,e,n){return e=wge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=bge(t,"string");return vh(e)=="symbol"?e:e+""}function bge(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tge(t,e){return mg(mg({},e),t)}function xge(t,e){return t==="symbols"}function vR(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return N.createElement(xE,n);case"trapezoid":return N.createElement(mge,n);case"sector":return N.createElement(AL,n);case"symbols":if(xge(e))return N.createElement(jx,n);break;default:return null}}function Ege(t){return j.isValidElement(t)?t.props:t}function Sge(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Tge:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,u=yge(t,gge),l;if(j.isValidElement(e))l=j.cloneElement(e,mg(mg({},u),Ege(e)));else if(we(e))l=e(u);else if(Zme(e)&&!oge(e)){var c=i(e,u);l=N.createElement(vR,{shapeType:n,elementProps:c})}else{var f=u;l=N.createElement(vR,{shapeType:n,elementProps:f})}return a?N.createElement(_t,{className:s},l):l}function sv(t,e){return e!=null&&"trapezoids"in t.props}function av(t,e){return e!=null&&"sectors"in t.props}function _h(t,e){return e!=null&&"points"in t.props}function Age(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Ige(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Pge(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Oge(t,e){var n;return sv(t,e)?n=Age:av(t,e)?n=Ige:_h(t,e)&&(n=Pge),n}function Cge(t,e){var n;return sv(t,e)?n="trapezoids":av(t,e)?n="sectors":_h(t,e)&&(n="points"),n}function Rge(t,e){if(sv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(av(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _h(t,e)?e.payload:{}}function kge(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Cge(n,e),o=Rge(n,e),s=r.filter(function(u,l){var c=vE(o,u),f=n.props[i].filter(function(g){var m=Oge(n,e);return m(g,e)}),d=n.props[i].indexOf(f[f.length-1]),p=l===d;return c&&p}),a=r.indexOf(s[s.length-1]);return a}var Dp;function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function fu(){return fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fu.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function He(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){ir(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function Mge(t,e,n){return e&&wR(t.prototype,e),n&&wR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,n){return e=gg(e),Vge(t,UL()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function Vge(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ge(t)}function $ge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UL=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function jge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n1(t,e)}function n1(t,e){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},n1(t,e)}function ir(t,e,n){return e=zL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zL(t){var e=Lge(t,"string");return Zu(e)=="symbol"?e:e+""}function Lge(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hi=function(t){function e(n){var r;return Dge(this,e),r=Nge(this,e,[n]),ir(r,"pieRef",null),ir(r,"sectorRefs",[]),ir(r,"id",Ny("recharts-pie-")),ir(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),we(i)&&i()}),ir(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),we(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return jge(e,t),Mge(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.label,a=o.labelLine,u=o.dataKey,l=o.valueKey,c=_e(this.props,!1),f=_e(s,!1),d=_e(a,!1),p=s&&s.offsetRadius||20,g=r.map(function(m,b){var y=(m.startAngle+m.endAngle)/2,_=Ke(m.cx,m.cy,m.outerRadius+p,y),E=He(He(He(He({},c),m),{},{stroke:"none"},f),{},{index:b,textAnchor:e.getTextAnchor(_.x,m.cx)},_),P=He(He(He(He({},c),m),{},{fill:"none",stroke:m.fill},d),{},{index:b,points:[Ke(m.cx,m.cy,m.outerRadius,y),_]}),x=u;return Ae(u)&&Ae(l)?x="value":Ae(u)&&(x=l),N.createElement(_t,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(b)},a&&e.renderLabelLineItem(a,P,"line"),e.renderLabelItem(s,E,$n(m,x)))});return N.createElement(_t,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,s=o.activeShape,a=o.blendStroke,u=o.inactiveShape;return r.map(function(l,c){if((l==null?void 0:l.startAngle)===0&&(l==null?void 0:l.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),d=u&&i.hasActiveIndex()?u:null,p=f?s:d,g=He(He({},l),{},{stroke:a?l.fill:l.stroke,tabIndex:-1});return N.createElement(_t,fu({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Vy(i.props,l,c),{key:"sector-".concat(l==null?void 0:l.startAngle,"-").concat(l==null?void 0:l.endAngle,"-").concat(l.midAngle,"-").concat(c)}),N.createElement(Sge,fu({option:p,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,s=i.isAnimationActive,a=i.animationBegin,u=i.animationDuration,l=i.animationEasing,c=i.animationId,f=this.state,d=f.prevSectors,p=f.prevIsAnimationActive;return N.createElement(Lo,{begin:a,duration:u,isActive:s,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,b=[],y=o&&o[0],_=y.startAngle;return o.forEach(function(E,P){var x=d&&d[P],S=P>0?kr(E,"paddingAngle",0):0;if(x){var w=mO(x.endAngle-x.startAngle,E.endAngle-E.startAngle),T=He(He({},E),{},{startAngle:_+S,endAngle:_+w(m)+S});b.push(T),_=T.endAngle}else{var I=E.endAngle,O=E.startAngle,k=mO(0,I-O),C=k(m),R=He(He({},E),{},{startAngle:_+S,endAngle:_+C+S});b.push(R),_=R.endAngle}}),N.createElement(_t,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var s=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,s=this.state.prevSectors;return o&&i&&i.length&&(!s||!vE(s,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,s=i.sectors,a=i.className,u=i.label,l=i.cx,c=i.cy,f=i.innerRadius,d=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(o||!s||!s.length||!re(l)||!re(c)||!re(f)||!re(d))return null;var m=Ce("recharts-pie",a);return N.createElement(_t,{tabIndex:this.props.rootTabIndex,className:m,ref:function(y){r.pieRef=y}},this.renderSectors(),u&&this.renderLabels(s),Jt.renderCallByParent(this.props,null,!1),(!p||g)&&zs.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(N.isValidElement(r))return N.cloneElement(r,i);if(we(r))return r(i);var s=Ce("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return N.createElement(Bb,fu({},i,{key:o,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(r,i,o){if(N.isValidElement(r))return N.cloneElement(r,i);var s=o;if(we(r)&&(s=r(i),N.isValidElement(s)))return s;var a=Ce("recharts-pie-label-text",typeof r!="boolean"&&!we(r)?r.className:"");return N.createElement(Wu,fu({},i,{alignmentBaseline:"middle",className:a}),s)}}])}(j.PureComponent);Dp=Hi;ir(Hi,"displayName","Pie");ir(Hi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wy.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ir(Hi,"parseDeltaAngle",function(t,e){var n=ar(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ir(Hi,"getRealPieData",function(t){var e=t.data,n=t.children,r=_e(t,!1),i=ei(n,Yx);return e&&e.length?e.map(function(o,s){return He(He(He({payload:o},r),o),i&&i[s]&&i[s].props)}):i&&i.length?i.map(function(o){return He(He({},r),o.props)}):[]});ir(Hi,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,s=TL(i,o),a=r+Sn(t.cx,i,i/2),u=n+Sn(t.cy,o,o/2),l=Sn(t.innerRadius,s,0),c=Sn(t.outerRadius,s,s*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:a,cy:u,innerRadius:l,outerRadius:c,maxRadius:f}});ir(Hi,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?He(He({},e.type.defaultProps),e.props):e.props,i=Dp.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,s=r.startAngle,a=r.endAngle,u=r.paddingAngle,l=r.dataKey,c=r.nameKey,f=r.valueKey,d=r.tooltipType,p=Math.abs(r.minAngle),g=Dp.parseCoordinateOfPie(r,n),m=Dp.parseDeltaAngle(s,a),b=Math.abs(m),y=l;Ae(l)&&Ae(f)?(Ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Ae(l)&&(Ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=f);var _=i.filter(function(T){return $n(T,y,0)!==0}).length,E=(b>=360?_:_-1)*u,P=b-_*p-E,x=i.reduce(function(T,I){var O=$n(I,y,0);return T+(re(O)?O:0)},0),S;if(x>0){var w;S=i.map(function(T,I){var O=$n(T,y,0),k=$n(T,c,I),C=(re(O)?O:0)/x,R;I?R=w.endAngle+ar(m)*u*(O!==0?1:0):R=s;var U=R+ar(m)*((O!==0?p:0)+C*P),W=(R+U)/2,K=(g.innerRadius+g.outerRadius)/2,q=[{name:k,value:O,payload:T,dataKey:y,type:d}],L=Ke(g.cx,g.cy,K,W);return w=He(He(He({percent:C,cornerRadius:o,name:k,tooltipPayload:q,midAngle:W,middleRadius:K,tooltipPosition:L},T),g),{},{value:$n(T,y),startAngle:R,endAngle:U,payload:T,paddingAngle:ar(m)*u}),w})}return He(He({},g),{},{sectors:S,data:i})});var Fge=Math.ceil,Bge=Math.max;function Uge(t,e,n,r){for(var i=-1,o=Bge(Fge((e-t)/(n||1)),0),s=Array(o);o--;)s[r?o:++i]=t,t+=n;return s}var zge=Uge,Wge=mj,bR=1/0,Hge=17976931348623157e292;function qge(t){if(!t)return t===0?t:0;if(t=Wge(t),t===bR||t===-bR){var e=t<0?-1:1;return e*Hge}return t===t?t:0}var Gge=qge,Kge=zge,Yge=zy,p_=Gge;function Xge(t){return function(e,n,r){return r&&typeof r!="number"&&Yge(e,n,r)&&(n=r=void 0),e=p_(e),n===void 0?(n=e,e=0):n=p_(n),r=r===void 0?e<n?1:-1:p_(r),Kge(e,n,r,t)}}var Qge=Xge,Jge=Qge,Zge=Jge(),eye=Zge;const yg=Be(eye);function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){WL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WL(t,e,n){return e=tye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return wh(e)=="symbol"?e:e+""}function nye(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rye=["Webkit","Moz","O","ms"],iye=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=rye.reduce(function(o,s){return xR(xR({},o),{},WL({},s+r,n))},{});return i[e]=n,i};function el(t){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},el(t)}function vg(){return vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vg.apply(this,arguments)}function ER(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(n),!0).forEach(function(r){Dn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ER(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qL(r.key),r)}}function sye(t,e,n){return e&&SR(t.prototype,e),n&&SR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aye(t,e,n){return e=_g(e),uye(t,HL()?Reflect.construct(e,n||[],_g(t).constructor):e.apply(t,n))}function uye(t,e){if(e&&(el(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lye(t)}function lye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HL=function(){return!!t})()}function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_g(t)}function cye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r1(t,e)}function r1(t,e){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r1(t,e)}function Dn(t,e,n){return e=qL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qL(t){var e=fye(t,"string");return el(e)=="symbol"?e:e+""}function fye(t,e){if(el(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hye=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var u=n.length,l=sf().domain(yg(0,u)).range([o,o+s-a]),c=l.domain().map(function(f){return l(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(i),scale:l,scaleValues:c}},AR=function(e){return e.changedTouches&&!!e.changedTouches.length},tl=function(t){function e(n){var r;return oye(this,e),r=aye(this,e,[n]),Dn(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Dn(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Dn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),r.detachDragEndListener()}),Dn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Dn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Dn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Dn(r,"handleSlideDragStart",function(i){var o=AR(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return cye(e,t),sye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,a=this.props,u=a.gap,l=a.data,c=l.length-1,f=Math.min(i,o),d=Math.max(i,o),p=e.getIndexInRange(s,f),g=e.getIndexInRange(s,d);return{startIndex:p-p%u,endIndex:g===c?c:g-g%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,u=$n(o[r],a,r);return we(s)?s(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,u=this.props,l=u.x,c=u.width,f=u.travellerWidth,d=u.startIndex,p=u.endIndex,g=u.onChange,m=r.pageX-o;m>0?m=Math.min(m,l+c-f-a,l+c-f-s):m<0&&(m=Math.max(m,l-s,l-a));var b=this.getIndex({startX:s+m,endX:a+m});(b.startIndex!==d||b.endIndex!==p)&&g&&g(b),this.setState({startX:s+m,endX:a+m,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=AR(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,u=i.startX,l=this.state[s],c=this.props,f=c.x,d=c.width,p=c.travellerWidth,g=c.onChange,m=c.gap,b=c.data,y={startX:this.state.startX,endX:this.state.endX},_=r.pageX-o;_>0?_=Math.min(_,f+d-p-l):_<0&&(_=Math.max(_,f-l)),y[s]=l+_;var E=this.getIndex(y),P=E.startIndex,x=E.endIndex,S=function(){var T=b.length-1;return s==="startX"&&(a>u?P%m===0:x%m===0)||a<u&&x===T||s==="endX"&&(a>u?x%m===0:P%m===0)||a>u&&x===T};this.setState(Dn(Dn({},s,l+_),"brushMoveStartX",r.pageX),function(){g&&S()&&g(E)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,a=s.scaleValues,u=s.startX,l=s.endX,c=this.state[i],f=a.indexOf(c);if(f!==-1){var d=f+r;if(!(d===-1||d>=a.length)){var p=a[d];i==="startX"&&p>=l||i==="endX"&&p<=u||this.setState(Dn({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,u=r.fill,l=r.stroke;return N.createElement("rect",{stroke:l,fill:u,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,a=r.height,u=r.data,l=r.children,c=r.padding,f=j.Children.only(l);return f?N.cloneElement(f,{x:i,y:o,width:s,height:a,margin:c,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,s,a=this,u=this.props,l=u.y,c=u.travellerWidth,f=u.height,d=u.traveller,p=u.ariaLabel,g=u.data,m=u.startIndex,b=u.endIndex,y=Math.max(r,this.props.x),_=m_(m_({},_e(this.props,!1)),{},{x:y,y:l,width:c,height:f}),E=p||"Min value: ".concat((o=g[m])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=g[b])===null||s===void 0?void 0:s.name);return N.createElement(_t,{tabIndex:0,role:"slider","aria-label":E,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(x){["ArrowLeft","ArrowRight"].includes(x.key)&&(x.preventDefault(),x.stopPropagation(),a.handleTravellerMoveKeyboard(x.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,_))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,a=o.height,u=o.stroke,l=o.travellerWidth,c=Math.min(r,i)+l,f=Math.max(Math.abs(i-r)-l,0);return N.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:c,y:s,width:f,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,a=r.height,u=r.travellerWidth,l=r.stroke,c=this.state,f=c.startX,d=c.endX,p=5,g={pointerEvents:"none",fill:l};return N.createElement(_t,{className:"recharts-brush-texts"},N.createElement(Wu,vg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:s+a/2},g),this.getTextOfTick(i)),N.createElement(Wu,vg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+u+p,y:s+a/2},g),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,a=r.x,u=r.y,l=r.width,c=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,g=d.endX,m=d.isTextActive,b=d.isSlideMoving,y=d.isTravellerMoving,_=d.isTravellerFocused;if(!i||!i.length||!re(a)||!re(u)||!re(l)||!re(c)||l<=0||c<=0)return null;var E=Ce("recharts-brush",o),P=N.Children.count(s)===1,x=iye("userSelect","none");return N.createElement(_t,{className:E,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:x},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||b||y||_||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,a=r.height,u=r.stroke,l=Math.floor(o+a/2)-1;return N.createElement(N.Fragment,null,N.createElement("rect",{x:i,y:o,width:s,height:a,fill:u,stroke:"none"}),N.createElement("line",{x1:i+1,y1:l,x2:i+s-1,y2:l,fill:"none",stroke:"#fff"}),N.createElement("line",{x1:i+1,y1:l+2,x2:i+s-1,y2:l+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return N.isValidElement(r)?o=N.cloneElement(r,i):we(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,a=r.x,u=r.travellerWidth,l=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||l!==i.prevUpdateId)return m_({prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:a,prevWidth:s},o&&o.length?hye({data:o,width:s,x:a,travellerWidth:u,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([a,a+s-u]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:u,prevUpdateId:l,prevX:a,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,a=o-1;a-s>1;){var u=Math.floor((s+a)/2);r[u]>i?a=u:s=u}return i>=r[a]?a:s}}])}(j.PureComponent);Dn(tl,"displayName","Brush");Dn(tl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dye=qx;function pye(t,e){var n;return dye(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var mye=pye,gye=z4,yye=Xo,vye=mye,_ye=Rn,wye=zy;function bye(t,e,n){var r=_ye(t)?gye:vye;return n&&wye(t,e,n)&&(e=void 0),r(t,yye(e))}var Tye=bye;const xye=Be(Tye);var ni=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},IR=cj;function Eye(t,e,n){e=="__proto__"&&IR?IR(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Sye=Eye,Aye=Sye,Iye=uj,Pye=Xo;function Oye(t,e){var n={};return e=Pye(e),Iye(t,function(r,i,o){Aye(n,i,e(r,i,o))}),n}var Cye=Oye;const Rye=Be(Cye);function kye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Dye=kye,Mye=qx;function Nye(t,e){var n=!0;return Mye(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Vye=Nye,$ye=Dye,jye=Vye,Lye=Xo,Fye=Rn,Bye=zy;function Uye(t,e,n){var r=Fye(t)?$ye:jye;return n&&Bye(t,e,n)&&(e=void 0),r(t,Lye(e))}var zye=Uye;const Wye=Be(zye);function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function Hye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GL(r.key),r)}}function qye(t,e,n){return e&&PR(t.prototype,e),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ap(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SE(t,e,n){return e=GL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GL(t){var e=Gye(t,"string");return bh(e)=="symbol"?e:e+""}function Gye(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KL=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},Kye=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return KL({x:n,y:r},{x:i,y:o})},YL=function(){function t(e){Hye(this,t),this.scale=e}return qye(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();SE(YL,"EPS",1e-4);var AE=function(e){var n=Object.keys(e).reduce(function(r,i){return ap(ap({},r),{},SE({},i,YL.create(e[i])))},{});return ap(ap({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return Rye(i,function(u,l){return n[l].apply(u,{bandAware:s,position:a})})},isInRange:function(i){return Wye(i,function(o,s){return n[s].isInRange(o)})}})},Yye=TY(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XL=j.createContext(void 0),QL=j.createContext(void 0),JL=j.createContext(void 0),Xye=j.createContext({}),ZL=j.createContext(void 0),Qye=j.createContext(0),Jye=j.createContext(0),CR=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,a=e.children,u=e.width,l=e.height,c=Yye(o);return N.createElement(XL.Provider,{value:r},N.createElement(QL.Provider,{value:i},N.createElement(Xye.Provider,{value:o},N.createElement(JL.Provider,{value:c},N.createElement(ZL.Provider,{value:s},N.createElement(Qye.Provider,{value:l},N.createElement(Jye.Provider,{value:u},a)))))))},Zye=function(){return j.useContext(ZL)},eve=function(e){var n=j.useContext(XL);n==null&&Ku();var r=n[e];return r==null&&Ku(),r},tve=function(e){var n=j.useContext(QL);n==null&&Ku();var r=n[e];return r==null&&Ku(),r},nve=function(){var e=j.useContext(JL);return e};function nl(t){"@babel/helpers - typeof";return nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nl(t)}function rve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ive(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t3(r.key),r)}}function ove(t,e,n){return e&&ive(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sve(t,e,n){return e=wg(e),ave(t,e3()?Reflect.construct(e,n||[],wg(t).constructor):e.apply(t,n))}function ave(t,e){if(e&&(nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!t})()}function wg(t){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wg(t)}function lve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&i1(t,e)}function i1(t,e){return i1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i1(t,e)}function RR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RR(Object(n),!0).forEach(function(r){IE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IE(t,e,n){return e=t3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t3(t){var e=cve(t,"string");return nl(e)=="symbol"?e:e+""}function cve(t,e){if(nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fve(t,e){return mve(t)||pve(t,e)||dve(t,e)||hve()}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(t,e){if(t){if(typeof t=="string")return DR(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DR(t,e)}}function DR(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function mve(t){if(Array.isArray(t))return t}function o1(){return o1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1.apply(this,arguments)}var gve=function(e,n){var r;return N.isValidElement(e)?r=N.cloneElement(e,n):we(e)?r=e(n):r=N.createElement("line",o1({},n,{className:"recharts-reference-line-line"})),r},yve=function(e,n,r,i,o,s,a,u,l){var c=o.x,f=o.y,d=o.width,p=o.height;if(r){var g=l.y,m=e.y.apply(g,{position:s});if(ni(l,"discard")&&!e.y.isInRange(m))return null;var b=[{x:c+d,y:m},{x:c,y:m}];return u==="left"?b.reverse():b}if(n){var y=l.x,_=e.x.apply(y,{position:s});if(ni(l,"discard")&&!e.x.isInRange(_))return null;var E=[{x:_,y:f+p},{x:_,y:f}];return a==="top"?E.reverse():E}if(i){var P=l.segment,x=P.map(function(S){return e.apply(S,{position:s})});return ni(l,"discard")&&xye(x,function(S){return!e.isInRange(S)})?null:x}return null};function vve(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,u=t.alwaysShow,l=Zye(),c=eve(i),f=tve(o),d=nve();if(!l||!d)return null;Ii(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=AE({x:c.scale,y:f.scale}),g=Dt(e),m=Dt(n),b=r&&r.length===2,y=yve(p,g,m,b,d,t.position,c.orientation,f.orientation,t);if(!y)return null;var _=fve(y,2),E=_[0],P=E.x,x=E.y,S=_[1],w=S.x,T=S.y,I=ni(t,"hidden")?"url(#".concat(l,")"):void 0,O=kR(kR({clipPath:I},_e(t,!0)),{},{x1:P,y1:x,x2:w,y2:T});return N.createElement(_t,{className:Ce("recharts-reference-line",a)},gve(s,O),Jt.renderCallByParent(t,Kye({x1:P,y1:x,x2:w,y2:T})))}var PE=function(t){function e(){return rve(this,e),sve(this,e,arguments)}return lve(e,t),ove(e,[{key:"render",value:function(){return N.createElement(vve,this.props)}}])}(N.Component);IE(PE,"displayName","ReferenceLine");IE(PE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function s1(){return s1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s1.apply(this,arguments)}function rl(t){"@babel/helpers - typeof";return rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(t)}function MR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MR(Object(n),!0).forEach(function(r){uv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r3(r.key),r)}}function bve(t,e,n){return e&&wve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tve(t,e,n){return e=bg(e),xve(t,n3()?Reflect.construct(e,n||[],bg(t).constructor):e.apply(t,n))}function xve(t,e){if(e&&(rl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eve(t)}function Eve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!t})()}function bg(t){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bg(t)}function Sve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a1(t,e)}function a1(t,e){return a1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a1(t,e)}function uv(t,e,n){return e=r3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r3(t){var e=Ave(t,"string");return rl(e)=="symbol"?e:e+""}function Ave(t,e){if(rl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ive=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=AE({x:i.scale,y:o.scale}),a=s.apply({x:n,y:r},{bandAware:!0});return ni(e,"discard")&&!s.isInRange(a)?null:a},lv=function(t){function e(){return _ve(this,e),Tve(this,e,arguments)}return Sve(e,t),bve(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,s=r.r,a=r.alwaysShow,u=r.clipPathId,l=Dt(i),c=Dt(o);if(Ii(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var f=Ive(this.props);if(!f)return null;var d=f.x,p=f.y,g=this.props,m=g.shape,b=g.className,y=ni(this.props,"hidden")?"url(#".concat(u,")"):void 0,_=NR(NR({clipPath:y},_e(this.props,!0)),{},{cx:d,cy:p});return N.createElement(_t,{className:Ce("recharts-reference-dot",b)},e.renderDot(m,_),Jt.renderCallByParent(this.props,{x:d-s,y:p-s,width:2*s,height:2*s}))}}])}(N.Component);uv(lv,"displayName","ReferenceDot");uv(lv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uv(lv,"renderDot",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):we(t)?n=t(e):n=N.createElement(EE,s1({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function u1(){return u1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u1.apply(this,arguments)}function il(t){"@babel/helpers - typeof";return il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},il(t)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o3(r.key),r)}}function Cve(t,e,n){return e&&Ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rve(t,e,n){return e=Tg(e),kve(t,i3()?Reflect.construct(e,n||[],Tg(t).constructor):e.apply(t,n))}function kve(t,e){if(e&&(il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dve(t)}function Dve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!t})()}function Tg(t){return Tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tg(t)}function Mve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l1(t,e)}function l1(t,e){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l1(t,e)}function cv(t,e,n){return e=o3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o3(t){var e=Nve(t,"string");return il(e)=="symbol"?e:e+""}function Nve(t,e){if(il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vve=function(e,n,r,i,o){var s=o.x1,a=o.x2,u=o.y1,l=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var d=AE({x:c.scale,y:f.scale}),p={x:e?d.x.apply(s,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(u,{position:"start"}):d.y.rangeMin},g={x:n?d.x.apply(a,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(l,{position:"end"}):d.y.rangeMax};return ni(o,"discard")&&(!d.isInRange(p)||!d.isInRange(g))?null:KL(p,g)},fv=function(t){function e(){return Pve(this,e),Rve(this,e,arguments)}return Mve(e,t),Cve(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,s=r.y1,a=r.y2,u=r.className,l=r.alwaysShow,c=r.clipPathId;Ii(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),d=Dt(o),p=Dt(s),g=Dt(a),m=this.props.shape;if(!f&&!d&&!p&&!g&&!m)return null;var b=Vve(f,d,p,g,this.props);if(!b&&!m)return null;var y=ni(this.props,"hidden")?"url(#".concat(c,")"):void 0;return N.createElement(_t,{className:Ce("recharts-reference-area",u)},e.renderRect(m,$R($R({clipPath:y},_e(this.props,!0)),b)),Jt.renderCallByParent(this.props,b))}}])}(N.Component);cv(fv,"displayName","ReferenceArea");cv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cv(fv,"renderRect",function(t,e){var n;return N.isValidElement(t)?n=N.cloneElement(t,e):we(t)?n=t(e):n=N.createElement(xE,u1({},e,{className:"recharts-reference-area-rect"})),n});function jR(t){return Fve(t)||Lve(t)||jve(t)||$ve()}function $ve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jve(t,e){if(t){if(typeof t=="string")return c1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c1(t,e)}}function Lve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fve(t){if(Array.isArray(t))return c1(t)}function c1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var f1=function(e,n,r,i,o){var s=ei(e,PE),a=ei(e,lv),u=[].concat(jR(s),jR(a)),l=ei(e,fv),c="".concat(i,"Id"),f=i[0],d=n;if(u.length&&(d=u.reduce(function(m,b){if(b.props[c]===r&&ni(b.props,"extendDomain")&&re(b.props[f])){var y=b.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},d)),l.length){var p="".concat(f,"1"),g="".concat(f,"2");d=l.reduce(function(m,b){if(b.props[c]===r&&ni(b.props,"extendDomain")&&re(b.props[p])&&re(b.props[g])){var y=b.props[p],_=b.props[g];return[Math.min(m[0],y,_),Math.max(m[1],y,_)]}return m},d)}return o&&o.length&&(d=o.reduce(function(m,b){return re(b)?[Math.min(m[0],b),Math.max(m[1],b)]:m},d)),d},s3={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,l,c){this.fn=u,this.context=l,this.once=c||!1}function o(u,l,c,f,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||u,d),g=n?n+l:l;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],p]:u._events[g].push(p):(u._events[g]=p,u._eventsCount++),u}function s(u,l){--u._eventsCount===0?u._events=new r:delete u._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],c,f;if(this._eventsCount===0)return l;for(f in c=this._events)e.call(c,f)&&l.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(c)):l},a.prototype.listeners=function(l){var c=n?n+l:l,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},a.prototype.listenerCount=function(l){var c=n?n+l:l,f=this._events[c];return f?f.fn?1:f.length:0},a.prototype.emit=function(l,c,f,d,p,g){var m=n?n+l:l;if(!this._events[m])return!1;var b=this._events[m],y=arguments.length,_,E;if(b.fn){switch(b.once&&this.removeListener(l,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,c),!0;case 3:return b.fn.call(b.context,c,f),!0;case 4:return b.fn.call(b.context,c,f,d),!0;case 5:return b.fn.call(b.context,c,f,d,p),!0;case 6:return b.fn.call(b.context,c,f,d,p,g),!0}for(E=1,_=new Array(y-1);E<y;E++)_[E-1]=arguments[E];b.fn.apply(b.context,_)}else{var P=b.length,x;for(E=0;E<P;E++)switch(b[E].once&&this.removeListener(l,b[E].fn,void 0,!0),y){case 1:b[E].fn.call(b[E].context);break;case 2:b[E].fn.call(b[E].context,c);break;case 3:b[E].fn.call(b[E].context,c,f);break;case 4:b[E].fn.call(b[E].context,c,f,d);break;default:if(!_)for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];b[E].fn.apply(b[E].context,_)}}return!0},a.prototype.on=function(l,c,f){return o(this,l,c,f,!1)},a.prototype.once=function(l,c,f){return o(this,l,c,f,!0)},a.prototype.removeListener=function(l,c,f,d){var p=n?n+l:l;if(!this._events[p])return this;if(!c)return s(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!d||g.once)&&(!f||g.context===f)&&s(this,p);else{for(var m=0,b=[],y=g.length;m<y;m++)(g[m].fn!==c||d&&!g[m].once||f&&g[m].context!==f)&&b.push(g[m]);b.length?this._events[p]=b.length===1?b[0]:b:s(this,p)}return this},a.prototype.removeAllListeners=function(l){var c;return l?(c=n?n+l:l,this._events[c]&&s(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(s3);var Bve=s3.exports;const Uve=Be(Bve);var g_=new Uve,y_="recharts.syncMouseEvents";function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function zve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a3(r.key),r)}}function Hve(t,e,n){return e&&Wve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_(t,e,n){return e=a3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a3(t){var e=qve(t,"string");return Th(e)=="symbol"?e:e+""}function qve(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gve=function(){function t(){zve(this,t),v_(this,"activeIndex",0),v_(this,"coordinateList",[]),v_(this,"layout","horizontal")}return Hve(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,a=s===void 0?null:s,u=n.layout,l=u===void 0?null:u,c=n.offset,f=c===void 0?null:c,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=l??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,u=this.coordinateList[this.activeIndex].coordinate,l=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+u+l,d=s+this.offset.top+a/2+c;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function Kve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&re(r)&&re(i))return!0}return!1}function Yve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function u3(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=Ke(e,n,r,i),a=Ke(e,n,r,o);return{points:[s,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Xve(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,u=e.cy,l=e.innerRadius,c=e.outerRadius,f=e.angle,d=Ke(a,u,l,f),p=Ke(a,u,c,f);r=d.x,i=d.y,o=p.x,s=p.y}else return u3(e);return[{x:r,y:i},{x:o,y:s}]}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function up(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LR(Object(n),!0).forEach(function(r){Qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qve(t,e,n){return e=Jve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Zve(t,"string");return xh(e)=="symbol"?e:e+""}function Zve(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e0e(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,u=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!s||d!=="ScatterChart"&&i!=="axis")return null;var g,m=Bb;if(d==="ScatterChart")g=s,m=lme;else if(d==="BarChart")g=Yve(f,s,u,c),m=xE;else if(f==="radial"){var b=u3(s),y=b.cx,_=b.cy,E=b.radius,P=b.startAngle,x=b.endAngle;g={cx:y,cy:_,startAngle:P,endAngle:x,innerRadius:E,outerRadius:E},m=AL}else g={points:Xve(f,s,u)},m=Bb;var S=up(up(up(up({stroke:"#ccc",pointerEvents:"none"},u),g),_e(p,!1)),{},{payload:a,payloadIndex:l,className:Ce("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,S):j.createElement(m,S)}var t0e=["item"],n0e=["children","className","width","height","style","compact","title","desc"];function ol(t){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ol(t)}function hu(){return hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hu.apply(this,arguments)}function FR(t,e){return o0e(t)||i0e(t,e)||c3(t,e)||r0e()}function r0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,a=[],u=!0,l=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);u=!0);}catch(c){l=!0,i=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}function o0e(t){if(Array.isArray(t))return t}function BR(t,e){if(t==null)return{};var n=s0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function a0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f3(r.key),r)}}function l0e(t,e,n){return e&&u0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function c0e(t,e,n){return e=xg(e),f0e(t,l3()?Reflect.construct(e,n||[],xg(t).constructor):e.apply(t,n))}function f0e(t,e){if(e&&(ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h0e(t)}function h0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l3(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l3=function(){return!!t})()}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h1(t,e)}function h1(t,e){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h1(t,e)}function sl(t){return g0e(t)||m0e(t)||c3(t)||p0e()}function p0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c3(t,e){if(t){if(typeof t=="string")return d1(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d1(t,e)}}function m0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g0e(t){if(Array.isArray(t))return d1(t)}function d1(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ce(t,e,n){return e=f3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f3(t){var e=y0e(t,"string");return ol(e)=="symbol"?e:e+""}function y0e(t,e){if(ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v0e={xAxis:["bottom","top"],yAxis:["left","right"]},_0e={width:"100%",height:"100%"},h3={x:0,y:0};function lp(t){return t}var w0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},b0e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return B(B(B({},i),Ke(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var u=o.coordinate,l=i.angle;return B(B(B({},i),Ke(i.cx,i.cy,u,l)),{},{angle:l,radius:u})}return h3},hv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(a,u){var l=u.props.data;return l&&l.length?[].concat(sl(a),sl(l)):a},[]);return s.length>0?s:e&&e.length&&re(i)&&re(o)?e.slice(i,o+1):[]};function d3(t){return t==="number"?[0,"auto"]:void 0}var p1=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,a=hv(n,e);return r<0||!o||!o.length||r>=a.length?null:o.reduce(function(u,l){var c,f=(c=l.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(s.dataKey&&!s.allowDuplicatedCategory){var p=f===void 0?a:f;d=Gw(p,s.dataKey,i)}else d=f&&f[r]||a[r];return d?[].concat(sl(u),[Wfe(l,d)]):u},[])},zR=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=w0e(o,r),a=e.orderedTooltipTicks,u=e.tooltipAxis,l=e.tooltipTicks,c=Pfe(s,a,l,u);if(c>=0&&l){var f=l[c]&&l[c].value,d=p1(e,n,c,f),p=b0e(r,a,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},T0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,d=e.stackOffset,p=_L(c,o);return r.reduce(function(g,m){var b,y=m.type.defaultProps!==void 0?B(B({},m.type.defaultProps),m.props):m.props,_=y.type,E=y.dataKey,P=y.allowDataOverflow,x=y.allowDuplicatedCategory,S=y.scale,w=y.ticks,T=y.includeHidden,I=y[s];if(g[I])return g;var O=hv(e.data,{graphicalItems:i.filter(function(J){var he,Pe=s in J.props?J.props[s]:(he=J.type.defaultProps)===null||he===void 0?void 0:he[s];return Pe===I}),dataStartIndex:u,dataEndIndex:l}),k=O.length,C,R,U;Kve(y.domain,P,_)&&(C=Nb(y.domain,null,P),p&&(_==="number"||S!=="auto")&&(U=af(O,E,"category")));var W=d3(_);if(!C||C.length===0){var K,q=(K=y.domain)!==null&&K!==void 0?K:W;if(E){if(C=af(O,E,_),_==="category"&&p){var L=yX(C);x&&L?(R=C,C=yg(0,k)):x||(C=AC(q,C,m).reduce(function(J,he){return J.indexOf(he)>=0?J:[].concat(sl(J),[he])},[]))}else if(_==="category")x?C=C.filter(function(J){return J!==""&&!Ae(J)}):C=AC(q,C,m).reduce(function(J,he){return J.indexOf(he)>=0||he===""||Ae(he)?J:[].concat(sl(J),[he])},[]);else if(_==="number"){var H=Dfe(O,i.filter(function(J){var he,Pe,dt=s in J.props?J.props[s]:(he=J.type.defaultProps)===null||he===void 0?void 0:he[s],ot="hide"in J.props?J.props.hide:(Pe=J.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return dt===I&&(T||!ot)}),E,o,c);H&&(C=H)}p&&(_==="number"||S!=="auto")&&(U=af(O,E,"category"))}else p?C=yg(0,k):a&&a[I]&&a[I].hasStack&&_==="number"?C=d==="expand"?[0,1]:wL(a[I].stackGroups,u,l):C=vL(O,i.filter(function(J){var he=s in J.props?J.props[s]:J.type.defaultProps[s],Pe="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return he===I&&(T||!Pe)}),_,c,!0);if(_==="number")C=f1(f,C,I,o,w),q&&(C=Nb(q,C,P));else if(_==="category"&&q){var G=q,ie=C.every(function(J){return G.indexOf(J)>=0});ie&&(C=G)}}return B(B({},g),{},ce({},I,B(B({},y),{},{axisType:o,domain:C,categoricalDomain:U,duplicateDomain:R,originalDomain:(b=y.domain)!==null&&b!==void 0?b:W,isCategorical:p,layout:c})))},{})},x0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,a=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.layout,f=e.children,d=hv(e.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:l}),p=d.length,g=_L(c,o),m=-1;return r.reduce(function(b,y){var _=y.type.defaultProps!==void 0?B(B({},y.type.defaultProps),y.props):y.props,E=_[s],P=d3("number");if(!b[E]){m++;var x;return g?x=yg(0,p):a&&a[E]&&a[E].hasStack?(x=wL(a[E].stackGroups,u,l),x=f1(f,x,E,o)):(x=Nb(P,vL(d,r.filter(function(S){var w,T,I=s in S.props?S.props[s]:(w=S.type.defaultProps)===null||w===void 0?void 0:w[s],O="hide"in S.props?S.props.hide:(T=S.type.defaultProps)===null||T===void 0?void 0:T.hide;return I===E&&!O}),"number",c),i.defaultProps.allowDataOverflow),x=f1(f,x,E,o)),B(B({},b),{},ce({},E,B(B({axisType:o},i.defaultProps),{},{hide:!0,orientation:kr(v0e,"".concat(o,".").concat(m%2),null),domain:x,originalDomain:P,isCategorical:g,layout:c})))}return b},{})},E0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,a=n.stackGroups,u=n.dataStartIndex,l=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),d=ei(c,o),p={};return d&&d.length?p=T0e(e,{axes:d,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:u,dataEndIndex:l}):s&&s.length&&(p=x0e(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:f,stackGroups:a,dataStartIndex:u,dataEndIndex:l})),p},S0e=function(e){var n=Fa(e),r=Lc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Gx(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vb(n,r)}},WR=function(e){var n=e.children,r=e.defaultShowTooltip,i=tr(n,tl),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},A0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ai(n&&n.type);return r&&r.indexOf("Bar")>=0})},HR=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},I0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,u=a===void 0?{}:a,l=r.width,c=r.height,f=r.children,d=r.margin||{},p=tr(f,tl),g=tr(f,_u),m=Object.keys(u).reduce(function(x,S){var w=u[S],T=w.orientation;return!w.mirror&&!w.hide?B(B({},x),{},ce({},T,x[T]+w.width)):x},{left:d.left||0,right:d.right||0}),b=Object.keys(s).reduce(function(x,S){var w=s[S],T=w.orientation;return!w.mirror&&!w.hide?B(B({},x),{},ce({},T,kr(x,"".concat(T))+w.height)):x},{top:d.top||0,bottom:d.bottom||0}),y=B(B({},b),m),_=y.bottom;p&&(y.bottom+=p.props.height||tl.defaultProps.height),g&&n&&(y=Rfe(y,i,r,n));var E=l-y.left-y.right,P=c-y.top-y.bottom;return B(B({brushBottom:_},y),{},{width:Math.max(E,0),height:Math.max(P,0)})},P0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},O0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,u=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,d=function(y,_){var E=_.graphicalItems,P=_.stackGroups,x=_.offset,S=_.updateId,w=_.dataStartIndex,T=_.dataEndIndex,I=y.barSize,O=y.layout,k=y.barGap,C=y.barCategoryGap,R=y.maxBarSize,U=HR(O),W=U.numericAxisName,K=U.cateAxisName,q=A0e(E),L=[];return E.forEach(function(H,G){var ie=hv(y.data,{graphicalItems:[H],dataStartIndex:w,dataEndIndex:T}),J=H.type.defaultProps!==void 0?B(B({},H.type.defaultProps),H.props):H.props,he=J.dataKey,Pe=J.maxBarSize,dt=J["".concat(W,"Id")],ot=J["".concat(K,"Id")],bn={},jt=u.reduce(function(Yn,ci){var Aa=_["".concat(ci.axisType,"Map")],pd=J["".concat(ci.axisType,"Id")];Aa&&Aa[pd]||ci.axisType==="zAxis"||Ku();var Gi=Aa[pd];return B(B({},Yn),{},ce(ce({},ci.axisType,Gi),"".concat(ci.axisType,"Ticks"),Lc(Gi)))},bn),ne=jt[K],ge=jt["".concat(K,"Ticks")],ye=P&&P[dt]&&P[dt].hasStack&&Ufe(H,P[dt].stackGroups),Y=Ai(H.type).indexOf("Bar")>=0,We=Vb(ne,ge),xe=[],wt=q&&Ofe({barSize:I,stackGroups:P,totalSize:P0e(jt,K)});if(Y){var st,Lt,_r=Ae(Pe)?R:Pe,at=(st=(Lt=Vb(ne,ge,!0))!==null&&Lt!==void 0?Lt:_r)!==null&&st!==void 0?st:0;xe=Cfe({barGap:k,barCategoryGap:C,bandSize:at!==We?at:We,sizeList:wt[ot],maxBarSize:_r}),at!==We&&(xe=xe.map(function(Yn){return B(B({},Yn),{},{position:B(B({},Yn.position),{},{offset:Yn.position.offset-at/2})})}))}var xt=H&&H.type&&H.type.getComposedData;xt&&L.push({props:B(B({},xt(B(B({},jt),{},{displayedData:ie,props:y,dataKey:he,item:H,bandSize:We,barPosition:xe,offset:x,stackedData:ye,layout:O,dataStartIndex:w,dataEndIndex:T}))),{},ce(ce(ce({key:H.key||"item-".concat(G)},W,jt[W]),K,jt[K]),"animationId",S)),childIndex:PX(H,y.children),item:H})}),L},p=function(y,_){var E=y.props,P=y.dataStartIndex,x=y.dataEndIndex,S=y.updateId;if(!wO({props:E}))return null;var w=E.children,T=E.layout,I=E.stackOffset,O=E.data,k=E.reverseStackOrder,C=HR(T),R=C.numericAxisName,U=C.cateAxisName,W=ei(w,r),K=Ffe(O,W,"".concat(R,"Id"),"".concat(U,"Id"),I,k),q=u.reduce(function(J,he){var Pe="".concat(he.axisType,"Map");return B(B({},J),{},ce({},Pe,E0e(E,B(B({},he),{},{graphicalItems:W,stackGroups:he.axisType===R&&K,dataStartIndex:P,dataEndIndex:x}))))},{}),L=I0e(B(B({},q),{},{props:E,graphicalItems:W}),_==null?void 0:_.legendBBox);Object.keys(q).forEach(function(J){q[J]=c(E,q[J],L,J.replace("Map",""),n)});var H=q["".concat(U,"Map")],G=S0e(H),ie=d(E,B(B({},q),{},{dataStartIndex:P,dataEndIndex:x,updateId:S,graphicalItems:W,stackGroups:K,offset:L}));return B(B({formattedGraphicalItems:ie,graphicalItems:W,offset:L,stackGroups:K},G),q)},g=function(b){function y(_){var E,P,x;return a0e(this,y),x=c0e(this,y,[_]),ce(x,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ce(x,"accessibilityManager",new Gve),ce(x,"handleLegendBBoxUpdate",function(S){if(S){var w=x.state,T=w.dataStartIndex,I=w.dataEndIndex,O=w.updateId;x.setState(B({legendBBox:S},p({props:x.props,dataStartIndex:T,dataEndIndex:I,updateId:O},B(B({},x.state),{},{legendBBox:S}))))}}),ce(x,"handleReceiveSyncEvent",function(S,w,T){if(x.props.syncId===S){if(T===x.eventEmitterSymbol&&typeof x.props.syncMethod!="function")return;x.applySyncEvent(w)}}),ce(x,"handleBrushChange",function(S){var w=S.startIndex,T=S.endIndex;if(w!==x.state.dataStartIndex||T!==x.state.dataEndIndex){var I=x.state.updateId;x.setState(function(){return B({dataStartIndex:w,dataEndIndex:T},p({props:x.props,dataStartIndex:w,dataEndIndex:T,updateId:I},x.state))}),x.triggerSyncEvent({dataStartIndex:w,dataEndIndex:T})}}),ce(x,"handleMouseEnter",function(S){var w=x.getMouseInfo(S);if(w){var T=B(B({},w),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var I=x.props.onMouseEnter;we(I)&&I(T,S)}}),ce(x,"triggeredAfterMouseMove",function(S){var w=x.getMouseInfo(S),T=w?B(B({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};x.setState(T),x.triggerSyncEvent(T);var I=x.props.onMouseMove;we(I)&&I(T,S)}),ce(x,"handleItemMouseEnter",function(S){x.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ce(x,"handleItemMouseLeave",function(){x.setState(function(){return{isTooltipActive:!1}})}),ce(x,"handleMouseMove",function(S){S.persist(),x.throttleTriggeredAfterMouseMove(S)}),ce(x,"handleMouseLeave",function(S){x.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};x.setState(w),x.triggerSyncEvent(w);var T=x.props.onMouseLeave;we(T)&&T(w,S)}),ce(x,"handleOuterEvent",function(S){var w=IX(S),T=kr(x.props,"".concat(w));if(w&&we(T)){var I,O;/.*touch.*/i.test(w)?O=x.getMouseInfo(S.changedTouches[0]):O=x.getMouseInfo(S),T((I=O)!==null&&I!==void 0?I:{},S)}}),ce(x,"handleClick",function(S){var w=x.getMouseInfo(S);if(w){var T=B(B({},w),{},{isTooltipActive:!0});x.setState(T),x.triggerSyncEvent(T);var I=x.props.onClick;we(I)&&I(T,S)}}),ce(x,"handleMouseDown",function(S){var w=x.props.onMouseDown;if(we(w)){var T=x.getMouseInfo(S);w(T,S)}}),ce(x,"handleMouseUp",function(S){var w=x.props.onMouseUp;if(we(w)){var T=x.getMouseInfo(S);w(T,S)}}),ce(x,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ce(x,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseDown(S.changedTouches[0])}),ce(x,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&x.handleMouseUp(S.changedTouches[0])}),ce(x,"handleDoubleClick",function(S){var w=x.props.onDoubleClick;if(we(w)){var T=x.getMouseInfo(S);w(T,S)}}),ce(x,"handleContextMenu",function(S){var w=x.props.onContextMenu;if(we(w)){var T=x.getMouseInfo(S);w(T,S)}}),ce(x,"triggerSyncEvent",function(S){x.props.syncId!==void 0&&g_.emit(y_,x.props.syncId,S,x.eventEmitterSymbol)}),ce(x,"applySyncEvent",function(S){var w=x.props,T=w.layout,I=w.syncMethod,O=x.state.updateId,k=S.dataStartIndex,C=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)x.setState(B({dataStartIndex:k,dataEndIndex:C},p({props:x.props,dataStartIndex:k,dataEndIndex:C,updateId:O},x.state)));else if(S.activeTooltipIndex!==void 0){var R=S.chartX,U=S.chartY,W=S.activeTooltipIndex,K=x.state,q=K.offset,L=K.tooltipTicks;if(!q)return;if(typeof I=="function")W=I(L,S);else if(I==="value"){W=-1;for(var H=0;H<L.length;H++)if(L[H].value===S.activeLabel){W=H;break}}var G=B(B({},q),{},{x:q.left,y:q.top}),ie=Math.min(R,G.x+G.width),J=Math.min(U,G.y+G.height),he=L[W]&&L[W].value,Pe=p1(x.state,x.props.data,W),dt=L[W]?{x:T==="horizontal"?L[W].coordinate:ie,y:T==="horizontal"?J:L[W].coordinate}:h3;x.setState(B(B({},S),{},{activeLabel:he,activeCoordinate:dt,activePayload:Pe,activeTooltipIndex:W}))}else x.setState(S)}),ce(x,"renderCursor",function(S){var w,T=x.state,I=T.isTooltipActive,O=T.activeCoordinate,k=T.activePayload,C=T.offset,R=T.activeTooltipIndex,U=T.tooltipAxisBandSize,W=x.getTooltipEventType(),K=(w=S.props.active)!==null&&w!==void 0?w:I,q=x.props.layout,L=S.key||"_recharts-cursor";return N.createElement(e0e,{key:L,activeCoordinate:O,activePayload:k,activeTooltipIndex:R,chartName:n,element:S,isActive:K,layout:q,offset:C,tooltipAxisBandSize:U,tooltipEventType:W})}),ce(x,"renderPolarAxis",function(S,w,T){var I=kr(S,"type.axisType"),O=kr(x.state,"".concat(I,"Map")),k=S.type.defaultProps,C=k!==void 0?B(B({},k),S.props):S.props,R=O&&O[C["".concat(I,"Id")]];return j.cloneElement(S,B(B({},R),{},{className:Ce(I,R.className),key:S.key||"".concat(w,"-").concat(T),ticks:Lc(R,!0)}))}),ce(x,"renderPolarGrid",function(S){var w=S.props,T=w.radialLines,I=w.polarAngles,O=w.polarRadius,k=x.state,C=k.radiusAxisMap,R=k.angleAxisMap,U=Fa(C),W=Fa(R),K=W.cx,q=W.cy,L=W.innerRadius,H=W.outerRadius;return j.cloneElement(S,{polarAngles:Array.isArray(I)?I:Lc(W,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(O)?O:Lc(U,!0).map(function(G){return G.coordinate}),cx:K,cy:q,innerRadius:L,outerRadius:H,key:S.key||"polar-grid",radialLines:T})}),ce(x,"renderLegend",function(){var S=x.state.formattedGraphicalItems,w=x.props,T=w.children,I=w.width,O=w.height,k=x.props.margin||{},C=I-(k.left||0)-(k.right||0),R=gL({children:T,formattedGraphicalItems:S,legendWidth:C,legendContent:l});if(!R)return null;var U=R.item,W=BR(R,t0e);return j.cloneElement(U,B(B({},W),{},{chartWidth:I,chartHeight:O,margin:k,onBBoxUpdate:x.handleLegendBBoxUpdate}))}),ce(x,"renderTooltip",function(){var S,w=x.props,T=w.children,I=w.accessibilityLayer,O=tr(T,Wr);if(!O)return null;var k=x.state,C=k.isTooltipActive,R=k.activeCoordinate,U=k.activePayload,W=k.activeLabel,K=k.offset,q=(S=O.props.active)!==null&&S!==void 0?S:C;return j.cloneElement(O,{viewBox:B(B({},K),{},{x:K.left,y:K.top}),active:q,label:W,payload:q?U:[],coordinate:R,accessibilityLayer:I})}),ce(x,"renderBrush",function(S){var w=x.props,T=w.margin,I=w.data,O=x.state,k=O.offset,C=O.dataStartIndex,R=O.dataEndIndex,U=O.updateId;return j.cloneElement(S,{key:S.key||"_recharts-brush",onChange:rp(x.handleBrushChange,S.props.onChange),data:I,x:re(S.props.x)?S.props.x:k.left,y:re(S.props.y)?S.props.y:k.top+k.height+k.brushBottom-(T.bottom||0),width:re(S.props.width)?S.props.width:k.width,startIndex:C,endIndex:R,updateId:"brush-".concat(U)})}),ce(x,"renderReferenceElement",function(S,w,T){if(!S)return null;var I=x,O=I.clipPathId,k=x.state,C=k.xAxisMap,R=k.yAxisMap,U=k.offset,W=S.type.defaultProps||{},K=S.props,q=K.xAxisId,L=q===void 0?W.xAxisId:q,H=K.yAxisId,G=H===void 0?W.yAxisId:H;return j.cloneElement(S,{key:S.key||"".concat(w,"-").concat(T),xAxis:C[L],yAxis:R[G],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:O})}),ce(x,"renderActivePoints",function(S){var w=S.item,T=S.activePoint,I=S.basePoint,O=S.childIndex,k=S.isRange,C=[],R=w.props.key,U=w.item.type.defaultProps!==void 0?B(B({},w.item.type.defaultProps),w.item.props):w.item.props,W=U.activeDot,K=U.dataKey,q=B(B({index:O,dataKey:K,cx:T.x,cy:T.y,r:4,fill:TE(w.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},_e(W,!1)),Rm(W));return C.push(y.renderActiveDot(W,q,"".concat(R,"-activePoint-").concat(O))),I?C.push(y.renderActiveDot(W,B(B({},q),{},{cx:I.x,cy:I.y}),"".concat(R,"-basePoint-").concat(O))):k&&C.push(null),C}),ce(x,"renderGraphicChild",function(S,w,T){var I=x.filterFormatItem(S,w,T);if(!I)return null;var O=x.getTooltipEventType(),k=x.state,C=k.isTooltipActive,R=k.tooltipAxis,U=k.activeTooltipIndex,W=k.activeLabel,K=x.props.children,q=tr(K,Wr),L=I.props,H=L.points,G=L.isRange,ie=L.baseLine,J=I.item.type.defaultProps!==void 0?B(B({},I.item.type.defaultProps),I.item.props):I.item.props,he=J.activeDot,Pe=J.hide,dt=J.activeBar,ot=J.activeShape,bn=!!(!Pe&&C&&q&&(he||dt||ot)),jt={};O!=="axis"&&q&&q.props.trigger==="click"?jt={onClick:rp(x.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(jt={onMouseLeave:rp(x.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:rp(x.handleItemMouseEnter,S.props.onMouseEnter)});var ne=j.cloneElement(S,B(B({},I.props),jt));function ge(ci){return typeof R.dataKey=="function"?R.dataKey(ci.payload):null}if(bn)if(U>=0){var ye,Y;if(R.dataKey&&!R.allowDuplicatedCategory){var We=typeof R.dataKey=="function"?ge:"payload.".concat(R.dataKey.toString());ye=Gw(H,We,W),Y=G&&ie&&Gw(ie,We,W)}else ye=H==null?void 0:H[U],Y=G&&ie&&ie[U];if(ot||dt){var xe=S.props.activeIndex!==void 0?S.props.activeIndex:U;return[j.cloneElement(S,B(B(B({},I.props),jt),{},{activeIndex:xe})),null,null]}if(!Ae(ye))return[ne].concat(sl(x.renderActivePoints({item:I,activePoint:ye,basePoint:Y,childIndex:U,isRange:G})))}else{var wt,st=(wt=x.getItemByXY(x.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:ne},Lt=st.graphicalItem,_r=Lt.item,at=_r===void 0?S:_r,xt=Lt.childIndex,Yn=B(B(B({},I.props),jt),{},{activeIndex:xt});return[j.cloneElement(at,Yn),null,null]}return G?[ne,null,null]:[ne,null]}),ce(x,"renderCustomized",function(S,w,T){return j.cloneElement(S,B(B({key:"recharts-customized-".concat(T)},x.props),x.state))}),ce(x,"renderMap",{CartesianGrid:{handler:lp,once:!0},ReferenceArea:{handler:x.renderReferenceElement},ReferenceLine:{handler:lp},ReferenceDot:{handler:x.renderReferenceElement},XAxis:{handler:lp},YAxis:{handler:lp},Brush:{handler:x.renderBrush,once:!0},Bar:{handler:x.renderGraphicChild},Line:{handler:x.renderGraphicChild},Area:{handler:x.renderGraphicChild},Radar:{handler:x.renderGraphicChild},RadialBar:{handler:x.renderGraphicChild},Scatter:{handler:x.renderGraphicChild},Pie:{handler:x.renderGraphicChild},Funnel:{handler:x.renderGraphicChild},Tooltip:{handler:x.renderCursor,once:!0},PolarGrid:{handler:x.renderPolarGrid,once:!0},PolarAngleAxis:{handler:x.renderPolarAxis},PolarRadiusAxis:{handler:x.renderPolarAxis},Customized:{handler:x.renderCustomized}}),x.clipPathId="".concat((E=_.id)!==null&&E!==void 0?E:Ny("recharts"),"-clip"),x.throttleTriggeredAfterMouseMove=gj(x.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),x.state={},x}return d0e(y,b),l0e(y,[{key:"componentDidMount",value:function(){var E,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var E=this.props,P=E.children,x=E.data,S=E.height,w=E.layout,T=tr(P,Wr);if(T){var I=T.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,k=p1(this.state,x,I,O),C=this.state.tooltipTicks[I].coordinate,R=(this.state.offset.top+S)/2,U=w==="horizontal",W=U?{x:C,y:R}:{y:C,x:R},K=this.state.formattedGraphicalItems.find(function(L){var H=L.item;return H.type.name==="Scatter"});K&&(W=B(B({},W),K.props.points[I].tooltipPosition),k=K.props.points[I].tooltipPayload);var q={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:W};this.setState(q),this.renderCursor(T),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(E,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==E.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==E.margin){var x,S;this.accessibilityManager.setDetails({offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(E){Xw([tr(E.children,Wr)],[tr(this.props.children,Wr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var E=tr(this.props.children,Wr);if(E&&typeof E.props.shared=="boolean"){var P=E.props.shared?"axis":"item";return a.indexOf(P)>=0?P:o}return o}},{key:"getMouseInfo",value:function(E){if(!this.container)return null;var P=this.container,x=P.getBoundingClientRect(),S=nae(x),w={chartX:Math.round(E.pageX-S.left),chartY:Math.round(E.pageY-S.top)},T=x.width/P.offsetWidth||1,I=this.inRange(w.chartX,w.chartY,T);if(!I)return null;var O=this.state,k=O.xAxisMap,C=O.yAxisMap,R=this.getTooltipEventType(),U=zR(this.state,this.props.data,this.props.layout,I);if(R!=="axis"&&k&&C){var W=Fa(k).scale,K=Fa(C).scale,q=W&&W.invert?W.invert(w.chartX):null,L=K&&K.invert?K.invert(w.chartY):null;return B(B({},w),{},{xValue:q,yValue:L},U)}return U?B(B({},w),U):null}},{key:"inRange",value:function(E,P){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,w=E/x,T=P/x;if(S==="horizontal"||S==="vertical"){var I=this.state.offset,O=w>=I.left&&w<=I.left+I.width&&T>=I.top&&T<=I.top+I.height;return O?{x:w,y:T}:null}var k=this.state,C=k.angleAxisMap,R=k.radiusAxisMap;if(C&&R){var U=Fa(C);return OC({x:w,y:T},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var E=this.props.children,P=this.getTooltipEventType(),x=tr(E,Wr),S={};x&&P==="axis"&&(x.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=Rm(this.props,this.handleOuterEvent);return B(B({},w),S)}},{key:"addListener",value:function(){g_.on(y_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){g_.removeListener(y_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(E,P,x){for(var S=this.state.formattedGraphicalItems,w=0,T=S.length;w<T;w++){var I=S[w];if(I.item===E||I.props.key===E.key||P===Ai(I.item.type)&&x===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var E=this.clipPathId,P=this.state.offset,x=P.left,S=P.top,w=P.height,T=P.width;return N.createElement("defs",null,N.createElement("clipPath",{id:E},N.createElement("rect",{x,y:S,height:w,width:T})))}},{key:"getXScales",value:function(){var E=this.state.xAxisMap;return E?Object.entries(E).reduce(function(P,x){var S=FR(x,2),w=S[0],T=S[1];return B(B({},P),{},ce({},w,T.scale))},{}):null}},{key:"getYScales",value:function(){var E=this.state.yAxisMap;return E?Object.entries(E).reduce(function(P,x){var S=FR(x,2),w=S[0],T=S[1];return B(B({},P),{},ce({},w,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(E){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(E){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[E])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(E){var P=this.state,x=P.formattedGraphicalItems,S=P.activeItem;if(x&&x.length)for(var w=0,T=x.length;w<T;w++){var I=x[w],O=I.props,k=I.item,C=k.type.defaultProps!==void 0?B(B({},k.type.defaultProps),k.props):k.props,R=Ai(k.type);if(R==="Bar"){var U=(O.data||[]).find(function(L){return zpe(E,L)});if(U)return{graphicalItem:I,payload:U}}else if(R==="RadialBar"){var W=(O.data||[]).find(function(L){return OC(E,L)});if(W)return{graphicalItem:I,payload:W}}else if(sv(I,S)||av(I,S)||_h(I,S)){var K=kge({graphicalItem:I,activeTooltipItem:S,itemData:C.data}),q=C.activeIndex===void 0?K:C.activeIndex;return{graphicalItem:B(B({},I),{},{childIndex:q}),payload:_h(I,S)?C.data[K]:I.props.data[K]}}}return null}},{key:"render",value:function(){var E=this;if(!wO(this))return null;var P=this.props,x=P.children,S=P.className,w=P.width,T=P.height,I=P.style,O=P.compact,k=P.title,C=P.desc,R=BR(P,n0e),U=_e(R,!1);if(O)return N.createElement(CR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement(Jw,hu({},U,{width:w,height:T,title:k,desc:C}),this.renderClipPath(),TO(x,this.renderMap)));if(this.props.accessibilityLayer){var W,K;U.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,U.role=(K=this.props.role)!==null&&K!==void 0?K:"application",U.onKeyDown=function(L){E.accessibilityManager.keyboardEvent(L)},U.onFocus=function(){E.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return N.createElement(CR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},N.createElement("div",hu({className:Ce("recharts-wrapper",S),style:B({position:"relative",cursor:"default",width:w,height:T},I)},q,{ref:function(H){E.container=H}}),N.createElement(Jw,hu({},U,{width:w,height:T,title:k,desc:C,style:_0e}),this.renderClipPath(),TO(x,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);ce(g,"displayName",n),ce(g,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ce(g,"getDerivedStateFromProps",function(b,y){var _=b.dataKey,E=b.data,P=b.children,x=b.width,S=b.height,w=b.layout,T=b.stackOffset,I=b.margin,O=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var C=WR(b);return B(B(B({},C),{},{updateId:0},p(B(B({props:b},C),{},{updateId:0}),y)),{},{prevDataKey:_,prevData:E,prevWidth:x,prevHeight:S,prevLayout:w,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(_!==y.prevDataKey||E!==y.prevData||x!==y.prevWidth||S!==y.prevHeight||w!==y.prevLayout||T!==y.prevStackOffset||!Kw(I,y.prevMargin)){var R=WR(b),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},W=B(B({},zR(y,E,w)),{},{updateId:y.updateId+1}),K=B(B(B({},R),U),W);return B(B(B({},K),p(B({props:b},K),y)),{},{prevDataKey:_,prevData:E,prevWidth:x,prevHeight:S,prevLayout:w,prevStackOffset:T,prevMargin:I,prevChildren:P})}if(!Xw(P,y.prevChildren)){var q,L,H,G,ie=tr(P,tl),J=ie&&(q=(L=ie.props)===null||L===void 0?void 0:L.startIndex)!==null&&q!==void 0?q:O,he=ie&&(H=(G=ie.props)===null||G===void 0?void 0:G.endIndex)!==null&&H!==void 0?H:k,Pe=J!==O||he!==k,dt=!Ae(E),ot=dt&&!Pe?y.updateId:y.updateId+1;return B(B({updateId:ot},p(B(B({props:b},y),{},{updateId:ot,dataStartIndex:J,dataEndIndex:he}),y)),{},{prevChildren:P,dataStartIndex:J,dataEndIndex:he})}return null}),ce(g,"renderActiveDot",function(b,y,_){var E;return j.isValidElement(b)?E=j.cloneElement(b,y):we(b)?E=b(y):E=N.createElement(EE,y),N.createElement(_t,{className:"recharts-active-dot",key:_},E)});var m=j.forwardRef(function(y,_){return N.createElement(g,hu({},y,{ref:_}))});return m.displayName=g.displayName,m},C0e=O0e({chartName:"PieChart",GraphicalChild:Hi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ov},{axisType:"radiusAxis",AxisComp:rv}],formatAxisMap:Zfe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const __={Food:"#F97316",Transport:"#3B82F6","Data/Airtime":"#0EA5E9",Entertainment:"#A855F7","Savings/Invest":"#10B981",Other:"#9CA3AF"},R0e=({transactions:t,balance:e})=>{const n=j.useMemo(()=>{const r=t.filter(d=>d.type==="expense"),i=r.reduce((d,p)=>d+p.amount,0),o=r.reduce((d,p)=>(d[p.category]=(d[p.category]||0)+p.amount,d),{}),s=Object.entries(o).map(([d,p])=>({name:d,value:p})).filter(d=>d.value>0),a=[],u=o.Food||0,l=o.Transport||0,c=o.Entertainment||0;i>0&&(u/i>.4&&a.push("Spending high on Food. Try cooking or cheaper spots?"),l/i>.3&&a.push("Transport costs are adding up. Can you walk short distances?"),c/i>.15&&a.push("Cut back on Entertainment to boost savings.")),e<100?a.push("Balance is low! Keep 200  for emergencies."):e>500&&a.push("Great balance! Consider investing 50 .");let f=null;return e<150&&(f="Request 400  from parents next week."),{totalSpent:i,chartData:s,advice:a,requestSuggestion:f}},[t,e]);return n.totalSpent===0&&!n.requestSuggestion?null:M.jsxs("div",{className:"space-y-6",children:[n.totalSpent>0&&M.jsxs("div",{className:"glass-card p-6",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Spending Analysis"}),M.jsxs("div",{className:"h-48 w-full relative",children:[M.jsx(Yse,{width:"100%",height:"100%",children:M.jsxs(C0e,{children:[M.jsx(Hi,{data:n.chartData,cx:"50%",cy:"50%",innerRadius:50,outerRadius:70,paddingAngle:5,dataKey:"value",children:n.chartData.map((r,i)=>M.jsx(Yx,{fill:__[r.name]||__.Other},`cell-${i}`))}),M.jsx(Wr,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:r=>`${r}`})]})}),M.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:M.jsxs("div",{className:"text-center",children:[M.jsx("span",{className:"text-xs text-gray-400",children:"Total"}),M.jsxs("p",{className:"font-bold text-gray-700",children:["",n.totalSpent.toFixed(0)]})]})})]}),M.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2 text-xs",children:n.chartData.map(r=>M.jsxs("div",{className:"flex items-center gap-2",children:[M.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:__[r.name]}}),M.jsx("span",{className:"text-gray-600 truncate",children:r.name}),M.jsxs("span",{className:"font-medium text-gray-800",children:["",r.value]})]},r.name))})]}),M.jsxs("div",{className:"glass-card p-6 border-l-4 border-emerald-500",children:[M.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"Smart Insights"}),M.jsx("div",{className:"space-y-2",children:n.advice.length>0?n.advice.map((r,i)=>M.jsxs("p",{className:"text-sm text-gray-600 flex items-start gap-2",children:[M.jsx("span",{className:"text-emerald-500 mt-1",children:""})," ",r]},i)):M.jsx("p",{className:"text-sm text-gray-500",children:"Good job! Spending looks balanced."})}),n.requestSuggestion&&M.jsxs(Un.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-blue-50 rounded-xl border border-blue-100",children:[M.jsx("p",{className:"text-sm text-blue-800 font-medium",children:" Suggestion"}),M.jsx("p",{className:"text-sm text-blue-600 mt-1",children:n.requestSuggestion})]})]})]})};function k0e(t){return tn({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const D0e=({onLogin:t})=>M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-500 to-teal-600 p-6",children:M.jsxs(Un.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-sm bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-6 shadow-2xl text-center",children:[M.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-4 border border-white/30 shadow-lg",children:M.jsx("span",{className:"text-3xl",children:""})}),M.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Cedi Tracker"}),M.jsx("p",{className:"text-emerald-100 mb-6 text-sm font-medium",children:"Your money. Your growth."}),M.jsxs("button",{onClick:t,className:"w-full bg-white text-gray-800 font-semibold py-2.5 px-4 rounded-lg shadow-md hover:bg-gray-50 hover:scale-[1.02] transition-all flex items-center justify-center gap-2 text-sm",children:[M.jsx(k0e,{className:"text-lg"}),M.jsx("span",{children:"Continue with Google"})]}),M.jsx("p",{className:"mt-6 text-xs text-emerald-200/60",children:"Secure authentication powered by Firebase"})]})}),M0e=({income:t,onClose:e})=>{if(!t)return null;const n=t.amount*.5,r=t.amount*.3,i=t.amount*.2;return M.jsx(mV,{children:M.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[M.jsx(Un.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/40 backdrop-blur-sm"}),M.jsxs(Un.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative bg-white rounded-2xl shadow-2xl p-6 w-full max-w-sm overflow-hidden",children:[M.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-r from-emerald-500 to-teal-600"}),M.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-white/20 hover:bg-white/30 rounded-full text-white transition-colors z-10",children:M.jsx(Y$,{size:14})}),M.jsxs("div",{className:"relative z-10 mt-4",children:[M.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-lg mx-auto mb-4 border-4 border-emerald-100",children:M.jsx(G$,{className:"text-3xl text-emerald-600"})}),M.jsxs("div",{className:"text-center mb-6",children:[M.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Smart Income Split"}),M.jsx("p",{className:"text-sm text-gray-500",children:"Based on the 50/30/20 Rule"}),M.jsxs("p",{className:"text-2xl font-bold text-emerald-600 mt-2",children:[" ",t.amount.toFixed(2)]})]}),M.jsxs("div",{className:"space-y-3",children:[M.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-xl border border-blue-100",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-blue-800 text-sm",children:"Needs (50%)"}),M.jsx("p",{className:"text-xs text-blue-600",children:"Rent, Food, Bills"})]}),M.jsxs("span",{className:"font-bold text-blue-700",children:[" ",n.toFixed(2)]})]}),M.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-xl border border-purple-100",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-purple-800 text-sm",children:"Wants (30%)"}),M.jsx("p",{className:"text-xs text-purple-600",children:"Shopping, Fun"})]}),M.jsxs("span",{className:"font-bold text-purple-700",children:[" ",r.toFixed(2)]})]}),M.jsxs("div",{className:"flex justify-between items-center p-3 bg-emerald-50 rounded-xl border border-emerald-100",children:[M.jsxs("div",{children:[M.jsx("p",{className:"font-bold text-emerald-800 text-sm",children:"Savings (20%)"}),M.jsx("p",{className:"text-xs text-emerald-600",children:"Investments, Debt"})]}),M.jsxs("span",{className:"font-bold text-emerald-700",children:[" ",i.toFixed(2)]})]})]}),M.jsx("button",{onClick:e,className:"w-full mt-6 py-3 bg-gray-900 text-white rounded-xl font-semibold text-sm hover:bg-gray-800 transition-colors shadow-lg",children:"Got it, thanks!"})]})]})]})})},N0e=()=>{};var qR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},V0e=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},m3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let d=(a&15)<<2|l>>6,p=l&63;u||(p=64,s||(d=64)),r.push(n[c],n[f],n[d],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):V0e(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||f==null)throw new $0e;const d=o<<2|a>>4;if(r.push(d),l!==64){const p=a<<4&240|l>>2;if(r.push(p),f!==64){const g=l<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $0e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const j0e=function(t){const e=p3(t);return m3.encodeByteArray(e,!0)},Eg=function(t){return j0e(t).replace(/\./g,"")},g3=function(t){try{return m3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0e=()=>y3().__FIREBASE_DEFAULTS__,F0e=()=>{if(typeof process>"u"||typeof qR>"u")return;const t=qR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B0e=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&g3(t[1]);return e&&JSON.parse(e)},dv=()=>{try{return N0e()||L0e()||F0e()||B0e()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},v3=t=>{var e,n;return(n=(e=dv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},U0e=t=>{const e=v3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_3=()=>{var t;return(t=dv())==null?void 0:t.config},w3=t=>{var e;return(e=dv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b3(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0e(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Eg(JSON.stringify(n)),Eg(JSON.stringify(s)),""].join(".")}const ff={};function H0e(){const t={prod:[],emulator:[]};for(const e of Object.keys(ff))ff[e]?t.emulator.push(e):t.prod.push(e);return t}function q0e(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let GR=!1;function T3(t,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||ff[t]===e||ff[t]||GR)return;ff[t]=e;function n(d){return`__firebase__banner__${d}`}const r="__firebase__banner",o=H0e().prod.length>0;function s(){const d=document.getElementById(r);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function u(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function l(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{GR=!0,s()},d}function c(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=q0e(r),p=n("text"),g=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),b=document.getElementById(m)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const E=d.element;a(E),c(b,m);const P=l();u(_,y),E.append(_,g,b,P),document.body.appendChild(E)}o?(g.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G0e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function x3(){var e;const t=(e=dv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K0e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E3(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Y0e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X0e(){const t=Nt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S3(){return!x3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A3(){return!x3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function OE(){try{return typeof indexedDB=="object"}catch{return!1}}function I3(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function Q0e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0e="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J0e,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ba.prototype.create)}}class ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Z0e(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lr(i,a,r)}}function Z0e(t,e){return t.replace(e_e,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const e_e=/\{\$([^}]+)}/g;function t_e(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(KR(o)&&KR(s)){if(!Fo(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function n_e(t,e){const n=new r_e(t,e);return n.subscribe.bind(n)}class r_e{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");i_e(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=w_),i.error===void 0&&(i.error=w_),i.complete===void 0&&(i.complete=w_);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i_e(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function w_(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_e=1e3,s_e=2,a_e=4*60*60*1e3,u_e=.5;function YR(t,e=o_e,n=s_e){const r=e*Math.pow(n,t),i=Math.round(u_e*r*(Math.random()-.5)*2);return Math.min(a_e,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class Vr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_e{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new z0e;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(f_e(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c_e(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c_e(t){return t===ws?void 0:t}function f_e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l_e(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const d_e={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},p_e=Ee.INFO,m_e={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},g_e=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=m_e[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pv{constructor(e){this.name=e,this._logLevel=p_e,this._logHandler=g_e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d_e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const y_e=(t,e)=>e.some(n=>t instanceof n);let XR,QR;function v_e(){return XR||(XR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function __e(){return QR||(QR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P3=new WeakMap,m1=new WeakMap,O3=new WeakMap,b_=new WeakMap,CE=new WeakMap;function w_e(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Oo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&P3.set(n,t)}).catch(()=>{}),CE.set(e,t),e}function b_e(t){if(m1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});m1.set(t,e)}let g1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return m1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||O3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T_e(t){g1=t(g1)}function x_e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(T_(this),e,...n);return O3.set(r,e.sort?e.sort():[e]),Oo(r)}:__e().includes(t)?function(...e){return t.apply(T_(this),e),Oo(P3.get(this))}:function(...e){return Oo(t.apply(T_(this),e))}}function E_e(t){return typeof t=="function"?x_e(t):(t instanceof IDBTransaction&&b_e(t),y_e(t,v_e())?new Proxy(t,g1):t)}function Oo(t){if(t instanceof IDBRequest)return w_e(t);if(b_.has(t))return b_.get(t);const e=E_e(t);return e!==t&&(b_.set(t,e),CE.set(e,t)),e}const T_=t=>CE.get(t);function C3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Oo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Oo(s.result),u.oldVersion,u.newVersion,Oo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const S_e=["get","getKey","getAll","getAllKeys","count"],A_e=["put","add","delete","clear"],x_=new Map;function JR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(x_.get(e))return x_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A_e.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S_e.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return x_.set(e,o),o}T_e(t=>({...t,get:(e,n,r)=>JR(e,n)||t.get(e,n,r),has:(e,n)=>!!JR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P_e(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P_e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const y1="@firebase/app",ZR="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new pv("@firebase/app"),O_e="@firebase/app-compat",C_e="@firebase/analytics-compat",R_e="@firebase/analytics",k_e="@firebase/app-check-compat",D_e="@firebase/app-check",M_e="@firebase/auth",N_e="@firebase/auth-compat",V_e="@firebase/database",$_e="@firebase/data-connect",j_e="@firebase/database-compat",L_e="@firebase/functions",F_e="@firebase/functions-compat",B_e="@firebase/installations",U_e="@firebase/installations-compat",z_e="@firebase/messaging",W_e="@firebase/messaging-compat",H_e="@firebase/performance",q_e="@firebase/performance-compat",G_e="@firebase/remote-config",K_e="@firebase/remote-config-compat",Y_e="@firebase/storage",X_e="@firebase/storage-compat",Q_e="@firebase/firestore",J_e="@firebase/ai",Z_e="@firebase/firestore-compat",ewe="firebase",twe="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="[DEFAULT]",nwe={[y1]:"fire-core",[O_e]:"fire-core-compat",[R_e]:"fire-analytics",[C_e]:"fire-analytics-compat",[D_e]:"fire-app-check",[k_e]:"fire-app-check-compat",[M_e]:"fire-auth",[N_e]:"fire-auth-compat",[V_e]:"fire-rtdb",[$_e]:"fire-data-connect",[j_e]:"fire-rtdb-compat",[L_e]:"fire-fn",[F_e]:"fire-fn-compat",[B_e]:"fire-iid",[U_e]:"fire-iid-compat",[z_e]:"fire-fcm",[W_e]:"fire-fcm-compat",[H_e]:"fire-perf",[q_e]:"fire-perf-compat",[G_e]:"fire-rc",[K_e]:"fire-rc-compat",[Y_e]:"fire-gcs",[X_e]:"fire-gcs-compat",[Q_e]:"fire-fst",[Z_e]:"fire-fst-compat",[J_e]:"fire-vertex","fire-js":"fire-js",[ewe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sg=new Map,rwe=new Map,_1=new Map;function ek(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function si(t){const e=t.name;if(_1.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;_1.set(e,t);for(const n of Sg.values())ek(n,t);for(const n of rwe.values())ek(n,t);return!0}function Ta(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iwe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Co=new ba("app","Firebase",iwe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class owe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Co.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=twe;function R3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:v1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Co.create("bad-app-name",{appName:String(i)});if(n||(n=_3()),!n)throw Co.create("no-options");const o=Sg.get(i);if(o){if(Fo(n,o.options)&&Fo(r,o.config))return o;throw Co.create("duplicate-app",{appName:i})}const s=new h_e(i);for(const u of _1.values())s.addComponent(u);const a=new owe(n,r,s);return Sg.set(i,a),a}function RE(t=v1){const e=Sg.get(t);if(!e&&t===v1&&_3())return R3();if(!e)throw Co.create("no-app",{appName:t});return e}function hr(t,e,n){let r=nwe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(s.join(" "));return}si(new Vr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const swe="firebase-heartbeat-database",awe=1,Eh="firebase-heartbeat-store";let E_=null;function k3(){return E_||(E_=C3(swe,awe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Co.create("idb-open",{originalErrorMessage:t.message})})),E_}async function uwe(t){try{const n=(await k3()).transaction(Eh),r=await n.objectStore(Eh).get(D3(t));return await n.done,r}catch(e){if(e instanceof Lr)$i.warn(e.message);else{const n=Co.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function tk(t,e){try{const r=(await k3()).transaction(Eh,"readwrite");await r.objectStore(Eh).put(e,D3(t)),await r.done}catch(n){if(n instanceof Lr)$i.warn(n.message);else{const r=Co.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function D3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lwe=1024,cwe=30;class fwe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dwe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nk();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>cwe){const s=pwe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nk(),{heartbeatsToSend:r,unsentEntries:i}=hwe(this._heartbeatsCache.heartbeats),o=Eg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $i.warn(n),""}}}function nk(){return new Date().toISOString().substring(0,10)}function hwe(t,e=lwe){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rk(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dwe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OE()?I3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uwe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return tk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function rk(t){return Eg(JSON.stringify({version:2,heartbeats:t})).length}function pwe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mwe(t){si(new Vr("platform-logger",e=>new I_e(e),"PRIVATE")),si(new Vr("heartbeat",e=>new fwe(e),"PRIVATE")),hr(y1,ZR,t),hr(y1,ZR,"esm2020"),hr("fire-js","")}mwe("");var gwe="firebase",ywe="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hr(gwe,ywe,"app");var ik=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ro,M3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,T){function I(){}I.prototype=T.prototype,w.F=T.prototype,w.prototype=new I,w.prototype.constructor=w,w.D=function(O,k,C){for(var R=Array(arguments.length-2),U=2;U<arguments.length;U++)R[U-2]=arguments[U];return T.prototype[k].apply(O,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,T,I){I||(I=0);const O=Array(16);if(typeof T=="string")for(var k=0;k<16;++k)O[k]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(k=0;k<16;++k)O[k]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=w.g[0],I=w.g[1],k=w.g[2];let C=w.g[3],R;R=T+(C^I&(k^C))+O[0]+3614090360&4294967295,T=I+(R<<7&4294967295|R>>>25),R=C+(k^T&(I^k))+O[1]+3905402710&4294967295,C=T+(R<<12&4294967295|R>>>20),R=k+(I^C&(T^I))+O[2]+606105819&4294967295,k=C+(R<<17&4294967295|R>>>15),R=I+(T^k&(C^T))+O[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(C^I&(k^C))+O[4]+4118548399&4294967295,T=I+(R<<7&4294967295|R>>>25),R=C+(k^T&(I^k))+O[5]+1200080426&4294967295,C=T+(R<<12&4294967295|R>>>20),R=k+(I^C&(T^I))+O[6]+2821735955&4294967295,k=C+(R<<17&4294967295|R>>>15),R=I+(T^k&(C^T))+O[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(C^I&(k^C))+O[8]+1770035416&4294967295,T=I+(R<<7&4294967295|R>>>25),R=C+(k^T&(I^k))+O[9]+2336552879&4294967295,C=T+(R<<12&4294967295|R>>>20),R=k+(I^C&(T^I))+O[10]+4294925233&4294967295,k=C+(R<<17&4294967295|R>>>15),R=I+(T^k&(C^T))+O[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(C^I&(k^C))+O[12]+1804603682&4294967295,T=I+(R<<7&4294967295|R>>>25),R=C+(k^T&(I^k))+O[13]+4254626195&4294967295,C=T+(R<<12&4294967295|R>>>20),R=k+(I^C&(T^I))+O[14]+2792965006&4294967295,k=C+(R<<17&4294967295|R>>>15),R=I+(T^k&(C^T))+O[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=T+(k^C&(I^k))+O[1]+4129170786&4294967295,T=I+(R<<5&4294967295|R>>>27),R=C+(I^k&(T^I))+O[6]+3225465664&4294967295,C=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(C^T))+O[11]+643717713&4294967295,k=C+(R<<14&4294967295|R>>>18),R=I+(C^T&(k^C))+O[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^C&(I^k))+O[5]+3593408605&4294967295,T=I+(R<<5&4294967295|R>>>27),R=C+(I^k&(T^I))+O[10]+38016083&4294967295,C=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(C^T))+O[15]+3634488961&4294967295,k=C+(R<<14&4294967295|R>>>18),R=I+(C^T&(k^C))+O[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^C&(I^k))+O[9]+568446438&4294967295,T=I+(R<<5&4294967295|R>>>27),R=C+(I^k&(T^I))+O[14]+3275163606&4294967295,C=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(C^T))+O[3]+4107603335&4294967295,k=C+(R<<14&4294967295|R>>>18),R=I+(C^T&(k^C))+O[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(k^C&(I^k))+O[13]+2850285829&4294967295,T=I+(R<<5&4294967295|R>>>27),R=C+(I^k&(T^I))+O[2]+4243563512&4294967295,C=T+(R<<9&4294967295|R>>>23),R=k+(T^I&(C^T))+O[7]+1735328473&4294967295,k=C+(R<<14&4294967295|R>>>18),R=I+(C^T&(k^C))+O[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=T+(I^k^C)+O[5]+4294588738&4294967295,T=I+(R<<4&4294967295|R>>>28),R=C+(T^I^k)+O[8]+2272392833&4294967295,C=T+(R<<11&4294967295|R>>>21),R=k+(C^T^I)+O[11]+1839030562&4294967295,k=C+(R<<16&4294967295|R>>>16),R=I+(k^C^T)+O[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^C)+O[1]+2763975236&4294967295,T=I+(R<<4&4294967295|R>>>28),R=C+(T^I^k)+O[4]+1272893353&4294967295,C=T+(R<<11&4294967295|R>>>21),R=k+(C^T^I)+O[7]+4139469664&4294967295,k=C+(R<<16&4294967295|R>>>16),R=I+(k^C^T)+O[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^C)+O[13]+681279174&4294967295,T=I+(R<<4&4294967295|R>>>28),R=C+(T^I^k)+O[0]+3936430074&4294967295,C=T+(R<<11&4294967295|R>>>21),R=k+(C^T^I)+O[3]+3572445317&4294967295,k=C+(R<<16&4294967295|R>>>16),R=I+(k^C^T)+O[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(I^k^C)+O[9]+3654602809&4294967295,T=I+(R<<4&4294967295|R>>>28),R=C+(T^I^k)+O[12]+3873151461&4294967295,C=T+(R<<11&4294967295|R>>>21),R=k+(C^T^I)+O[15]+530742520&4294967295,k=C+(R<<16&4294967295|R>>>16),R=I+(k^C^T)+O[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=T+(k^(I|~C))+O[0]+4096336452&4294967295,T=I+(R<<6&4294967295|R>>>26),R=C+(I^(T|~k))+O[7]+1126891415&4294967295,C=T+(R<<10&4294967295|R>>>22),R=k+(T^(C|~I))+O[14]+2878612391&4294967295,k=C+(R<<15&4294967295|R>>>17),R=I+(C^(k|~T))+O[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~C))+O[12]+1700485571&4294967295,T=I+(R<<6&4294967295|R>>>26),R=C+(I^(T|~k))+O[3]+2399980690&4294967295,C=T+(R<<10&4294967295|R>>>22),R=k+(T^(C|~I))+O[10]+4293915773&4294967295,k=C+(R<<15&4294967295|R>>>17),R=I+(C^(k|~T))+O[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~C))+O[8]+1873313359&4294967295,T=I+(R<<6&4294967295|R>>>26),R=C+(I^(T|~k))+O[15]+4264355552&4294967295,C=T+(R<<10&4294967295|R>>>22),R=k+(T^(C|~I))+O[6]+2734768916&4294967295,k=C+(R<<15&4294967295|R>>>17),R=I+(C^(k|~T))+O[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=T+(k^(I|~C))+O[4]+4149444226&4294967295,T=I+(R<<6&4294967295|R>>>26),R=C+(I^(T|~k))+O[11]+3174756917&4294967295,C=T+(R<<10&4294967295|R>>>22),R=k+(T^(C|~I))+O[2]+718787259&4294967295,k=C+(R<<15&4294967295|R>>>17),R=I+(C^(k|~T))+O[9]+3951481745&4294967295,w.g[0]=w.g[0]+T&4294967295,w.g[1]=w.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,w.g[2]=w.g[2]+k&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.v=function(w,T){T===void 0&&(T=w.length);const I=T-this.blockSize,O=this.C;let k=this.h,C=0;for(;C<T;){if(k==0)for(;C<=I;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<T;)if(O[k++]=w.charCodeAt(C++),k==this.blockSize){i(this,O),k=0;break}}else for(;C<T;)if(O[k++]=w[C++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=T},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var T=1;T<w.length-8;++T)w[T]=0;T=this.o*8;for(var I=w.length-8;I<w.length;++I)w[I]=T&255,T/=256;for(this.v(w),w=Array(16),T=0,I=0;I<4;++I)for(let O=0;O<32;O+=8)w[T++]=this.g[I]>>>O&255;return w};function o(w,T){var I=a;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=T(w)}function s(w,T){this.h=T;const I=[];let O=!0;for(let k=w.length-1;k>=0;k--){const C=w[k]|0;O&&C==T||(I[k]=C,O=!1)}this.g=I}var a={};function u(w){return-128<=w&&w<128?o(w,function(T){return new s([T|0],T<0?-1:0)}):new s([w|0],w<0?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return f;if(w<0)return b(l(-w));const T=[];let I=1;for(let O=0;w>=I;O++)T[O]=w/I|0,I*=4294967296;return new s(T,0)}function c(w,T){if(w.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(w.charAt(0)=="-")return b(c(w.substring(1),T));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=l(Math.pow(T,8));let O=f;for(let C=0;C<w.length;C+=8){var k=Math.min(8,w.length-C);const R=parseInt(w.substring(C,C+k),T);k<8?(k=l(Math.pow(T,k)),O=O.j(k).add(l(R))):(O=O.j(I),O=O.add(l(R)))}return O}var f=u(0),d=u(1),p=u(16777216);t=s.prototype,t.m=function(){if(m(this))return-b(this).m();let w=0,T=1;for(let I=0;I<this.g.length;I++){const O=this.i(I);w+=(O>=0?O:4294967296+O)*T,T*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(g(this))return"0";if(m(this))return"-"+b(this).toString(w);const T=l(Math.pow(w,6));var I=this;let O="";for(;;){const k=P(I,T).g;I=y(I,k.j(T));let C=((I.g.length>0?I.g[0]:I.h)>>>0).toString(w);if(I=k,g(I))return C+O;for(;C.length<6;)C="0"+C;O=C+O}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function g(w){if(w.h!=0)return!1;for(let T=0;T<w.g.length;T++)if(w.g[T]!=0)return!1;return!0}function m(w){return w.h==-1}t.l=function(w){return w=y(this,w),m(w)?-1:g(w)?0:1};function b(w){const T=w.g.length,I=[];for(let O=0;O<T;O++)I[O]=~w.g[O];return new s(I,~w.h).add(d)}t.abs=function(){return m(this)?b(this):this},t.add=function(w){const T=Math.max(this.g.length,w.g.length),I=[];let O=0;for(let k=0;k<=T;k++){let C=O+(this.i(k)&65535)+(w.i(k)&65535),R=(C>>>16)+(this.i(k)>>>16)+(w.i(k)>>>16);O=R>>>16,C&=65535,R&=65535,I[k]=R<<16|C}return new s(I,I[I.length-1]&-2147483648?-1:0)};function y(w,T){return w.add(b(T))}t.j=function(w){if(g(this)||g(w))return f;if(m(this))return m(w)?b(this).j(b(w)):b(b(this).j(w));if(m(w))return b(this.j(b(w)));if(this.l(p)<0&&w.l(p)<0)return l(this.m()*w.m());const T=this.g.length+w.g.length,I=[];for(var O=0;O<2*T;O++)I[O]=0;for(O=0;O<this.g.length;O++)for(let k=0;k<w.g.length;k++){const C=this.i(O)>>>16,R=this.i(O)&65535,U=w.i(k)>>>16,W=w.i(k)&65535;I[2*O+2*k]+=R*W,_(I,2*O+2*k),I[2*O+2*k+1]+=C*W,_(I,2*O+2*k+1),I[2*O+2*k+1]+=R*U,_(I,2*O+2*k+1),I[2*O+2*k+2]+=C*U,_(I,2*O+2*k+2)}for(w=0;w<T;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=T;w<2*T;w++)I[w]=0;return new s(I,0)};function _(w,T){for(;(w[T]&65535)!=w[T];)w[T+1]+=w[T]>>>16,w[T]&=65535,T++}function E(w,T){this.g=w,this.h=T}function P(w,T){if(g(T))throw Error("division by zero");if(g(w))return new E(f,f);if(m(w))return T=P(b(w),T),new E(b(T.g),b(T.h));if(m(T))return T=P(w,b(T)),new E(b(T.g),T.h);if(w.g.length>30){if(m(w)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var I=d,O=T;O.l(w)<=0;)I=x(I),O=x(O);var k=S(I,1),C=S(O,1);for(O=S(O,2),I=S(I,2);!g(O);){var R=C.add(O);R.l(w)<=0&&(k=k.add(I),C=R),O=S(O,1),I=S(I,1)}return T=y(w,k.j(T)),new E(k,T)}for(k=f;w.l(T)>=0;){for(I=Math.max(1,Math.floor(w.m()/T.m())),O=Math.ceil(Math.log(I)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),C=l(I),R=C.j(T);m(R)||R.l(w)>0;)I-=O,C=l(I),R=C.j(T);g(C)&&(C=d),k=k.add(C),w=y(w,R)}return new E(k,w)}t.B=function(w){return P(this,w).h},t.and=function(w){const T=Math.max(this.g.length,w.g.length),I=[];for(let O=0;O<T;O++)I[O]=this.i(O)&w.i(O);return new s(I,this.h&w.h)},t.or=function(w){const T=Math.max(this.g.length,w.g.length),I=[];for(let O=0;O<T;O++)I[O]=this.i(O)|w.i(O);return new s(I,this.h|w.h)},t.xor=function(w){const T=Math.max(this.g.length,w.g.length),I=[];for(let O=0;O<T;O++)I[O]=this.i(O)^w.i(O);return new s(I,this.h^w.h)};function x(w){const T=w.g.length+1,I=[];for(let O=0;O<T;O++)I[O]=w.i(O)<<1|w.i(O-1)>>>31;return new s(I,w.h)}function S(w,T){const I=T>>5;T%=32;const O=w.g.length-I,k=[];for(let C=0;C<O;C++)k[C]=T>0?w.i(C+I)>>>T|w.i(C+I+1)<<32-T:w.i(C+I);return new s(k,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,M3=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=c,Ro=s}).apply(typeof ik<"u"?ik:typeof self<"u"?self:typeof window<"u"?window:{});var cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var N3,Bc,V3,Mp,w1,$3,j3,L3;(function(){var t,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cp=="object"&&cp];for(var v=0;v<h.length;++v){var A=h[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(h,v){if(v)e:{var A=r;h=h.split(".");for(var D=0;D<h.length-1;D++){var $=h[D];if(!($ in A))break e;A=A[$]}h=h[h.length-1],D=A[h],v=v(D),v!=D&&v!=null&&e(A,h,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(h){return h||function(v){var A=[],D;for(D in v)Object.prototype.hasOwnProperty.call(v,D)&&A.push([D,v[D]]);return A}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function a(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function u(h,v,A){return h.call.apply(h.bind,arguments)}function l(h,v,A){return l=u,l.apply(null,arguments)}function c(h,v){var A=Array.prototype.slice.call(arguments,1);return function(){var D=A.slice();return D.push.apply(D,arguments),h.apply(this,D)}}function f(h,v){function A(){}A.prototype=v.prototype,h.Z=v.prototype,h.prototype=new A,h.prototype.constructor=h,h.Ob=function(D,$,F){for(var Z=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)Z[ve-2]=arguments[ve];return v.prototype[$].apply(D,Z)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function p(h){const v=h.length;if(v>0){const A=Array(v);for(let D=0;D<v;D++)A[D]=h[D];return A}return[]}function g(h,v){for(let D=1;D<arguments.length;D++){const $=arguments[D];var A=typeof $;if(A=A!="object"?A:$?Array.isArray($)?"array":A:"null",A=="array"||A=="object"&&typeof $.length=="number"){A=h.length||0;const F=$.length||0;h.length=A+F;for(let Z=0;Z<F;Z++)h[A+Z]=$[Z]}else h.push($)}}class m{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function b(h){s.setTimeout(()=>{throw h},0)}function y(){var h=w;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class _{constructor(){this.h=this.g=null}add(v,A){const D=E.get();D.set(v,A),this.h?this.h.next=D:this.g=D,this.h=D}}var E=new m(()=>new P,h=>h.reset());class P{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,w=new _,T=()=>{const h=Promise.resolve(void 0);x=()=>{h.then(I)}};function I(){for(var h;h=y();){try{h.h.call(h.g)}catch(A){b(A)}var v=E;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}S=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const A=()=>{};s.addEventListener("test",A,v),s.removeEventListener("test",A,v)}catch{}return h}();function R(h){return/^[\s\xa0]*$/.test(h)}function U(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}f(U,k),U.prototype.init=function(h,v){const A=this.type=h.type,D=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(A=="mouseover"?v=h.fromElement:A=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var W="closure_listenable_"+(Math.random()*1e6|0),K=0;function q(h,v,A,D,$){this.listener=h,this.proxy=null,this.src=v,this.type=A,this.capture=!!D,this.ha=$,this.key=++K,this.da=this.fa=!1}function L(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function H(h,v,A){for(const D in h)v.call(A,h[D],D,h)}function G(h,v){for(const A in h)v.call(void 0,h[A],A,h)}function ie(h){const v={};for(const A in h)v[A]=h[A];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let A,D;for(let $=1;$<arguments.length;$++){D=arguments[$];for(A in D)h[A]=D[A];for(let F=0;F<J.length;F++)A=J[F],Object.prototype.hasOwnProperty.call(D,A)&&(h[A]=D[A])}}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,v,A,D,$){const F=h.toString();h=this.g[F],h||(h=this.g[F]=[],this.h++);const Z=ot(h,v,D,$);return Z>-1?(v=h[Z],A||(v.fa=!1)):(v=new q(v,this.src,F,!!D,$),v.fa=A,h.push(v)),v};function dt(h,v){const A=v.type;if(A in h.g){var D=h.g[A],$=Array.prototype.indexOf.call(D,v,void 0),F;(F=$>=0)&&Array.prototype.splice.call(D,$,1),F&&(L(v),h.g[A].length==0&&(delete h.g[A],h.h--))}}function ot(h,v,A,D){for(let $=0;$<h.length;++$){const F=h[$];if(!F.da&&F.listener==v&&F.capture==!!A&&F.ha==D)return $}return-1}var bn="closure_lm_"+(Math.random()*1e6|0),jt={};function ne(h,v,A,D,$){if(Array.isArray(v)){for(let F=0;F<v.length;F++)ne(h,v[F],A,D,$);return null}return A=_r(A),h&&h[W]?h.J(v,A,a(D)?!!D.capture:!1,$):ge(h,v,A,!1,D,$)}function ge(h,v,A,D,$,F){if(!v)throw Error("Invalid event type");const Z=a($)?!!$.capture:!!$;let ve=st(h);if(ve||(h[bn]=ve=new Pe(h)),A=ve.add(v,A,D,Z,F),A.proxy)return A;if(D=ye(),A.proxy=D,D.src=h,D.listener=A,h.addEventListener)C||($=Z),$===void 0&&($=!1),h.addEventListener(v.toString(),D,$);else if(h.attachEvent)h.attachEvent(xe(v.toString()),D);else if(h.addListener&&h.removeListener)h.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return A}function ye(){function h(A){return v.call(h.src,h.listener,A)}const v=wt;return h}function Y(h,v,A,D,$){if(Array.isArray(v))for(var F=0;F<v.length;F++)Y(h,v[F],A,D,$);else D=a(D)?!!D.capture:!!D,A=_r(A),h&&h[W]?(h=h.i,F=String(v).toString(),F in h.g&&(v=h.g[F],A=ot(v,A,D,$),A>-1&&(L(v[A]),Array.prototype.splice.call(v,A,1),v.length==0&&(delete h.g[F],h.h--)))):h&&(h=st(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ot(v,A,D,$)),(A=h>-1?v[h]:null)&&We(A))}function We(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[W])dt(v.i,h);else{var A=h.type,D=h.proxy;v.removeEventListener?v.removeEventListener(A,D,h.capture):v.detachEvent?v.detachEvent(xe(A),D):v.addListener&&v.removeListener&&v.removeListener(D),(A=st(v))?(dt(A,h),A.h==0&&(A.src=null,v[bn]=null)):L(h)}}}function xe(h){return h in jt?jt[h]:jt[h]="on"+h}function wt(h,v){if(h.da)h=!0;else{v=new U(v,this);const A=h.listener,D=h.ha||h.src;h.fa&&We(h),h=A.call(D,v)}return h}function st(h){return h=h[bn],h instanceof Pe?h:null}var Lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function _r(h){return typeof h=="function"?h:(h[Lt]||(h[Lt]=function(v){return h.handleEvent(v)}),h[Lt])}function at(){O.call(this),this.i=new Pe(this),this.M=this,this.G=null}f(at,O),at.prototype[W]=!0,at.prototype.removeEventListener=function(h,v,A,D){Y(this,h,v,A,D)};function xt(h,v){var A,D=h.G;if(D)for(A=[];D;D=D.G)A.push(D);if(h=h.M,D=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var $=v;v=new k(D,h),he(v,$)}$=!0;let F,Z;if(A)for(Z=A.length-1;Z>=0;Z--)F=v.g=A[Z],$=Yn(F,D,!0,v)&&$;if(F=v.g=h,$=Yn(F,D,!0,v)&&$,$=Yn(F,D,!1,v)&&$,A)for(Z=0;Z<A.length;Z++)F=v.g=A[Z],$=Yn(F,D,!1,v)&&$}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const A=h.g[v];for(let D=0;D<A.length;D++)L(A[D]);delete h.g[v],h.h--}}this.G=null},at.prototype.J=function(h,v,A,D){return this.i.add(String(h),v,!1,A,D)},at.prototype.K=function(h,v,A,D){return this.i.add(String(h),v,!0,A,D)};function Yn(h,v,A,D){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let F=0;F<v.length;++F){const Z=v[F];if(Z&&!Z.da&&Z.capture==A){const ve=Z.listener,Ot=Z.ha||Z.src;Z.fa&&dt(h.i,Z),$=ve.call(Ot,D)!==!1&&$}}return $&&!D.defaultPrevented}function ci(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=l(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:s.setTimeout(h,v||0)}function Aa(h){h.g=ci(()=>{h.g=null,h.i&&(h.i=!1,Aa(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class pd extends O{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Aa(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gi(h){O.call(this),this.h=h,this.g={}}f(Gi,O);var DS=[];function MS(h){H(h.g,function(v,A){this.g.hasOwnProperty(A)&&We(v)},h),h.g={}}Gi.prototype.N=function(){Gi.Z.N.call(this),MS(this)},Gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uv=s.JSON.stringify,G5=s.JSON.parse,K5=class{stringify(h){return s.JSON.stringify(h,void 0)}parse(h){return s.JSON.parse(h,void 0)}};function NS(){}function VS(){}var Hl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zv(){k.call(this,"d")}f(zv,k);function Wv(){k.call(this,"c")}f(Wv,k);var ns={},$S=null;function md(){return $S=$S||new at}ns.Ia="serverreachability";function jS(h){k.call(this,ns.Ia,h)}f(jS,k);function ql(h){const v=md();xt(v,new jS(v))}ns.STAT_EVENT="statevent";function LS(h,v){k.call(this,ns.STAT_EVENT,h),this.stat=v}f(LS,k);function hn(h){const v=md();xt(v,new LS(v,h))}ns.Ja="timingevent";function FS(h,v){k.call(this,ns.Ja,h),this.size=v}f(FS,k);function Gl(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){h()},v)}function Kl(){this.g=!0}Kl.prototype.ua=function(){this.g=!1};function Y5(h,v,A,D,$,F){h.info(function(){if(h.g)if(F){var Z="",ve=F.split("&");for(let Ue=0;Ue<ve.length;Ue++){var Ot=ve[Ue].split("=");if(Ot.length>1){const Ft=Ot[0];Ot=Ot[1];const Br=Ft.split("_");Z=Br.length>=2&&Br[1]=="type"?Z+(Ft+"="+Ot+"&"):Z+(Ft+"=redacted&")}}}else Z=null;else Z=F;return"XMLHTTP REQ ("+D+") [attempt "+$+"]: "+v+`
`+A+`
`+Z})}function X5(h,v,A,D,$,F,Z){h.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+$+"]: "+v+`
`+A+`
`+F+" "+Z})}function Ia(h,v,A,D){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+J5(h,A)+(D?" "+D:"")})}function Q5(h,v){h.info(function(){return"TIMEOUT: "+v})}Kl.prototype.info=function(){};function J5(h,v){if(!h.g)return v;if(!v)return null;try{const F=JSON.parse(v);if(F){for(h=0;h<F.length;h++)if(Array.isArray(F[h])){var A=F[h];if(!(A.length<2)){var D=A[1];if(Array.isArray(D)&&!(D.length<1)){var $=D[0];if($!="noop"&&$!="stop"&&$!="close")for(let Z=1;Z<D.length;Z++)D[Z]=""}}}}return Uv(F)}catch{return v}}var gd={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},BS={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},US;function Hv(){}f(Hv,NS),Hv.prototype.g=function(){return new XMLHttpRequest},US=new Hv;function Yl(h){return encodeURIComponent(String(h))}function Z5(h){var v=1;h=h.split(":");const A=[];for(;v>0&&h.length;)A.push(h.shift()),v--;return h.length&&A.push(h.join(":")),A}function Ki(h,v,A,D){this.j=h,this.i=v,this.l=A,this.S=D||1,this.V=new Gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new zS}function zS(){this.i=null,this.g="",this.h=!1}var WS={},qv={};function Gv(h,v,A){h.M=1,h.A=vd(Fr(v)),h.u=A,h.R=!0,HS(h,null)}function HS(h,v){h.F=Date.now(),yd(h),h.B=Fr(h.A);var A=h.B,D=h.S;Array.isArray(D)||(D=[String(D)]),iA(A.i,"t",D),h.C=0,A=h.j.L,h.h=new zS,h.g=TA(h.j,A?v:null,!h.u),h.P>0&&(h.O=new pd(l(h.Y,h,h.g),h.P)),v=h.V,A=h.g,D=h.ba;var $="readystatechange";Array.isArray($)||($&&(DS[0]=$.toString()),$=DS);for(let F=0;F<$.length;F++){const Z=ne(A,$[F],D||v.handleEvent,!1,v.h||v);if(!Z)break;v.g[Z.key]=Z}v=h.J?ie(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),ql(),Y5(h.i,h.v,h.B,h.l,h.S,h.u)}Ki.prototype.ba=function(h){h=h.target;const v=this.O;v&&Qi(h)==3?v.j():this.Y(h)},Ki.prototype.Y=function(h){try{if(h==this.g)e:{const ve=Qi(this.g),Ot=this.g.ya(),Ue=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||fA(this.g)))){this.K||ve!=4||Ot==7||(Ot==8||Ue<=0?ql(3):ql(2)),Kv(this);var v=this.g.ca();this.X=v;var A=eB(this);if(this.o=v==200,X5(this.i,this.v,this.B,this.l,this.S,ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var D,$=this.g;if((D=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(D)){var F=D;break t}}F=null}if(h=F)Ia(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Yv(this,h);else{this.o=!1,this.m=3,hn(12),rs(this),Xl(this);break e}}if(this.R){h=!0;let Ft;for(;!this.K&&this.C<A.length;)if(Ft=tB(this,A),Ft==qv){ve==4&&(this.m=4,hn(14),h=!1),Ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==WS){this.m=4,hn(15),Ia(this.i,this.l,A,"[Invalid Chunk]"),h=!1;break}else Ia(this.i,this.l,Ft,null),Yv(this,Ft);if(qS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||A.length!=0||this.h.h||(this.m=1,hn(16),h=!1),this.o=this.o&&h,!h)Ia(this.i,this.l,A,"[Invalid Chunked Response]"),rs(this),Xl(this);else if(A.length>0&&!this.W){this.W=!0;var Z=this.j;Z.g==this&&Z.aa&&!Z.P&&(Z.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),r0(Z),Z.P=!0,hn(11))}}else Ia(this.i,this.l,A,null),Yv(this,A);ve==4&&rs(this),this.o&&!this.K&&(ve==4?vA(this.j,this):(this.o=!1,yd(this)))}else mB(this.g),v==400&&A.indexOf("Unknown SID")>0?(this.m=3,hn(12)):(this.m=0,hn(13)),rs(this),Xl(this)}}}catch{}finally{}};function eB(h){if(!qS(h))return h.g.la();const v=fA(h.g);if(v==="")return"";let A="";const D=v.length,$=Qi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return rs(h),Xl(h),"";h.h.i=new s.TextDecoder}for(let F=0;F<D;F++)h.h.h=!0,A+=h.h.i.decode(v[F],{stream:!($&&F==D-1)});return v.length=0,h.h.g+=A,h.C=0,h.h.g}function qS(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function tB(h,v){var A=h.C,D=v.indexOf(`
`,A);return D==-1?qv:(A=Number(v.substring(A,D)),isNaN(A)?WS:(D+=1,D+A>v.length?qv:(v=v.slice(D,D+A),h.C=D+A,v)))}Ki.prototype.cancel=function(){this.K=!0,rs(this)};function yd(h){h.T=Date.now()+h.H,GS(h,h.H)}function GS(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Gl(l(h.aa,h),v)}function Kv(h){h.D&&(s.clearTimeout(h.D),h.D=null)}Ki.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Q5(this.i,this.B),this.M!=2&&(ql(),hn(17)),rs(this),this.m=2,Xl(this)):GS(this,this.T-h)};function Xl(h){h.j.I==0||h.K||vA(h.j,h)}function rs(h){Kv(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,MS(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Yv(h,v){try{var A=h.j;if(A.I!=0&&(A.g==h||Xv(A.h,h))){if(!h.L&&Xv(A.h,h)&&A.I==3){try{var D=A.Ba.g.parse(v)}catch{D=null}if(Array.isArray(D)&&D.length==3){var $=D;if($[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<h.F)xd(A),bd(A);else break e;n0(A),hn(18)}}else A.xa=$[1],0<A.xa-A.K&&$[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=Gl(l(A.Va,A),6e3));XS(A.h)<=1&&A.ta&&(A.ta=void 0)}else os(A,11)}else if((h.L||A.g==h)&&xd(A),!R(v))for($=A.Ba.g.parse(v),v=0;v<$.length;v++){let Ue=$[v];const Ft=Ue[0];if(!(Ft<=A.K))if(A.K=Ft,Ue=Ue[1],A.I==2)if(Ue[0]=="c"){A.M=Ue[1],A.ba=Ue[2];const Br=Ue[3];Br!=null&&(A.ka=Br,A.j.info("VER="+A.ka));const ss=Ue[4];ss!=null&&(A.za=ss,A.j.info("SVER="+A.za));const Ji=Ue[5];Ji!=null&&typeof Ji=="number"&&Ji>0&&(D=1.5*Ji,A.O=D,A.j.info("backChannelRequestTimeoutMs_="+D)),D=A;const Zi=h.g;if(Zi){const Sd=Zi.g?Zi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sd){var F=D.h;F.g||Sd.indexOf("spdy")==-1&&Sd.indexOf("quic")==-1&&Sd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Qv(F,F.h),F.h=null))}if(D.G){const i0=Zi.g?Zi.g.getResponseHeader("X-HTTP-Session-Id"):null;i0&&(D.wa=i0,Ye(D.J,D.G,i0))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-h.F,A.j.info("Handshake RTT: "+A.T+"ms")),D=A;var Z=h;if(D.na=bA(D,D.L?D.ba:null,D.W),Z.L){QS(D.h,Z);var ve=Z,Ot=D.O;Ot&&(ve.H=Ot),ve.D&&(Kv(ve),yd(ve)),D.g=Z}else gA(D);A.i.length>0&&Td(A)}else Ue[0]!="stop"&&Ue[0]!="close"||os(A,7);else A.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?os(A,7):t0(A):Ue[0]!="noop"&&A.l&&A.l.qa(Ue),A.A=0)}}ql(4)}catch{}}var nB=class{constructor(h,v){this.g=h,this.map=v}};function KS(h){this.l=h||10,s.PerformanceNavigationTiming?(h=s.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function YS(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function XS(h){return h.h?1:h.g?h.g.size:0}function Xv(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Qv(h,v){h.g?h.g.add(v):h.h=v}function QS(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}KS.prototype.cancel=function(){if(this.i=JS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function JS(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const A of h.g.values())v=v.concat(A.G);return v}return p(h.i)}var ZS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rB(h,v){if(h){h=h.split("&");for(let A=0;A<h.length;A++){const D=h[A].indexOf("=");let $,F=null;D>=0?($=h[A].substring(0,D),F=h[A].substring(D+1)):$=h[A],v($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Yi(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Yi?(this.l=h.l,Ql(this,h.j),this.o=h.o,this.g=h.g,Jl(this,h.u),this.h=h.h,Jv(this,oA(h.i)),this.m=h.m):h&&(v=String(h).match(ZS))?(this.l=!1,Ql(this,v[1]||"",!0),this.o=Zl(v[2]||""),this.g=Zl(v[3]||"",!0),Jl(this,v[4]),this.h=Zl(v[5]||"",!0),Jv(this,v[6]||"",!0),this.m=Zl(v[7]||"")):(this.l=!1,this.i=new tc(null,this.l))}Yi.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(ec(v,eA,!0),":");var A=this.g;return(A||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ec(v,eA,!0),"@"),h.push(Yl(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&h.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&h.push("/"),h.push(ec(A,A.charAt(0)=="/"?sB:oB,!0))),(A=this.i.toString())&&h.push("?",A),(A=this.m)&&h.push("#",ec(A,uB)),h.join("")},Yi.prototype.resolve=function(h){const v=Fr(this);let A=!!h.j;A?Ql(v,h.j):A=!!h.o,A?v.o=h.o:A=!!h.g,A?v.g=h.g:A=h.u!=null;var D=h.h;if(A)Jl(v,h.u);else if(A=!!h.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var $=v.h.lastIndexOf("/");$!=-1&&(D=v.h.slice(0,$+1)+D)}if($=D,$==".."||$==".")D="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){D=$.lastIndexOf("/",0)==0,$=$.split("/");const F=[];for(let Z=0;Z<$.length;){const ve=$[Z++];ve=="."?D&&Z==$.length&&F.push(""):ve==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),D&&Z==$.length&&F.push("")):(F.push(ve),D=!0)}D=F.join("/")}else D=$}return A?v.h=D:A=h.i.toString()!=="",A?Jv(v,oA(h.i)):A=!!h.m,A&&(v.m=h.m),v};function Fr(h){return new Yi(h)}function Ql(h,v,A){h.j=A?Zl(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Jl(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Jv(h,v,A){v instanceof tc?(h.i=v,lB(h.i,h.l)):(A||(v=ec(v,aB)),h.i=new tc(v,h.l))}function Ye(h,v,A){h.i.set(v,A)}function vd(h){return Ye(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Zl(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ec(h,v,A){return typeof h=="string"?(h=encodeURI(h).replace(v,iB),A&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function iB(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eA=/[#\/\?@]/g,oB=/[#\?:]/g,sB=/[#\?]/g,aB=/[#\?@]/g,uB=/#/g;function tc(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function is(h){h.g||(h.g=new Map,h.h=0,h.i&&rB(h.i,function(v,A){h.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=tc.prototype,t.add=function(h,v){is(this),this.i=null,h=Pa(this,h);let A=this.g.get(h);return A||this.g.set(h,A=[]),A.push(v),this.h+=1,this};function tA(h,v){is(h),v=Pa(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function nA(h,v){return is(h),v=Pa(h,v),h.g.has(v)}t.forEach=function(h,v){is(this),this.g.forEach(function(A,D){A.forEach(function($){h.call(v,$,D,this)},this)},this)};function rA(h,v){is(h);let A=[];if(typeof v=="string")nA(h,v)&&(A=A.concat(h.g.get(Pa(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)A=A.concat(h[v]);return A}t.set=function(h,v){return is(this),this.i=null,h=Pa(this,h),nA(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=rA(this,h),h.length>0?String(h[0]):v):v};function iA(h,v,A){tA(h,v),A.length>0&&(h.i=null,h.g.set(Pa(h,v),p(A)),h.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let D=0;D<v.length;D++){var A=v[D];const $=Yl(A);A=rA(this,A);for(let F=0;F<A.length;F++){let Z=$;A[F]!==""&&(Z+="="+Yl(A[F])),h.push(Z)}}return this.i=h.join("&")};function oA(h){const v=new tc;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Pa(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function lB(h,v){v&&!h.j&&(is(h),h.i=null,h.g.forEach(function(A,D){const $=D.toLowerCase();D!=$&&(tA(this,D),iA(this,$,A))},h)),h.j=v}function cB(h,v){const A=new Kl;if(s.Image){const D=new Image;D.onload=c(Xi,A,"TestLoadImage: loaded",!0,v,D),D.onerror=c(Xi,A,"TestLoadImage: error",!1,v,D),D.onabort=c(Xi,A,"TestLoadImage: abort",!1,v,D),D.ontimeout=c(Xi,A,"TestLoadImage: timeout",!1,v,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=h}else v(!1)}function fB(h,v){const A=new Kl,D=new AbortController,$=setTimeout(()=>{D.abort(),Xi(A,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:D.signal}).then(F=>{clearTimeout($),F.ok?Xi(A,"TestPingServer: ok",!0,v):Xi(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Xi(A,"TestPingServer: error",!1,v)})}function Xi(h,v,A,D,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),D(A)}catch{}}function hB(){this.g=new K5}function Zv(h){this.i=h.Sb||null,this.h=h.ab||!1}f(Zv,NS),Zv.prototype.g=function(){return new _d(this.i,this.h)};function _d(h,v){at.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(_d,at),t=_d.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,rc(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||s).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,nc(this)),this.readyState=0},t.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,rc(this)),this.g&&(this.readyState=3,rc(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;sA(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function sA(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}t.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?nc(this):rc(this),this.readyState==3&&sA(this)}},t.Oa=function(h){this.g&&(this.response=this.responseText=h,nc(this))},t.Na=function(h){this.g&&(this.response=h,nc(this))},t.ga=function(){this.g&&nc(this)};function nc(h){h.readyState=4,h.l=null,h.j=null,h.B=null,rc(h)}t.setRequestHeader=function(h,v){this.A.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,h.push(A[0]+": "+A[1]),A=v.next();return h.join(`\r
`)};function rc(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(_d.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function aA(h){let v="";return H(h,function(A,D){v+=D,v+=":",v+=A,v+=`\r
`}),v}function e0(h,v,A){e:{for(D in A){var D=!1;break e}D=!0}D||(A=aA(A),typeof h=="string"?A!=null&&Yl(A):Ye(h,v,A))}function pt(h){at.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(pt,at);var dB=/^https?$/i,pB=["POST","PUT"];t=pt.prototype,t.Fa=function(h){this.H=h},t.ea=function(h,v,A,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():US.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(F){uA(this,F);return}if(h=A||"",A=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var $ in D)A.set($,D[$]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const F of D.keys())A.set(F,D.get(F));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(A.keys()).find(F=>F.toLowerCase()=="content-type"),$=s.FormData&&h instanceof s.FormData,!(Array.prototype.indexOf.call(pB,v,void 0)>=0)||D||$||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of A)this.g.setRequestHeader(F,Z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(F){uA(this,F)}};function uA(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,lA(h),wd(h)}function lA(h){h.A||(h.A=!0,xt(h,"complete"),xt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,xt(this,"complete"),xt(this,"abort"),wd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wd(this,!0)),pt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?cA(this):this.Xa())},t.Xa=function(){cA(this)};function cA(h){if(h.h&&typeof o<"u"){if(h.v&&Qi(h)==4)setTimeout(h.Ca.bind(h),0);else if(xt(h,"readystatechange"),Qi(h)==4){h.h=!1;try{const F=h.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var D;if(D=F===0){let Z=String(h.D).match(ZS)[1]||null;!Z&&s.self&&s.self.location&&(Z=s.self.location.protocol.slice(0,-1)),D=!dB.test(Z?Z.toLowerCase():"")}A=D}if(A)xt(h,"complete"),xt(h,"success");else{h.o=6;try{var $=Qi(h)>2?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.ca()+"]",lA(h)}}finally{wd(h)}}}}function wd(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const A=h.g;h.g=null,v||xt(h,"ready");try{A.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Qi(h){return h.g?h.g.readyState:0}t.ca=function(){try{return Qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),G5(v)}};function fA(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function mB(h){const v={};h=(h.g&&Qi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<h.length;D++){if(R(h[D]))continue;var A=Z5(h[D]);const $=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const F=v[$]||[];v[$]=F,F.push(A)}G(v,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(h,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[h]||v}function hA(h){this.za=0,this.i=[],this.j=new Kl,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ic("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ic("baseRetryDelayMs",5e3,h),this.Za=ic("retryDelaySeedMs",1e4,h),this.Ta=ic("forwardChannelMaxRetries",2,h),this.va=ic("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new KS(h&&h.concurrentRequestLimit),this.Ba=new hB,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hA.prototype,t.ka=8,t.I=1,t.connect=function(h,v,A,D){hn(0),this.W=h,this.H=v||{},A&&D!==void 0&&(this.H.OSID=A,this.H.OAID=D),this.F=this.X,this.J=bA(this,null,this.W),Td(this)};function t0(h){if(dA(h),h.I==3){var v=h.V++,A=Fr(h.J);if(Ye(A,"SID",h.M),Ye(A,"RID",v),Ye(A,"TYPE","terminate"),oc(h,A),v=new Ki(h,h.j,v),v.M=2,v.A=vd(Fr(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(v.A.toString(),"")}catch{}!A&&s.Image&&(new Image().src=v.A,A=!0),A||(v.g=TA(v.j,null),v.g.ea(v.A)),v.F=Date.now(),yd(v)}wA(h)}function bd(h){h.g&&(r0(h),h.g.cancel(),h.g=null)}function dA(h){bd(h),h.v&&(s.clearTimeout(h.v),h.v=null),xd(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&s.clearTimeout(h.m),h.m=null)}function Td(h){if(!YS(h.h)&&!h.m){h.m=!0;var v=h.Ea;x||T(),S||(x(),S=!0),w.add(v,h),h.D=0}}function gB(h,v){return XS(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Gl(l(h.Ea,h,v),_A(h,h.D)),h.D++,!0)}t.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const $=new Ki(this,this.j,h);let F=this.o;if(this.U&&(F?(F=ie(F),he(F,this.U)):F=this.U),this.u!==null||this.R||($.J=F,F=null),this.S)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var D=this.i[A];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(v+=D,v>4096){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=mA(this,$,v),A=Fr(this.J),Ye(A,"RID",h),Ye(A,"CVER",22),this.G&&Ye(A,"X-HTTP-Session-Id",this.G),oc(this,A),F&&(this.R?v="headers="+Yl(aA(F))+"&"+v:this.u&&e0(A,this.u,F)),Qv(this.h,$),this.Ra&&Ye(A,"TYPE","init"),this.S?(Ye(A,"$req",v),Ye(A,"SID","null"),$.U=!0,Gv($,A,null)):Gv($,A,v),this.I=2}}else this.I==3&&(h?pA(this,h):this.i.length==0||YS(this.h)||pA(this))};function pA(h,v){var A;v?A=v.l:A=h.V++;const D=Fr(h.J);Ye(D,"SID",h.M),Ye(D,"RID",A),Ye(D,"AID",h.K),oc(h,D),h.u&&h.o&&e0(D,h.u,h.o),A=new Ki(h,h.j,A,h.D+1),h.u===null&&(A.J=h.o),v&&(h.i=v.G.concat(h.i)),v=mA(h,A,1e3),A.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Qv(h.h,A),Gv(A,D,v)}function oc(h,v){h.H&&H(h.H,function(A,D){Ye(v,D,A)}),h.l&&H({},function(A,D){Ye(v,D,A)})}function mA(h,v,A){A=Math.min(h.i.length,A);const D=h.l?l(h.l.Ka,h.l,h):null;e:{var $=h.i;let ve=-1;for(;;){const Ot=["count="+A];ve==-1?A>0?(ve=$[0].g,Ot.push("ofs="+ve)):ve=0:Ot.push("ofs="+ve);let Ue=!0;for(let Ft=0;Ft<A;Ft++){var F=$[Ft].g;const Br=$[Ft].map;if(F-=ve,F<0)ve=Math.max(0,$[Ft].g-100),Ue=!1;else try{F="req"+F+"_"||"";try{var Z=Br instanceof Map?Br:Object.entries(Br);for(const[ss,Ji]of Z){let Zi=Ji;a(Ji)&&(Zi=Uv(Ji)),Ot.push(F+ss+"="+encodeURIComponent(Zi))}}catch(ss){throw Ot.push(F+"type="+encodeURIComponent("_badmap")),ss}}catch{D&&D(Br)}}if(Ue){Z=Ot.join("&");break e}}Z=void 0}return h=h.i.splice(0,A),v.G=h,Z}function gA(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;x||T(),S||(x(),S=!0),w.add(v,h),h.A=0}}function n0(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Gl(l(h.Da,h),_A(h,h.A)),h.A++,!0)}t.Da=function(){if(this.v=null,yA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Gl(l(this.Wa,this),h)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,hn(10),bd(this),yA(this))};function r0(h){h.B!=null&&(s.clearTimeout(h.B),h.B=null)}function yA(h){h.g=new Ki(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Fr(h.na);Ye(v,"RID","rpc"),Ye(v,"SID",h.M),Ye(v,"AID",h.K),Ye(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ye(v,"TO",h.ia),Ye(v,"TYPE","xmlhttp"),oc(h,v),h.u&&h.o&&e0(v,h.u,h.o),h.O&&(h.g.H=h.O);var A=h.g;h=h.ba,A.M=1,A.A=vd(Fr(v)),A.u=null,A.R=!0,HS(A,h)}t.Va=function(){this.C!=null&&(this.C=null,bd(this),n0(this),hn(19))};function xd(h){h.C!=null&&(s.clearTimeout(h.C),h.C=null)}function vA(h,v){var A=null;if(h.g==v){xd(h),r0(h),h.g=null;var D=2}else if(Xv(h.h,v))A=v.G,QS(h.h,v),D=1;else return;if(h.I!=0){if(v.o)if(D==1){A=v.u?v.u.length:0,v=Date.now()-v.F;var $=h.D;D=md(),xt(D,new FS(D,A)),Td(h)}else gA(h);else if($=v.m,$==3||$==0&&v.X>0||!(D==1&&gB(h,v)||D==2&&n0(h)))switch(A&&A.length>0&&(v=h.h,v.i=v.i.concat(A)),$){case 1:os(h,5);break;case 4:os(h,10);break;case 3:os(h,6);break;default:os(h,2)}}}function _A(h,v){let A=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(A*=2),A*v}function os(h,v){if(h.j.info("Error code "+v),v==2){var A=l(h.bb,h),D=h.Ua;const $=!D;D=new Yi(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ql(D,"https"),vd(D),$?cB(D.toString(),A):fB(D.toString(),A)}else hn(2);h.I=0,h.l&&h.l.pa(v),wA(h),dA(h)}t.bb=function(h){h?(this.j.info("Successfully pinged google.com"),hn(2)):(this.j.info("Failed to ping google.com"),hn(1))};function wA(h){if(h.I=0,h.ja=[],h.l){const v=JS(h.h);(v.length!=0||h.i.length!=0)&&(g(h.ja,v),g(h.ja,h.i),h.h.i.length=0,p(h.i),h.i.length=0),h.l.oa()}}function bA(h,v,A){var D=A instanceof Yi?Fr(A):new Yi(A);if(D.g!="")v&&(D.g=v+"."+D.g),Jl(D,D.u);else{var $=s.location;D=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const F=new Yi(null);D&&Ql(F,D),v&&(F.g=v),$&&Jl(F,$),A&&(F.h=A),D=F}return A=h.G,v=h.wa,A&&v&&Ye(D,A,v),Ye(D,"VER",h.ka),oc(h,D),D}function TA(h,v,A){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new pt(new Zv({ab:A})):new pt(h.ma),v.Fa(h.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xA(){}t=xA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ed(){}Ed.prototype.g=function(h,v){return new kn(h,v)};function kn(h,v){at.call(this),this.g=new hA(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!R(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!R(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Oa(this)}f(kn,at),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){t0(this.g)},kn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var A={};A.__data__=h,h=A}else this.v&&(A={},A.__data__=Uv(h),h=A);v.i.push(new nB(v.Ya++,h)),v.I==3&&Td(v)},kn.prototype.N=function(){this.g.l=null,delete this.j,t0(this.g),delete this.g,kn.Z.N.call(this)};function EA(h){zv.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const A in v){h=A;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}f(EA,zv);function SA(){Wv.call(this),this.status=1}f(SA,Wv);function Oa(h){this.g=h}f(Oa,xA),Oa.prototype.ra=function(){xt(this.g,"a")},Oa.prototype.qa=function(h){xt(this.g,new EA(h))},Oa.prototype.pa=function(h){xt(this.g,new SA)},Oa.prototype.oa=function(){xt(this.g,"b")},Ed.prototype.createWebChannel=Ed.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,L3=function(){return new Ed},j3=function(){return md()},$3=ns,w1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gd.NO_ERROR=0,gd.TIMEOUT=8,gd.HTTP_ERROR=6,Mp=gd,BS.COMPLETE="complete",V3=BS,VS.EventType=Hl,Hl.OPEN="a",Hl.CLOSE="b",Hl.ERROR="c",Hl.MESSAGE="d",at.prototype.listen=at.prototype.J,Bc=VS,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,N3=pt}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl="12.8.0";function vwe(t){Fl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new pv("@firebase/firestore");function Ba(){return ra.logLevel}function X(t,...e){if(ra.logLevel<=Ee.DEBUG){const n=e.map(kE);ra.debug(`Firestore (${Fl}): ${t}`,...n)}}function pn(t,...e){if(ra.logLevel<=Ee.ERROR){const n=e.map(kE);ra.error(`Firestore (${Fl}): ${t}`,...n)}}function ia(t,...e){if(ra.logLevel<=Ee.WARN){const n=e.map(kE);ra.warn(`Firestore (${Fl}): ${t}`,...n)}}function kE(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,F3(t,r,n)}function F3(t,e,n){let r=`FIRESTORE (${Fl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw pn(r),new Error(r)}function ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||F3(e,i,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class wwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bwe{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ko,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ko)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new B3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class Twe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xwe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Twe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ok{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ewe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ok(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ok(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Swe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Swe(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function b1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return S_(i)===S_(o)?pe(i,o):S_(i)?1:-1}return pe(t.length,e.length)}const Awe=55296,Iwe=57343;function S_(t){const e=t.charCodeAt(0);return e>=Awe&&e<=Iwe}function al(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function U3(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__name__";class Hr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Hr.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return pe(e.length,n.length)}static compareSegments(e,n){const r=Hr.isNumericId(e),i=Hr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Hr.extractNumericId(e).compare(Hr.extractNumericId(n)):b1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ro.fromString(e.substring(4,e.length-2))}}class ke extends Hr{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const Pwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Hr{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return Pwe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sk}static keyField(){return new ct([sk])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(ke.fromString(e))}static fromName(e){return new te(ke.fromString(e).popFirst(5))}static empty(){return new te(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Owe(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ak(t){if(!te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uk(t){if(te.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function W3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function mv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mv(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){const n={typeString:t};return e&&(n.value=e),n}function nd(t,e){if(!W3(t))throw new ee(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ee(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=-62135596800,ck=1e6;class Me{static now(){return Me.fromMillis(Date.now())}static fromDate(e){return Me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ck);return new Me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lk)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ck}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nd(e,Me._jsonSchema))return new Me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Me._jsonSchemaVersion="firestore/timestamp/1.0",Me._jsonSchema={type:At("string",Me._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{static fromTimestamp(e){return new le(e)}static min(){return new le(new Me(0,0))}static max(){return new le(new Me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=-1;class Ag{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function T1(t){return t.fields.find(e=>e.kind===2)}function bs(t){return t.fields.filter(e=>e.kind!==2)}Ag.UNKNOWN_ID=-1;class Np{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ah{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ah(0,qn.min())}}function Cwe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=le.fromTimestamp(r===1e9?new Me(n+1,0):new Me(n,r));return new qn(i,te.empty(),e)}function H3(t){return new qn(t.readTime,t.key,Sh)}class qn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qn(le.min(),te.empty(),Sh)}static max(){return new qn(le.max(),te.empty(),Sh)}}function ME(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class G3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xa(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==q3)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const l=u;n(e[l]).next(c=>{s[l]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="SimpleDb";class gv{static open(e,n,r,i){try{return new gv(n,e.transaction(i,r))}catch(o){throw new hf(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ko,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new hf(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=NE(r.target.error);this.S.reject(new hf(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(X(Nn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new kwe(n)}}class Do{static delete(e){return X(Nn,"Removing database:",e),Es(y3().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!OE())return!1;if(Do.F())return!0;const e=Nt(),n=Do.M(e),r=0<n&&n<10,i=K3(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Do.M(Nt())===12.2&&pn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(X(Nn,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new hf(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ee(z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ee(z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new hf(e,s))},i.onupgradeneeded=o=>{X(Nn,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next(()=>{X(Nn,"Database upgrade to version "+this.version+" complete")})}})),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const a=gv.open(this.db,e,o?"readonly":"readwrite",r),u=i(a).next(l=>(a.C(),l)).catch(l=>(a.abort(l),V.reject(l))).toPromise();return u.catch(()=>{}),await a.D,u}catch(a){const u=a,l=u.name!=="FirebaseError"&&s<3;if(X(Nn,"Transaction failed with error:",u.message,"Retrying:",l),this.close(),!l)return Promise.reject(u)}}}close(){this.db&&this.db.close(),this.db=void 0}}function K3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Rwe{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Es(this.U.delete())}}class hf extends ee{constructor(e,n){super(z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function es(t){return t.name==="IndexedDbTransactionError"}class kwe{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X(Nn,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(X(Nn,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Es(r)}add(e){return X(Nn,"ADD",this.store.name,e,e),Es(this.store.add(e))}get(e){return Es(this.store.get(e)).next(n=>(n===void 0&&(n=null),X(Nn,"GET",this.store.name,e,n),n))}delete(e){return X(Nn,"DELETE",this.store.name,e),Es(this.store.delete(e))}count(){return X(Nn,"COUNT",this.store.name),Es(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new V((s,a)=>{o.onerror=u=>{a(u.target.error)},o.onsuccess=u=>{s(u.target.result)}})}{const o=this.cursor(r),s=[];return this.J(o,(a,u)=>{s.push(u)}).next(()=>s)}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}X(e,n){X(Nn,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,(o,s,a)=>a.delete())}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=o=>{const s=NE(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}J(e,n){const r=[];return new V((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const u=new Rwe(a),l=n(a.primaryKey,a.value,u);if(l instanceof V){const c=l.catch(f=>(u.done(),V.reject(f)));r.push(c)}u.isDone?i():u.G===null?a.continue():a.continue(u.G)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Es(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=NE(r.target.error);n(i)}})}let fk=!1;function NE(t){const e=Do.M(Nt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fk||(fk=!0,setTimeout(()=>{throw r},0)),r}}return t}const df="IndexBackfiller";class Dwe{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){X(df,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();X(df,`Documents written: ${n}`)}catch(n){es(n)?X(df,"Ignoring IndexedDB error during index backfill: ",n):await xa(n)}await this.re(6e4)})}}class Mwe{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const r=new Set;let i=n,o=!0;return V.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return X(df,`Processing collection: ${s}`),this.oe(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this._e(i,o)).next(a=>(X(df,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}_e(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=H3(o);ME(s,r)>0&&(r=s)}),new qn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lr.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=-1;function yv(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function Nwe(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig="";function cn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hk(e)),e=Vwe(t.get(n),e);return hk(e)}function Vwe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Ig:n+="";break;default:n+=o}}return n}function hk(t){return t+Ig+""}function Kr(t){const e=t.length;if(ue(e>=2,64408,{path:t}),e===2)return ue(t.charAt(0)===Ig&&t.charAt(1)==="",56145,{path:t}),ke.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf(Ig,o);switch((s<0||s>n)&&ae(50515,{path:t}),t.charAt(s+1)){case"":const a=t.substring(o,s);let u;i.length===0?u=a:(i+=a,u=i,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:ae(61167,{path:t})}o=s+2}return new ke(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="remoteDocuments",rd="owner",Ma="owner",Ph="mutationQueues",$we="userId",Sr="mutations",dk="batchId",Ns="userMutationsIndex",pk=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(t,e){return[t,cn(e)]}function Y3(t,e,n){return[t,cn(e),n]}const jwe={},ul="documentMutations",Pg="remoteDocumentsV14",Lwe=["prefixPath","collectionGroup","readTime","documentId"],$p="documentKeyIndex",Fwe=["prefixPath","collectionGroup","documentId"],X3="collectionGroupIndex",Bwe=["collectionGroup","readTime","prefixPath","documentId"],Oh="remoteDocumentGlobal",x1="remoteDocumentGlobalKey",ll="targets",Q3="queryTargetsIndex",Uwe=["canonicalId","targetId"],cl="targetDocuments",zwe=["targetId","path"],VE="documentTargetsIndex",Wwe=["path","targetId"],Og="targetGlobalKey",qs="targetGlobal",Ch="collectionParents",Hwe=["collectionId","parent"],fl="clientMetadata",qwe="clientId",vv="bundles",Gwe="bundleId",_v="namedQueries",Kwe="name",$E="indexConfiguration",Ywe="indexId",E1="collectionGroupIndex",Xwe="collectionGroup",pf="indexState",Qwe=["indexId","uid"],J3="sequenceNumberIndex",Jwe=["uid","sequenceNumber"],mf="indexEntries",Zwe=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z3="documentKeyIndex",ebe=["indexId","uid","orderedDocumentKey"],wv="documentOverlays",tbe=["userId","collectionPath","documentId"],S1="collectionPathOverlayIndex",nbe=["userId","collectionPath","largestBatchId"],e6="collectionGroupOverlayIndex",rbe=["userId","collectionGroup","largestBatchId"],jE="globals",ibe="name",t6=[Ph,Sr,ul,Ts,ll,rd,qs,cl,fl,Oh,Ch,vv,_v],obe=[...t6,wv],n6=[Ph,Sr,ul,Pg,ll,rd,qs,cl,fl,Oh,Ch,vv,_v,wv],r6=n6,LE=[...r6,$E,pf,mf],sbe=LE,i6=[...LE,jE],abe=i6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1 extends G3{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function $t(t,e){const n=me(t);return Do.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ea(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=o??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gk(this.data.getIterator())}getIteratorFrom(e){return new gk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new je(this.comparator);return n.data=e,n}}class gk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Na(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new cr([])}unionWith(e){let n=new je(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new cr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return al(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new s6("Invalid base64 string: "+o):o}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const ube=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=ube.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?Pt.fromBase64String(t):Pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="server_timestamp",u6="__type__",l6="__previous_value__",c6="__local_write_time__";function FE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[u6])==null?void 0:r.stringValue)===a6}function bv(t){const e=t.mapValue.fields[l6];return FE(e)?bv(e):e}function Rh(t){const e=ji(t.mapValue.fields[c6].timestampValue);return new Me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lbe{constructor(e,n,r,i,o,s,a,u,l,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=c,this.apiKey=f}}const Cg="(default)";class oa{constructor(e,n){this.projectId=e,this.database=n||Cg}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database===Cg}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}function cbe(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",f6="__max__",_o={mapValue:{fields:{__type__:{stringValue:f6}}}},UE="__vector__",hl="value",jp={nullValue:"NULL_VALUE"};function Bo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?FE(t)?4:h6(t)?9007199254740991:Tv(t)?10:11:ae(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Bo(t);if(n!==Bo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ji(i.timestampValue),a=ji(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Li(i.bytesValue).isEqual(Li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return tt(i.geoPointValue.latitude)===tt(o.geoPointValue.latitude)&&tt(i.geoPointValue.longitude)===tt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return tt(i.integerValue)===tt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=tt(i.doubleValue),a=tt(o.doubleValue);return s===a?Ih(s)===Ih(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return al(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(mk(s)!==mk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ai(s[u],a[u])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function kh(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function Uo(t,e){if(t===e)return 0;const n=Bo(t),r=Bo(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=tt(o.integerValue||o.doubleValue),u=tt(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return yk(t.timestampValue,e.timestampValue);case 4:return yk(Rh(t),Rh(e));case 5:return b1(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Li(o),u=Li(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){const c=pe(a[l],u[l]);if(c!==0)return c}return pe(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=pe(tt(o.latitude),tt(s.latitude));return a!==0?a:pe(tt(o.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vk(t.arrayValue,e.arrayValue);case 10:return function(o,s){var d,p,g,m;const a=o.fields||{},u=s.fields||{},l=(d=a[hl])==null?void 0:d.arrayValue,c=(p=u[hl])==null?void 0:p.arrayValue,f=pe(((g=l==null?void 0:l.values)==null?void 0:g.length)||0,((m=c==null?void 0:c.values)==null?void 0:m.length)||0);return f!==0?f:vk(l,c)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===_o.mapValue&&s===_o.mapValue)return 0;if(o===_o.mapValue)return 1;if(s===_o.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),l=s.fields||{},c=Object.keys(l);u.sort(),c.sort();for(let f=0;f<u.length&&f<c.length;++f){const d=b1(u[f],c[f]);if(d!==0)return d;const p=Uo(a[u[f]],l[c[f]]);if(p!==0)return p}return pe(u.length,c.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function yk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=ji(t),r=ji(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function vk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Uo(n[i],r[i]);if(o)return o}return pe(n.length,r.length)}function dl(t){return I1(t)}function I1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ji(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=I1(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${I1(n.fields[s])}`;return i+"}"}(t.mapValue):ae(61005,{value:t})}function Lp(t){switch(Bo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bv(t);return e?16+Lp(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Lp(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ea(r.fields,(o,s)=>{i+=o.length+Lp(s)}),i}(t.mapValue);default:throw ae(13486,{value:t})}}function Dh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function P1(t){return!!t&&"integerValue"in t}function Mh(t){return!!t&&"arrayValue"in t}function _k(t){return!!t&&"nullValue"in t}function wk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fp(t){return!!t&&"mapValue"in t}function Tv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[BE])==null?void 0:r.stringValue)===UE}function gf(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ea(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gf(t.arrayValue.values[n]);return e}return{...t}}function h6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===f6}const d6={mapValue:{fields:{[BE]:{stringValue:UE},[hl]:{arrayValue:{}}}}};function fbe(t){return"nullValue"in t?jp:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Dh(oa.empty(),te.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Tv(t)?d6:{mapValue:{}}:ae(35942,{value:t})}function hbe(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Dh(oa.empty(),te.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?d6:"mapValue"in t?Tv(t)?{mapValue:{}}:_o:ae(61959,{value:t})}function bk(t,e){const n=Uo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Tk(t,e){const n=Uo(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.value=e}static empty(){return new xn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gf(n)}setAll(e){let n=ct.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=gf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Fp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ea(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xn(gf(this.value))}}function p6(t){const e=[];return Ea(t.fields,(n,r)=>{const i=new ct([n]);if(Fp(r)){const o=p6(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new cr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,le.min(),le.min(),le.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,le.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,le.min(),le.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,le.min(),le.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.position=e,this.inclusive=n}}function xk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),n.key):r=Uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ek(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n="asc"){this.field=e,this.dir=n}}function dbe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{}class Se extends m6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pbe(e,n,r):n==="array-contains"?new ybe(e,r):n==="in"?new b6(e,r):n==="not-in"?new vbe(e,r):n==="array-contains-any"?new _be(e,r):new Se(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new mbe(e,r):new gbe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Bo(this.value)===Bo(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ve extends m6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ve(e,n)}matches(e){return ml(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ml(t){return t.op==="and"}function O1(t){return t.op==="or"}function zE(t){return g6(t)&&ml(t)}function g6(t){for(const e of t.filters)if(e instanceof Ve)return!1;return!0}function C1(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(zE(t))return t.filters.map(e=>C1(e)).join(",");{const e=t.filters.map(n=>C1(n)).join(",");return`${t.op}(${e})`}}function y6(t,e){return t instanceof Se?function(r,i){return i instanceof Se&&r.op===i.op&&r.field.isEqual(i.field)&&ai(r.value,i.value)}(t,e):t instanceof Ve?function(r,i){return i instanceof Ve&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&y6(s,i.filters[a]),!0):!1}(t,e):void ae(19439)}function v6(t,e){const n=t.filters.concat(e);return Ve.create(n,t.op)}function _6(t){return t instanceof Se?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof Ve?function(n){return n.op.toString()+" {"+n.getFilters().map(_6).join(" ,")+"}"}(t):"Filter"}class pbe extends Se{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class mbe extends Se{constructor(e,n){super(e,"in",n),this.keys=w6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gbe extends Se{constructor(e,n){super(e,"not-in",n),this.keys=w6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function w6(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class ybe extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mh(n)&&kh(n.arrayValue,this.value)}}class b6 extends Se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class vbe extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kh(this.value.arrayValue,n)}}class _be extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wbe{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Te=null}}function R1(t,e=null,n=[],r=[],i=null,o=null,s=null){return new wbe(t,e,n,r,i,o,s)}function sa(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>C1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),yv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dl(r)).join(",")),e.Te=n}return e.Te}function id(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!dbe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!y6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ek(t.startAt,e.startAt)&&Ek(t.endAt,e.endAt)}function kg(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Dg(t,e){return t.filters.filter(n=>n instanceof Se&&n.field.isEqual(e))}function Sk(t,e,n){let r=jp,i=!0;for(const o of Dg(t,e)){let s=jp,a=!0;switch(o.op){case"<":case"<=":s=fbe(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=jp}bk({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];bk({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function Ak(t,e,n){let r=_o,i=!0;for(const o of Dg(t,e)){let s=_o,a=!0;switch(o.op){case">=":case">":s=hbe(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=_o}Tk({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];Tk({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function bbe(t,e,n,r,i,o,s,a){return new od(t,e,n,r,i,o,s,a)}function xv(t){return new od(t)}function Ik(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tbe(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function T6(t){return t.collectionGroup!==null}function yf(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new je(ct.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Rg(o,r))}),n.has(ct.keyField().canonicalString())||e.Ie.push(new Rg(ct.keyField(),r))}return e.Ie}function dr(t){const e=me(t);return e.Ee||(e.Ee=xbe(e,yf(t))),e.Ee}function xbe(t,e){if(t.limitType==="F")return R1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Rg(i.field,o)});const n=t.endAt?new pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pl(t.startAt.position,t.startAt.inclusive):null;return R1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function k1(t,e){const n=t.filters.concat([e]);return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function D1(t,e,n){return new od(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ev(t,e){return id(dr(t),dr(e))&&t.limitType===e.limitType}function x6(t){return`${sa(dr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_6(i)).join(", ")}]`),yv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dl(i)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function sd(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):te.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of yf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const l=xk(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,yf(r),i)||r.endAt&&!function(s,a,u){const l=xk(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,yf(r),i))}(t,e)}function Ebe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E6(t){return(e,n)=>{let r=!1;for(const i of yf(t)){const o=Sbe(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Sbe(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Uo(u,l):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ea(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return o6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Abe=new it(te.comparator);function Ln(){return Abe}const S6=new it(te.comparator);function Uc(...t){let e=S6;for(const n of t)e=e.insert(n.key,n);return e}function A6(t){let e=S6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Yr(){return vf()}function I6(){return vf()}function vf(){return new qi(t=>t.toString(),(t,e)=>t.isEqual(e))}const Ibe=new it(te.comparator),Pbe=new je(te.comparator);function be(...t){let e=Pbe;for(const n of t)e=e.add(n);return e}const Obe=new je(pe);function Cbe(){return Obe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function P6(t){return{integerValue:""+t}}function Rbe(t,e){return Nwe(e)?P6(e):WE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(){this._=void 0}}function kbe(t,e,n){return t instanceof Nh?function(i,o){const s={fields:{[u6]:{stringValue:a6},[c6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&FE(o)&&(o=bv(o)),o&&(s.fields[l6]=o),{mapValue:s}}(n,e):t instanceof gl?C6(t,e):t instanceof yl?R6(t,e):function(i,o){const s=O6(i,o),a=Pk(s)+Pk(i.Ae);return P1(s)&&P1(i.Ae)?P6(a):WE(i.serializer,a)}(t,e)}function Dbe(t,e,n){return t instanceof gl?C6(t,e):t instanceof yl?R6(t,e):n}function O6(t,e){return t instanceof Vh?function(r){return P1(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nh extends Sv{}class gl extends Sv{constructor(e){super(),this.elements=e}}function C6(t,e){const n=k6(e);for(const r of t.elements)n.some(i=>ai(i,r))||n.push(r);return{arrayValue:{values:n}}}class yl extends Sv{constructor(e){super(),this.elements=e}}function R6(t,e){let n=k6(e);for(const r of t.elements)n=n.filter(i=>!ai(i,r));return{arrayValue:{values:n}}}class Vh extends Sv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Pk(t){return tt(t.integerValue||t.doubleValue)}function k6(t){return Mh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(e,n){this.field=e,this.transform=n}}function Nbe(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gl&&i instanceof gl||r instanceof yl&&i instanceof yl?al(r.elements,i.elements,ai):r instanceof Vh&&i instanceof Vh?ai(r.Ae,i.Ae):r instanceof Nh&&i instanceof Nh}(t.transform,e.transform)}class Vbe{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Av{}function D6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iv(t.key,In.none()):new Bl(t.key,t.data,In.none());{const n=t.data,r=xn.empty();let i=new je(ct.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ts(t.key,r,new cr(i.toArray()),In.none())}}function $be(t,e,n){t instanceof Bl?function(i,o,s){const a=i.value.clone(),u=Ck(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ts?function(i,o,s){if(!Bp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=Ck(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(M6(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function _f(t,e,n,r){return t instanceof Bl?function(o,s,a,u){if(!Bp(o.precondition,s))return a;const l=o.value.clone(),c=Rk(o.fieldTransforms,u,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ts?function(o,s,a,u){if(!Bp(o.precondition,s))return a;const l=Rk(o.fieldTransforms,u,s),c=s.data;return c.setAll(M6(o)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Bp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function jbe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=O6(r.transform,i||null);o!=null&&(n===null&&(n=xn.empty()),n.set(r.field,o))}return n||null}function Ok(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&al(r,i,(o,s)=>Nbe(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bl extends Av{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ts extends Av{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function M6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ck(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Dbe(s,a,n[i]))}return r}function Rk(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,kbe(o,s,e))}return r}class Iv extends Av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N6 extends Av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&$be(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=_f(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=_f(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=I6();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=D6(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&al(this.mutations,e.mutations,(n,r)=>Ok(n,r))&&al(this.baseMutations,e.baseMutations,(n,r)=>Ok(n,r))}}class qE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Ibe}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new qE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,Ie;function Fbe(t){switch(t){case z.OK:return ae(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function V6(t){if(t===void 0)return pn("GRPC error has no .code"),z.UNKNOWN;switch(t){case Et.OK:return z.OK;case Et.CANCELLED:return z.CANCELLED;case Et.UNKNOWN:return z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return z.INTERNAL;case Et.UNAVAILABLE:return z.UNAVAILABLE;case Et.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Et.NOT_FOUND:return z.NOT_FOUND;case Et.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Et.ABORTED:return z.ABORTED;case Et.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Et.DATA_LOSS:return z.DATA_LOSS;default:return ae(39323,{code:t})}}(Ie=Et||(Et={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bbe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ube=new Ro([4294967295,4294967295],0);function kk(t){const e=Bbe().encode(t),n=new M3;return n.update(e),new Uint8Array(n.digest())}function Dk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ro([n,r],0),new Ro([i,o],0)]}class KE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zc(`Invalid padding: ${n}`);if(r<0)throw new zc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ro.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Ro.fromNumber(r)));return i.compare(Ube)===1&&(i=new Ro([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=kk(e),[r,i]=Dk(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new KE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.ge===0)return;const n=kk(e),[r,i]=Dk(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ad.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pv(le.min(),i,new it(pe),Ln(),be())}}class ad{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ad(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class $6{constructor(e,n){this.targetId=e,this.Ce=n}}class j6{constructor(e,n,r=Pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Mk{constructor(){this.ve=0,this.Fe=Nk(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae(38017,{changeType:o})}}),new ad(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Nk()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class zbe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ln(),this.He=hp(),this.Je=hp(),this.Ze=new it(pe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(kg(o))if(r===0){const s=new te(o.path);this.et(n,s,vt.newNoDocument(s,le.min()))}else ue(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const a=this.ut(e),u=a?this.ct(a,e,s):1;if(u!==0){this.it(n);const l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Li(r).toUint8Array()}catch(u){if(u instanceof s6)return ia("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new KE(s,i,o)}catch(u){return ia(u instanceof zc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Ge.ht(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((o,s)=>{const a=this.ot(s);if(a){if(o.current&&kg(a.target)){const u=new te(a.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,vt.newNoDocument(u,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}});let r=be();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const l=this.ot(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,s)=>s.setReadTime(e));const i=new Pv(e,n,this.Ze,this.je,r);return this.je=Ln(),this.He=hp(),this.Je=hp(),this.Ze=new it(pe),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Mk,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new je(pe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new je(pe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mk),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hp(){return new it(te.comparator)}function Nk(){return new it(te.comparator)}const Wbe={asc:"ASCENDING",desc:"DESCENDING"},Hbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qbe={and:"AND",or:"OR"};class Gbe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function M1(t,e){return t.useProto3Json||yv(e)?e:{value:e}}function vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Kbe(t,e){return vl(t,e.toTimestamp())}function yn(t){return ue(!!t,49232),le.fromTimestamp(function(n){const r=ji(n);return new Me(r.seconds,r.nanos)}(t))}function YE(t,e){return N1(t,e).canonicalString()}function N1(t,e){const n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function F6(t){const e=ke.fromString(t);return ue(Y6(e),10190,{key:e.toString()}),e}function Mg(t,e){return YE(t.databaseId,e.path)}function Gs(t,e){const n=F6(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(z6(n))}function B6(t,e){return YE(t.databaseId,e)}function U6(t){const e=F6(t);return e.length===4?ke.emptyPath():z6(e)}function V1(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z6(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Vk(t,e,n){return{name:Mg(t,e),fields:n.value.mapValue.fields}}function Ybe(t,e,n){const r=Gs(t,e.name),i=yn(e.updateTime),o=e.createTime?yn(e.createTime):le.min(),s=new xn({mapValue:{fields:e.fields}}),a=vt.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Xbe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,c){return l.useProto3Json?(ue(c===void 0||typeof c=="string",58123),Pt.fromBase64String(c||"")):(ue(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){const c=l.code===void 0?z.UNKNOWN:V6(l.code);return new ee(c,l.message||"")}(s);n=new j6(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Gs(t,r.document.name),o=yn(r.document.updateTime),s=r.document.createTime?yn(r.document.createTime):le.min(),a=new xn({mapValue:{fields:r.document.fields}}),u=vt.newFoundDocument(i,o,s,a),l=r.targetIds||[],c=r.removedTargetIds||[];n=new Up(l,c,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Gs(t,r.document),o=r.readTime?yn(r.readTime):le.min(),s=vt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Up([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Gs(t,r.document),o=r.removedTargetIds||[];n=new Up([],o,i,null)}else{if(!("filter"in e))return ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Lbe(i,o),a=r.targetId;n=new $6(a,s)}}return n}function Ng(t,e){let n;if(e instanceof Bl)n={update:Vk(t,e.key,e.value)};else if(e instanceof Iv)n={delete:Mg(t,e.key)};else if(e instanceof ts)n={update:Vk(t,e.key,e.data),updateMask:n1e(e.fieldMask)};else{if(!(e instanceof N6))return ae(16599,{dt:e.type});n={verify:Mg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof yl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vh)return{fieldPath:s.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Kbe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae(27497)}(t,e.precondition)),n}function $1(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?In.updateTime(yn(o.updateTime)):o.exists!==void 0?In.exists(o.exists):In.none()}(e.currentDocument):In.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let u=null;if("setToServerValue"in a)ue(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),u=new Nh;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];u=new gl(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];u=new yl(c)}else"increment"in a?u=new Vh(s,a.increment):ae(16584,{proto:a});const l=ct.fromServerFormat(a.fieldPath);return new Mbe(l,u)}(t,i)):[];if(e.update){e.update.name;const i=Gs(t,e.update.name),o=new xn({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(u){const l=u.fieldPaths||[];return new cr(l.map(c=>ct.fromServerFormat(c)))}(e.updateMask);return new ts(i,o,s,n,r)}return new Bl(i,o,n,r)}if(e.delete){const i=Gs(t,e.delete);return new Iv(i,n)}if(e.verify){const i=Gs(t,e.verify);return new N6(i,n)}return ae(1463,{proto:e})}function Qbe(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?yn(i.updateTime):yn(o);return s.isEqual(le.min())&&(s=yn(o)),new Vbe(s,i.transformResults||[])}(n,e))):[]}function W6(t,e){return{documents:[B6(t,e.path)]}}function H6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=B6(t,i);const o=function(l){if(l.length!==0)return K6(Ve.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:za(d.field),direction:Zbe(d.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=M1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{ft:n,parent:i}}function q6(t){let e=U6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const d=G6(f);return d instanceof Ve&&zE(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(d=>function(g){return new Rg(Wa(g.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(f){let d;return d=typeof f=="object"?f.value:f,yv(d)?null:d}(n.limit));let u=null;n.startAt&&(u=function(f){const d=!!f.before,p=f.values||[];return new pl(p,d)}(n.startAt));let l=null;return n.endAt&&(l=function(f){const d=!f.before,p=f.values||[];return new pl(p,d)}(n.endAt)),bbe(e,i,s,o,a,"F",u,l)}function Jbe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function G6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return Se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Wa(n.unaryFilter.field);return Se.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wa(n.unaryFilter.field);return Se.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return Se.create(Wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ve.create(n.compositeFilter.filters.map(r=>G6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function Zbe(t){return Wbe[t]}function e1e(t){return Hbe[t]}function t1e(t){return qbe[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return ct.fromServerFormat(t.fieldPath)}function K6(t){return t instanceof Se?function(n){if(n.op==="=="){if(wk(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(_k(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wk(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(_k(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:e1e(n.op),value:n.value}}}(t):t instanceof Ve?function(n){const r=n.getFilters().map(i=>K6(i));return r.length===1?r[0]:{compositeFilter:{op:t1e(n.op),filters:r}}}(t):ae(54877,{filter:t})}function n1e(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Y6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function X6(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,i,o=le.min(),s=le.min(),a=Pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.yt=e}}function r1e(t,e){let n;if(e.document)n=Ybe(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=te.fromSegments(e.noDocument.path),i=ua(e.noDocument.readTime);n=vt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ae(56709);{const r=te.fromSegments(e.unknownDocument.path),i=ua(e.unknownDocument.version);n=vt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Me(i[0],i[1]);return le.fromTimestamp(o)}(e.readTime)),n}function $k(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Vg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Mg(o,s.key),fields:s.data.value.mapValue.fields,updateTime:vl(o,s.version.toTimestamp()),createTime:vl(o,s.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:aa(e.version)};else{if(!e.isUnknownDocument())return ae(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:aa(e.version)}}return r}function Vg(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function aa(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ua(t){const e=new Me(t.seconds,t.nanoseconds);return le.fromTimestamp(e)}function Ss(t,e){const n=(e.baseMutations||[]).map(o=>$1(t.yt,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>$1(t.yt,o)),i=Me.fromMillis(e.localWriteTimeMs);return new HE(e.batchId,i,n,r)}function Wc(t){const e=ua(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ua(t.lastLimboFreeSnapshotVersion):le.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){const s=o.documents.length;return ue(s===1,1966,{count:s}),dr(xv(U6(o.documents[0])))}(t.query):function(o){return dr(q6(o))}(t.query),new wi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Pt.fromBase64String(t.resumeToken))}function J6(t,e){const n=aa(e.snapshotVersion),r=aa(e.lastLimboFreeSnapshotVersion);let i;i=kg(e.target)?W6(t.yt,e.target):H6(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:sa(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Z6(t){const e=q6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?D1(e,e.limit,"L"):e}function A_(t,e){return new GE(e.largestBatchId,$1(t.yt,e.overlayMutation))}function jk(t,e){const n=e.path.lastSegment();return[t,cn(e.path.popLast()),n]}function Lk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:aa(r.readTime),documentKey:cn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1e{getBundleMetadata(e,n){return Fk(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:ua(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return Fk(e).put(function(i){return{bundleId:i.id,createTime:aa(yn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return Bk(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:Z6(o.bundledQuery),readTime:ua(o.readTime)}}(r)})}saveNamedQuery(e,n){return Bk(e).put(function(i){return{name:i.name,readTime:aa(yn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function Fk(t){return $t(t,vv)}function Bk(t){return $t(t,_v)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Ov(e,r)}getOverlay(e,n){return Ac(e).get(jk(this.userId,n)).next(r=>r?A_(this.serializer,r):null)}getOverlays(e,n){const r=Yr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new GE(n,s);i.push(this.bt(e,a))}),V.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(cn(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Ac(e).X(S1,a))}),V.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Yr(),o=cn(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ac(e).H(S1,s).next(a=>{for(const u of a){const l=A_(this.serializer,u);i.set(l.getKey(),l)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Yr();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Ac(e).ee({index:e6,range:a},(u,l,c)=>{const f=A_(this.serializer,l);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):c.done()}).next(()=>o)}bt(e,n){return Ac(e).put(function(i,o,s){const[a,u,l]=jk(o,s.mutation.key);return{userId:o,collectionPath:u,documentId:l,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Ng(i.yt,s.mutation)}}(this.serializer,this.userId,n))}}function Ac(t){return $t(t,wv)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1e{St(e){return $t(e,jE)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Pt.fromUint8Array(r):Pt.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Ih(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ji(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Li(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?h6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Tv(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):ae(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,a;const r=e.fields||{};this.Ft(n,53);const i=hl,o=((a=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:a.length)||0;this.Ft(n,15),n.Mt(tt(o)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),te.fromName(e).path.forEach(r=>{this.Ft(n,60),this.$t(r,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}As.Wt=new As;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va=255;function s1e(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Uk(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=s1e(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class a1e{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=Uk(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=Uk(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Va),this.sn(255)}_n(){this.an(Va),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Va?(this.sn(Va),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Va?(this.an(Va),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class u1e{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class l1e{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ic{constructor(){this.cn=new a1e,this.ascending=new u1e(this.cn),this.descending=new l1e(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new Is(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:zp(this.Tn),directionalValue:zp(this.In),orderedDocumentKey:zp(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function no(t,e){let n=t.hn-e.hn;return n!==0?n:(n=zk(t.Tn,e.Tn),n!==0?n:(n=zk(t.In,e.In),n!==0?n:te.comparator(t.Pn,e.Pn)))}function zk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function zp(t){return A3()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function Wk(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class Hk{constructor(e){this.Vn=new je((n,r)=>ct.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(ue(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=T1(e);if(n!==void 0&&!this.pn(n))return!1;const r=bs(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.pn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const u=r[o];if(!this.yn(a,u)||!this.wn(this.dn[s++],u))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.dn.length||!this.wn(this.dn[s++],a))return!1}return!0}bn(){if(this.fn)return null;let e=new je(ct.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Np(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Np(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Np(r.field,r.dir==="asc"?0:1)));return new Ag(Ag.UNKNOWN_ID,this.collectionId,n,Ah.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){var n,r;if(ue(t instanceof Se||t instanceof Ve,20012),t instanceof Se){if(t instanceof b6){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map(o=>Se.create(t.field,"==",o)))||[];return Ve.create(i,"or")}return t}const e=t.filters.map(i=>eF(i));return Ve.create(e,t.op)}function c1e(t){if(t.getFilters().length===0)return[];const e=F1(eF(t));return ue(tF(e),7391),j1(e)||L1(e)?[e]:e.getFilters()}function j1(t){return t instanceof Se}function L1(t){return t instanceof Ve&&zE(t)}function tF(t){return j1(t)||L1(t)||function(n){if(n instanceof Ve&&O1(n)){for(const r of n.getFilters())if(!j1(r)&&!L1(r))return!1;return!0}return!1}(t)}function F1(t){if(ue(t instanceof Se||t instanceof Ve,34018),t instanceof Se)return t;if(t.filters.length===1)return F1(t.filters[0]);const e=t.filters.map(r=>F1(r));let n=Ve.create(e,t.op);return n=$g(n),tF(n)?n:(ue(n instanceof Ve,64498),ue(ml(n),40251),ue(n.filters.length>1,57927),n.filters.reduce((r,i)=>XE(r,i)))}function XE(t,e){let n;return ue(t instanceof Se||t instanceof Ve,38388),ue(e instanceof Se||e instanceof Ve,25473),n=t instanceof Se?e instanceof Se?function(i,o){return Ve.create([i,o],"and")}(t,e):qk(t,e):e instanceof Se?qk(e,t):function(i,o){if(ue(i.filters.length>0&&o.filters.length>0,48005),ml(i)&&ml(o))return v6(i,o.getFilters());const s=O1(i)?i:o,a=O1(i)?o:i,u=s.filters.map(l=>XE(l,a));return Ve.create(u,"or")}(t,e),$g(n)}function qk(t,e){if(ml(e))return v6(e,t.getFilters());{const n=e.filters.map(r=>XE(t,r));return Ve.create(n,"or")}}function $g(t){if(ue(t instanceof Se||t instanceof Ve,11850),t instanceof Se)return t;const e=t.getFilters();if(e.length===1)return $g(e[0]);if(g6(t))return t;const n=e.map(i=>$g(i)),r=[];return n.forEach(i=>{i instanceof Se?r.push(i):i instanceof Ve&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ve.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1e{constructor(){this.Sn=new QE}addToCollectionParentIndex(e,n){return this.Sn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(qn.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class QE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new je(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="IndexedDbIndexManager",dp=new Uint8Array(0);class h1e{constructor(e,n){this.databaseId=n,this.Dn=new QE,this.Cn=new qi(r=>sa(r),(r,i)=>id(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.Dn.add(n)});const o={collectionId:r,parent:cn(i)};return Kk(e).put(o)}return V.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[U3(n),""],!1,!0);return Kk(e).H(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Kr(s.parent))}return r})}addFieldIndex(e,n){const r=Pc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=ja(e);return o.next(a=>{s.put(Lk(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Pc(e),i=ja(e),o=$a(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pc(e),r=$a(e),i=ja(e);return n.X().next(()=>r.X()).next(()=>i.X())}createTargetIndexes(e,n){return V.forEach(this.vn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new Hk(r).bn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=$a(e);let i=!0;const o=new Map;return V.forEach(this.vn(n),s=>this.Fn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=be();const a=[];return V.forEach(o,(u,l)=>{X(Gk,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(P=>`${P.fieldPath}:${P.kind}`).join(",")}`}(u)} to execute ${sa(n)}`);const c=function(E,P){const x=T1(P);if(x===void 0)return null;for(const S of Dg(E,x.fieldPath))switch(S.op){case"array-contains-any":return S.value.arrayValue.values||[];case"array-contains":return[S.value]}return null}(l,u),f=function(E,P){const x=new Map;for(const S of bs(P))for(const w of Dg(E,S.fieldPath))switch(w.op){case"==":case"in":x.set(S.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return x.set(S.fieldPath.canonicalString(),w.value),Array.from(x.values())}return null}(l,u),d=function(E,P){const x=[];let S=!0;for(const w of bs(P)){const T=w.kind===0?Sk(E,w.fieldPath,E.startAt):Ak(E,w.fieldPath,E.startAt);x.push(T.value),S&&(S=T.inclusive)}return new pl(x,S)}(l,u),p=function(E,P){const x=[];let S=!0;for(const w of bs(P)){const T=w.kind===0?Ak(E,w.fieldPath,E.endAt):Sk(E,w.fieldPath,E.endAt);x.push(T.value),S&&(S=T.inclusive)}return new pl(x,S)}(l,u),g=this.Mn(u,l,d),m=this.Mn(u,l,p),b=this.xn(u,l,f),y=this.On(u.indexId,c,g,d.inclusive,m,p.inclusive,b);return V.forEach(y,_=>r.Z(_,n.limit).next(E=>{E.forEach(P=>{const x=te.fromSegments(P.documentKey);s.has(x)||(s=s.add(x),a.push(x))})}))}).next(()=>a)}return V.resolve(null)})}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=c1e(Ve.create(e.filters,"and")).map(r=>R1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}On(e,n,r,i,o,s,a){const u=(n!=null?n.length:1)*Math.max(r.length,o.length),l=u/(n!=null?n.length:1),c=[];for(let f=0;f<u;++f){const d=n?this.Nn(n[f/l]):dp,p=this.Bn(e,d,r[f%l],i),g=this.Ln(e,d,o[f%l],s),m=a.map(b=>this.Bn(e,d,b,!0));c.push(...this.createRange(p,g,m))}return c}Bn(e,n,r,i){const o=new Is(e,te.empty(),n,r);return i?o:o.En()}Ln(e,n,r,i){const o=new Is(e,te.empty(),n,r);return i?o.En():o}Fn(e,n){const r=new Hk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.gn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.vn(n);return V.forEach(i,o=>this.Fn(e,o).next(s=>{s?r!==0&&s.fields.length<function(u){let l=new je(ct.comparator),c=!1;for(const f of u.filters)for(const d of f.getFlattenedFilters())d.field.isKeyField()||(d.op==="array-contains"||d.op==="array-contains-any"?c=!0:l=l.add(d.field));for(const f of u.orderBy)f.field.isKeyField()||(l=l.add(f.field));return l.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}kn(e,n){const r=new Ic;for(const i of bs(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.ln(i.kind);As.Wt.Dt(o,s)}return r.un()}Nn(e){const n=new Ic;return As.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Ic;return As.Wt.Dt(Dh(this.databaseId,n),r.ln(function(o){const s=bs(o);return s.length===0?0:s[s.length-1].kind}(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Ic);let o=0;for(const s of bs(e)){const a=r[o++];for(const u of i)if(this.qn(n,s.fieldPath)&&Mh(a))i=this.Un(i,s,a);else{const l=u.ln(s.kind);As.Wt.Dt(a,l)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const u=new Ic;u.seed(a.un()),As.Wt.Dt(s,u.ln(n.kind)),o.push(u)}return o}qn(e,n){return!!e.filters.find(r=>r instanceof Se&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Pc(e),i=ja(e);return(n?r.H(E1,IDBKeyRange.bound(n,n)):r.H()).next(o=>{const s=[];return V.forEach(o,a=>i.get([a.indexId,this.uid]).next(u=>{s.push(function(c,f){const d=f?new Ah(f.sequenceNumber,new qn(ua(f.readTime),new te(Kr(f.documentKey)),f.largestBatchId)):Ah.empty(),p=c.fields.map(([g,m])=>new Np(ct.fromServerFormat(g),m));return new Ag(c.indexId,c.collectionGroup,p,d)}(a,u))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:pe(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Pc(e),o=ja(e);return this.Wn(e).next(s=>i.H(E1,IDBKeyRange.bound(n,n)).next(a=>V.forEach(a,u=>o.put(Lk(u.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return V.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?V.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),V.forEach(a,u=>this.Qn(e,i,u).next(l=>{const c=this.Gn(o,u);return l.isEqual(c)?V.resolve():this.zn(e,o,u,l,c)}))))})}jn(e,n,r,i){return $a(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return $a(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=$a(e);let o=new je(no);return i.ee({index:Z3,range:IDBKeyRange.only([r.indexId,this.uid,zp(this.Kn(r,n))])},(s,a)=>{o=o.add(new Is(r.indexId,n,Wk(a.arrayValue),Wk(a.directionalValue)))}).next(()=>o)}Gn(e,n){let r=new je(no);const i=this.kn(n,e);if(i==null)return r;const o=T1(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Mh(s))for(const a of s.arrayValue.values||[])r=r.add(new Is(n.indexId,e.key,this.Nn(a),i))}else r=r.add(new Is(n.indexId,e.key,dp,i));return r}zn(e,n,r,i,o){X(Gk,"Updating index entries for document '%s'",n.key);const s=[];return function(u,l,c,f,d){const p=u.getIterator(),g=l.getIterator();let m=Na(p),b=Na(g);for(;m||b;){let y=!1,_=!1;if(m&&b){const E=c(m,b);E<0?_=!0:E>0&&(y=!0)}else m!=null?_=!0:y=!0;y?(f(b),b=Na(g)):_?(d(m),m=Na(p)):(m=Na(p),b=Na(g))}}(i,o,no,a=>{s.push(this.jn(e,n,r,a))},a=>{s.push(this.Hn(e,n,r,a))}),V.waitFor(s)}Wn(e){let n=1;return ja(e).ee({index:J3,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>no(s,a)).filter((s,a,u)=>!a||no(s,u[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=no(s,e),u=no(s,n);if(a===0)i[0]=e.En();else if(a>0&&u<0)i.push(s),i.push(s.En());else if(u>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Jn(i[s],i[s+1]))return[];const a=i[s].An(this.uid,dp,te.empty()),u=i[s+1].An(this.uid,dp,te.empty());o.push(IDBKeyRange.bound(a,u))}return o}Jn(e,n){return no(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Yk)}getMinOffset(e,n){return V.mapArray(this.vn(n),r=>this.Fn(e,r).next(i=>i||ae(44426))).next(Yk)}}function Kk(t){return $t(t,Ch)}function $a(t){return $t(t,mf)}function Pc(t){return $t(t,$E)}function ja(t){return $t(t,pf)}function Yk(t){ue(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;ME(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new qn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nF=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rF(t,e,n){const r=t.store(Sr),i=t.store(ul),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const u=r.ee({range:s},(c,f,d)=>(a++,d.delete()));o.push(u.next(()=>{ue(a===1,47070,{batchId:n.batchId})}));const l=[];for(const c of n.mutations){const f=Y3(e,c.key.path,n.batchId);o.push(i.delete(f)),l.push(c.key)}return V.waitFor(o).next(()=>l)}function jg(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ae(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(nF,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class Cv{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){ue(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Cv(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ro(e).ee({index:Ns,range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=Ha(e),s=ro(e);return s.add({}).next(a=>{ue(typeof a=="number",49019);const u=new HE(a,n,r,i),l=function(p,g,m){const b=m.baseMutations.map(_=>Ng(p.yt,_)),y=m.mutations.map(_=>Ng(p.yt,_));return{userId:g,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:b,mutations:y}}(this.serializer,this.userId,u),c=[];let f=new je((d,p)=>pe(d.canonicalString(),p.canonicalString()));for(const d of i){const p=Y3(this.userId,d.key.path,a);f=f.add(d.key.path.popLast()),c.push(s.put(l)),c.push(o.put(p,jwe))}return f.forEach(d=>{c.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.Zn[a]=u.keys()}),V.waitFor(c).next(()=>u)})}lookupMutationBatch(e,n){return ro(e).get(n).next(r=>r?(ue(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ss(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?V.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ro(e).ee({index:Ns,range:i},(s,a,u)=>{a.userId===this.userId&&(ue(a.batchId>=r,47524,{Yn:r}),o=Ss(this.serializer,a)),u.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Hs;return ro(e).ee({index:Ns,range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Hs],[this.userId,Number.POSITIVE_INFINITY]);return ro(e).H(Ns,n).next(r=>r.map(i=>Ss(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vp(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ha(e).ee({range:i},(s,a,u)=>{const[l,c,f]=s,d=Kr(c);if(l===this.userId&&n.path.isEqual(d))return ro(e).get(f).next(p=>{if(!p)throw ae(61480,{er:s,batchId:f});ue(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),o.push(Ss(this.serializer,p))});u.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(pe);const i=[];return n.forEach(o=>{const s=Vp(this.userId,o.path),a=IDBKeyRange.lowerBound(s),u=Ha(e).ee({range:a},(l,c,f)=>{const[d,p,g]=l,m=Kr(p);d===this.userId&&o.path.isEqual(m)?r=r.add(g):f.done()});i.push(u)}),V.waitFor(i).next(()=>this.tr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Vp(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new je(pe);return Ha(e).ee({range:s},(u,l,c)=>{const[f,d,p]=u,g=Kr(d);f===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):c.done()}).next(()=>this.tr(e,a))}tr(e,n){const r=[],i=[];return n.forEach(o=>{i.push(ro(e).get(o).next(s=>{if(s===null)throw ae(35274,{batchId:o});ue(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(Ss(this.serializer,s))}))}),V.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return rF(e.le,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.nr(n.batchId)}),V.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return V.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return Ha(e).ee({range:r},(o,s,a)=>{if(o[0]===this.userId){const u=Kr(o[1]);i.push(u)}else a.done()}).next(()=>{ue(i.length===0,56720,{rr:i.map(o=>o.canonicalString())})})})}containsKey(e,n){return iF(e,this.userId,n)}ir(e){return oF(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Hs,lastStreamToken:""})}}function iF(t,e,n){const r=Vp(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ha(t).ee({range:o,Y:!0},(a,u,l)=>{const[c,f,d]=a;c===e&&f===i&&(s=!0),l.done()}).next(()=>s)}function ro(t){return $t(t,Sr)}function Ha(t){return $t(t,ul)}function oF(t){return $t(t,Ph)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new la(0)}static ar(){return new la(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1e{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next(n=>{const r=new la(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.ur(e).next(n=>le.fromTimestamp(new Me(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.ur(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.ur(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i)))}addTargetData(e,n){return this.lr(e,n).next(()=>this.ur(e).next(r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>La(e).delete(n.targetId)).next(()=>this.ur(e)).next(r=>(ue(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return La(e).ee((s,a)=>{const u=Wc(a);u.sequenceNumber<=n&&r.get(u.targetId)===null&&(i++,o.push(this.removeTargetData(e,u)))}).next(()=>V.waitFor(o)).next(()=>i)}forEachTarget(e,n){return La(e).ee((r,i)=>{const o=Wc(i);n(o)})}ur(e){return Qk(e).get(Og).next(n=>(ue(n!==null,2888),n))}cr(e,n){return Qk(e).put(Og,n)}lr(e,n){return La(e).put(J6(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next(n=>n.targetCount)}getTargetData(e,n){const r=sa(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return La(e).ee({range:i,index:Q3},(s,a,u)=>{const l=Wc(a);id(n,l.target)&&(o=l,u.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=ho(e);return n.forEach(s=>{const a=cn(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),V.waitFor(i)}removeMatchingKeys(e,n,r){const i=ho(e);return V.forEach(n,o=>{const s=cn(o.path);return V.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=ho(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ho(e);let o=be();return i.ee({range:r,Y:!0},(s,a,u)=>{const l=Kr(s[1]),c=new te(l);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=cn(n.path),i=IDBKeyRange.bound([r],[U3(r)],!1,!0);let o=0;return ho(e).ee({index:VE,Y:!0,range:i},([s,a],u,l)=>{s!==0&&(o++,l.done())}).next(()=>o>0)}At(e,n){return La(e).get(n).next(r=>r?Wc(r):null)}}function La(t){return $t(t,ll)}function Qk(t){return $t(t,qs)}function ho(t){return $t(t,cl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="LruGarbageCollector",p1e=1048576;function Zk([t,e],[n,r]){const i=pe(t,n);return i===0?pe(e,r):i}class m1e{constructor(e){this.Pr=e,this.buffer=new je(Zk),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){X(Jk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){es(n)?X(Jk,"Ignoring IndexedDB error during garbage collection: ",n):await xa(n)}await this.Ar(3e5)})}}class g1e{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return V.resolve(lr.ce);const r=new m1e(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Xk)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xk):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,a,u,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(l=Date.now(),Ba()<=Ee.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(l-u)+`ms
Total Duration: ${l-c}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function aF(t,e){return new g1e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1e{constructor(e,n){this.db=e,this.garbageCollector=aF(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,(r,i)=>n(i))}addReference(e,n,r){return pp(e,r)}removeReference(e,n,r){return pp(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return pp(e,n)}wr(e,n){return function(i,o){let s=!1;return oF(i).te(a=>iF(i,a,o).next(u=>(u&&(s=!0),V.resolve(!u)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.yr(e,(s,a)=>{if(a<=n){const u=this.wr(e,s).next(l=>{if(!l)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,le.min()),ho(e).delete(function(f){return[0,cn(f.path)]}(s))))});i.push(u)}}).next(()=>V.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return pp(e,n)}yr(e,n){const r=ho(e);let i,o=lr.ce;return r.ee({index:VE},([s,a],{path:u,sequenceNumber:l})=>{s===0?(o!==lr.ce&&n(new te(Kr(i)),o),o=l,i=u):o=lr.ce}).next(()=>{o!==lr.ce&&n(new te(Kr(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pp(t,e){return ho(t).put(function(r,i){return{targetId:0,path:cn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(){this.changes=new qi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1e{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return fs(e).put(r)}removeEntry(e,n,r){return fs(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Vg(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=vt.newInvalidDocument(n);return fs(e).ee({index:$p,range:IDBKeyRange.only(Oc(n))},(i,o)=>{r=this.Sr(n,o)}).next(()=>r)}Dr(e,n){let r={size:0,document:vt.newInvalidDocument(n)};return fs(e).ee({index:$p,range:IDBKeyRange.only(Oc(n))},(i,o)=>{r={document:this.Sr(n,o),size:jg(o)}}).next(()=>r)}getEntries(e,n){let r=Ln();return this.Cr(e,n,(i,o)=>{const s=this.Sr(i,o);r=r.insert(i,s)}).next(()=>r)}vr(e,n){let r=Ln(),i=new it(te.comparator);return this.Cr(e,n,(o,s)=>{const a=this.Sr(o,s);r=r.insert(o,a),i=i.insert(o,jg(s))}).next(()=>({documents:r,Fr:i}))}Cr(e,n,r){if(n.isEmpty())return V.resolve();let i=new je(nD);n.forEach(u=>i=i.add(u));const o=IDBKeyRange.bound(Oc(i.first()),Oc(i.last())),s=i.getIterator();let a=s.getNext();return fs(e).ee({index:$p,range:o},(u,l,c)=>{const f=te.fromSegments([...l.prefixPath,l.collectionGroup,l.documentId]);for(;a&&nD(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,l),a=s.hasNext()?s.getNext():null),a?c.j(Oc(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),Vg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return fs(e).H(IDBKeyRange.bound(a,u,!0)).next(l=>{o==null||o.incrementDocumentReadCount(l.length);let c=Ln();for(const f of l){const d=this.Sr(te.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d.isFoundDocument()&&(sd(n,d)||i.has(d.key))&&(c=c.insert(d.key,d))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=Ln();const s=tD(n,r),a=tD(n,qn.max());return fs(e).ee({index:X3,range:IDBKeyRange.bound(s,a,!0)},(u,l,c)=>{const f=this.Sr(te.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new _1e(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return eD(e).get(x1).next(n=>(ue(!!n,20021),n))}br(e,n){return eD(e).put(x1,n)}Sr(e,n){if(n){const r=r1e(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(le.min())))return r}return vt.newInvalidDocument(e)}}function lF(t){return new v1e(t)}class _1e extends uF{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new qi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new je((o,s)=>pe(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.Or.get(o);if(n.push(this.Mr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const u=$k(this.Mr.serializer,s);i=i.add(o.path.popLast());const l=jg(u);r+=l-a.size,n.push(this.Mr.addEntry(e,o,u))}else if(r-=a.size,this.trackRemovals){const u=$k(this.Mr.serializer,s.convertToNoDocument(le.min()));n.push(this.Mr.addEntry(e,o,u))}}),i.forEach(o=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.Mr.updateMetadata(e,r)),V.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next(r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Mr.vr(e,n).next(({documents:r,Fr:i})=>(i.forEach((o,s)=>{this.Or.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function eD(t){return $t(t,Oh)}function fs(t){return $t(t,Pg)}function Oc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function tD(t,e){const n=e.documentKey.path.toArray();return[t,Vg(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function nD(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=pe(n[o],r[o]),i)return i;return i=pe(n.length,r.length),i||(i=pe(n[n.length-2],r[r.length-2]),i||pe(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_f(r.mutation,i,cr.empty(),Me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Yr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Uc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Yr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Ln();const s=vf(),a=function(){return vf()}();return n.forEach((u,l)=>{const c=r.get(l.key);i.has(l.key)&&(c===void 0||c.mutation instanceof ts)?o=o.insert(l.key,l):c!==void 0?(s.set(l.key,c.mutation.getFieldMask()),_f(c.mutation,l,c.mutation.getFieldMask(),Me.now())):s.set(l.key,cr.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,c)=>s.set(l,c)),n.forEach((l,c)=>a.set(l,new w1e(c,s.get(l)??null))),a))}recalculateAndSaveOverlays(e,n){const r=vf();let i=new it((s,a)=>s-a),o=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const l=n.get(u);if(l===null)return;let c=r.get(u)||cr.empty();c=a.applyToLocalView(l,c),r.set(u,c);const f=(i.get(a.batchId)||be()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),l=u.key,c=u.value,f=I6();c.forEach(d=>{if(!o.has(d)){const p=D6(n.get(d),r.get(d));p!==null&&f.set(d,p),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,f))}return V.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return Tbe(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):T6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):V.resolve(Yr());let a=Sh,u=o;return s.next(l=>V.forEach(l,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(d=>{u=u.insert(c,d)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,be())).next(c=>({batchId:a,changes:A6(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let i=Uc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Uc();return this.indexManager.getCollectionParents(e,o).next(a=>V.forEach(a,u=>{const l=function(f,d){return new od(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(c=>{c.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{const c=l.getKey();s.get(c)===null&&(s=s.insert(c,vt.newInvalidDocument(c)))});let a=Uc();return s.forEach((u,l)=>{const c=o.get(u);c!==void 0&&_f(c.mutation,l,cr.empty(),Me.now()),sd(n,l)&&(a=a.insert(u,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1e{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return V.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yn(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:Z6(i.bundledQuery),readTime:yn(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1e{constructor(){this.overlays=new it(te.comparator),this.Lr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yr();return V.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.bt(e,n,o)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Lr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Yr(),o=n.length+1,s=new te(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new it((l,c)=>l-c);const s=this.overlays.getIterator();for(;s.hasNext();){const l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let c=o.get(l.largestBatchId);c===null&&(c=Yr(),o=o.insert(l.largestBatchId,c)),c.set(l.getKey(),l)}}const a=Yr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,c)=>a.set(l,c)),!(a.size()>=i)););return V.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new GE(n,r));let o=this.Lr.get(n);o===void 0&&(o=be(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1e{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.kr=new je(Ut.Kr),this.qr=new je(Ut.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ut(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new te(new ke([])),r=new Ut(n,e),i=new Ut(n,e+1),o=[];return this.qr.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new te(new ke([])),r=new Ut(n,e),i=new Ut(n,e+1);let o=be();return this.qr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ut(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return te.comparator(e.key,n.key)||pe(e.Hr,n.Hr)}static Ur(e,n){return pe(e.Hr,n.Hr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new je(Ut.Kr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new HE(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Jr=this.Jr.add(new Ut(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(s)}lookupMutationBatch(e,n){return V.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Hs:this.Yn-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],s=>{const a=this.Zr(s.Hr);o.push(a)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new je(pe);return n.forEach(i=>{const o=new Ut(i,0),s=new Ut(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),V.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;te.isDocumentKey(o)||(o=o.child(""));const s=new Ut(new te(o),0);let a=new je(pe);return this.Jr.forEachWhile(u=>{const l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),V.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return V.forEach(n.mutations,i=>{const o=new Ut(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Jr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e){this.ti=e,this.docs=function(){return new it(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ln();const s=n.path,a=new te(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:l,value:{document:c}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||ME(H3(c),r)<=0||(i.has(c.key)||sd(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ae(9500)}ni(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new A1e(this)}getSize(e){return V.resolve(this.size)}}class A1e extends uF{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1e{constructor(e){this.persistence=e,this.ri=new qi(n=>sa(n),id),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ii=0,this.si=new JE,this.targetCount=0,this.oi=la._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),V.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new la(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.lr(n),V.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(o).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n){this._i={},this.overlays={},this.ai=new lr(0),this.ui=!1,this.ui=!0,this.ci=new x1e,this.referenceDelegate=e(this),this.li=new I1e(this),this.indexManager=new f1e,this.remoteDocumentCache=function(i){return new S1e(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Q6(n),this.Pi=new b1e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T1e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new E1e(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new P1e(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(o=>this.referenceDelegate.Ii(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return V.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class P1e extends G3{constructor(e){super(),this.currentSequenceNumber=e}}class Rv{constructor(e){this.persistence=e,this.Ri=new JE,this.Ai=null}static Vi(e){return new Rv(e)}get di(){if(this.Ai)return this.Ai;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),V.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.di,r=>{const i=te.fromPath(r);return this.mi(e,i).next(o=>{o||n.removeEntry(i,le.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return V.or([()=>V.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Lg{constructor(e,n){this.persistence=e,this.fi=new qi(r=>cn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=aF(this,n)}static Vi(e,n){return new Lg(e,n)}Ti(){}Ii(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return V.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(o=>o?V.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,s=>this.wr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,le.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),V.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),V.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Lp(e.data.value)),n}wr(e,n,r){return V.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return V.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1e{constructor(e){this.serializer=e}k(e,n,r,i){const o=new gv("createOrUpgrade",n);r<1&&i>=1&&(function(u){u.createObjectStore(rd)}(e),function(u){u.createObjectStore(Ph,{keyPath:$we}),u.createObjectStore(Sr,{keyPath:dk,autoIncrement:!0}).createIndex(Ns,pk,{unique:!0}),u.createObjectStore(ul)}(e),rD(e),function(u){u.createObjectStore(Ts)}(e));let s=V.resolve();return r<3&&i>=3&&(r!==0&&(function(u){u.deleteObjectStore(cl),u.deleteObjectStore(ll),u.deleteObjectStore(qs)}(e),rD(e)),s=s.next(()=>function(u){const l=u.store(qs),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:le.min().toTimestamp(),targetCount:0};return l.put(Og,c)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(u,l){return l.store(Sr).H().next(f=>{u.deleteObjectStore(Sr),u.createObjectStore(Sr,{keyPath:dk,autoIncrement:!0}).createIndex(Ns,pk,{unique:!0});const d=l.store(Sr),p=f.map(g=>d.put(g));return V.waitFor(p)})}(e,o))),s=s.next(()=>{(function(u){u.createObjectStore(fl,{keyPath:qwe})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.gi(o))),r<6&&i>=6&&(s=s.next(()=>(function(u){u.createObjectStore(Oh)}(e),this.pi(o)))),r<7&&i>=7&&(s=s.next(()=>this.yi(o))),r<8&&i>=8&&(s=s.next(()=>this.wi(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.bi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(u){u.createObjectStore(vv,{keyPath:Gwe})})(e),function(u){u.createObjectStore(_v,{keyPath:Kwe})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(u){const l=u.createObjectStore(wv,{keyPath:tbe});l.createIndex(S1,nbe,{unique:!1}),l.createIndex(e6,rbe,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(u){const l=u.createObjectStore(Pg,{keyPath:Lwe});l.createIndex($p,Fwe),l.createIndex(X3,Bwe)}(e)).next(()=>this.Si(e,o)).next(()=>e.deleteObjectStore(Ts))),r<14&&i>=14&&(s=s.next(()=>this.Di(e,o))),r<15&&i>=15&&(s=s.next(()=>function(u){u.createObjectStore($E,{keyPath:Ywe,autoIncrement:!0}).createIndex(E1,Xwe,{unique:!1}),u.createObjectStore(pf,{keyPath:Qwe}).createIndex(J3,Jwe,{unique:!1}),u.createObjectStore(mf,{keyPath:Zwe}).createIndex(Z3,ebe,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore(pf).clear()}).next(()=>{n.objectStore(mf).clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(u){u.createObjectStore(jE,{keyPath:ibe})})(e)})),r<18&&i>=18&&A3()&&(s=s.next(()=>{n.objectStore(pf).clear()}).next(()=>{n.objectStore(mf).clear()})),s}pi(e){let n=0;return e.store(Ts).ee((r,i)=>{n+=jg(i)}).next(()=>{const r={byteSize:n};return e.store(Oh).put(x1,r)})}gi(e){const n=e.store(Ph),r=e.store(Sr);return n.H().next(i=>V.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,Hs],[o.userId,o.lastAcknowledgedBatchId]);return r.H(Ns,s).next(a=>V.forEach(a,u=>{ue(u.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:u.batchId});const l=Ss(this.serializer,u);return rF(e,o.userId,l).next(()=>{})}))}))}yi(e){const n=e.store(cl),r=e.store(Ts);return e.store(qs).get(Og).next(i=>{const o=[];return r.ee((s,a)=>{const u=new ke(s),l=function(f){return[0,cn(f)]}(u);o.push(n.get(l).next(c=>c?V.resolve():(f=>n.put({targetId:0,path:cn(f),sequenceNumber:i.highestListenSequenceNumber}))(u)))}).next(()=>V.waitFor(o))})}wi(e,n){e.createObjectStore(Ch,{keyPath:Hwe});const r=n.store(Ch),i=new QE,o=s=>{if(i.add(s)){const a=s.lastSegment(),u=s.popLast();return r.put({collectionId:a,parent:cn(u)})}};return n.store(Ts).ee({Y:!0},(s,a)=>{const u=new ke(s);return o(u.popLast())}).next(()=>n.store(ul).ee({Y:!0},([s,a,u],l)=>{const c=Kr(a);return o(c.popLast())}))}bi(e){const n=e.store(ll);return n.ee((r,i)=>{const o=Wc(i),s=J6(this.serializer,o);return n.put(s)})}Si(e,n){const r=n.store(Ts),i=[];return r.ee((o,s)=>{const a=n.store(Pg),u=function(f){return f.document?new te(ke.fromString(f.document.name).popFirst(5)):f.noDocument?te.fromSegments(f.noDocument.path):f.unknownDocument?te.fromSegments(f.unknownDocument.path):ae(36783)}(s).path.toArray(),l={prefixPath:u.slice(0,u.length-2),collectionGroup:u[u.length-2],documentId:u[u.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(l))}).next(()=>V.waitFor(i))}Di(e,n){const r=n.store(Sr),i=lF(this.serializer),o=new ZE(Rv.Vi,this.serializer.yt);return r.H().next(s=>{const a=new Map;return s.forEach(u=>{let l=a.get(u.userId)??be();Ss(this.serializer,u).keys().forEach(c=>l=l.add(c)),a.set(u.userId,l)}),V.forEach(a,(u,l)=>{const c=new Xt(l),f=Ov.wt(this.serializer,c),d=o.getIndexManager(c),p=Cv.wt(c,this.serializer,d,o.referenceDelegate);return new cF(i,p,f,d).recalculateAndSaveOverlaysForDocumentKeys(new A1(n,lr.ce),u).next()})})}}function rD(t){t.createObjectStore(cl,{keyPath:zwe}).createIndex(VE,Wwe,{unique:!0}),t.createObjectStore(ll,{keyPath:"targetId"}).createIndex(Q3,Uwe,{unique:!0}),t.createObjectStore(qs)}const io="IndexedDbPersistence",I_=18e5,P_=5e3,O_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",C1e="main";class eS{constructor(e,n,r,i,o,s,a,u,l,c,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=o,this.window=s,this.document=a,this.Fi=l,this.Mi=c,this.xi=f,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=d=>Promise.resolve(),!eS.v())throw new ee(z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new y1e(this,i),this.Ki=n+C1e,this.serializer=new Q6(u),this.qi=new Do(this.Ki,this.xi,new O1e(this.serializer)),this.ci=new o1e,this.li=new d1e(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lF(this.serializer),this.Pi=new i1e,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,c===!1&&pn(io,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(z.FAILED_PRECONDITION,O_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.li.getHighestSequenceNumber(e))}).then(e=>{this.ai=new lr(e,this.Fi)}).then(()=>{this.ui=!0}).catch(e=>(this.qi&&this.qi.close(),Promise.reject(e)))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget(async()=>{this.started&&await this.$i()}))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>mp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ji(e).next(n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Ji(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(es(e))return X(io,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X(io,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable(()=>this.ki(e)),this.isPrimary=e})}ji(e){return Cc(e).get(Ma).next(n=>V.resolve(this.Xi(n)))}Yi(e){return mp(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,I_)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=$t(n,fl);return r.H().next(i=>{const o=this.ns(i,I_),s=i.filter(a=>o.indexOf(a)===-1);return V.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.$i().then(()=>this.es()).then(()=>this.Gi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?V.resolve(!0):Cc(e).get(Ma).next(n=>{if(n!==null&&this.ts(n.leaseTimestampMs,P_)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new ee(z.FAILED_PRECONDITION,O_);return!1}}return!(!this.networkEnabled||!this.inForeground)||mp(e).H().next(r=>this.ns(r,P_).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X(io,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[rd,fl],e=>{const n=new A1(e,lr.ce);return this.Ji(n).next(()=>this.Yi(n))}),this.qi.close(),this.ls()}ns(e,n){return e.filter(r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId))}hs(){return this.runTransaction("getActiveClients","readonly",e=>mp(e).H().next(n=>this.ns(n,I_).map(r=>r.clientId)))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return Cv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h1e(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ov.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){X(io,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(u){return u===18?abe:u===17?i6:u===16?sbe:u===15?LE:u===14?r6:u===13?n6:u===12?obe:u===11?t6:void ae(60245)}(this.xi);let s;return this.qi.runTransaction(e,i,o,a=>(s=new A1(a,this.ai?this.ai.next():lr.ce),n==="readwrite-primary"?this.ji(s).next(u=>!!u||this.Hi(s)).next(u=>{if(!u)throw pn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable(()=>this.ki(!1)),new ee(z.FAILED_PRECONDITION,q3);return r(s)}).next(u=>this.Zi(s).next(()=>u)):this.Ps(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ps(e){return Cc(e).get(Ma).next(n=>{if(n!==null&&this.ts(n.leaseTimestampMs,P_)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(z.FAILED_PRECONDITION,O_)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Cc(e).put(Ma,n)}static v(){return Do.v()}Ji(e){const n=Cc(e);return n.get(Ma).next(r=>this.Xi(r)?(X(io,"Releasing primary lease."),n.delete(Ma)):V.resolve())}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(pn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.$i()))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Oi=()=>{this._s();const n=/(?:Version|Mobile)\/1[456]/;S3()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){var n;try{const r=((n=this.Ui)==null?void 0:n.getItem(this.rs(e)))!==null;return X(io,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return pn(io,"Failed to get zombied client id.",r),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){pn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Cc(t){return $t(t,rd)}function mp(t){return $t(t,fl)}function R1e(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=be(),i=be();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new tS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return S3()?8:K3(Nt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ps(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new k1e;return this.ys(e,n,s).next(a=>{if(o.result=a,this.As)return this.ws(e,n,s,a.size)})}).next(()=>o.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Ba()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),V.resolve()):(Ba()<=Ee.DEBUG&&X("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ba()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):V.resolve())}gs(e,n){if(Ik(n))return V.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=D1(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=be(...o);return this.fs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const l=this.bs(n,a);return this.Ss(n,l,s,u.readTime)?this.gs(e,D1(n,null,"F")):this.Ds(e,l,n,u)}))})))}ps(e,n,r,i){return Ik(n)||i.isEqual(le.min())?V.resolve(null):this.fs.getDocuments(e,r).next(o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?V.resolve(null):(Ba()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.Ds(e,s,n,Cwe(i,Sh)).next(a=>a))})}bs(e,n){let r=new je(E6(e));return n.forEach((i,o)=>{sd(e,o)&&(r=r.add(o))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return Ba()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.fs.getDocumentsMatchingQuery(e,n,qn.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="LocalStore",D1e=3e8;class M1e{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new it(pe),this.Fs=new qi(o=>sa(o),id),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function hF(t,e,n,r){return new M1e(t,e,n,r)}async function dF(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=be();for(const l of i){s.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}for(const l of o){a.push(l.batchId);for(const c of l.mutations)u=u.add(c.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ns:l,removedBatchIds:s,addedBatchIds:a}))})})}function N1e(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,c){const f=l.batch,d=f.keys();let p=V.resolve();return d.forEach(g=>{p=p.next(()=>c.getEntry(u,g)).next(m=>{const b=l.docVersions.get(g);ue(b!==null,48541),m.version.compareTo(b)<0&&(f.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),c.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=be();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pF(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function V1e(t,e){const n=me(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((c,f)=>{const d=i.get(f);if(!d)return;a.push(n.li.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.li.addMatchingKeys(o,c.addedDocuments,f)));let p=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Pt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(m,b,y){return m.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=D1e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,p,c)&&a.push(n.li.updateTargetData(o,p))});let u=Ln(),l=be();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push($1e(o,s,e.documentUpdates).next(c=>{u=c.Bs,l=c.Ls})),!r.isEqual(le.min())){const c=n.li.getLastRemoteSnapshotVersion(o).next(f=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.vs=i,o))}function $1e(t,e,n){let r=be(),i=be();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Ln();return n.forEach((a,u)=>{const l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(le.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):X(nS,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Bs:s,Ls:i}})}function j1e(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hs),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L1e(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(o=>o?(i=o,V.resolve(i)):n.li.allocateTargetId(r).next(s=>(i=new wi(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function B1(t,e,n){const r=me(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!es(s))throw s;X(nS,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function iD(t,e,n){const r=me(t);let i=le.min(),o=be();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,c){const f=me(u),d=f.Fs.get(c);return d!==void 0?V.resolve(f.vs.get(d)):f.li.getTargetData(l,c)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:le.min(),n?o:be())).next(a=>(F1e(r,Ebe(e),a),{documents:a,ks:o})))}function F1e(t,e,n){let r=t.Ms.get(e)||le.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Ms.set(e,r)}class oD{constructor(){this.activeTargetIds=Cbe()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mF{constructor(){this.vo=new oD,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new oD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1e{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="ConnectivityMonitor";class aD{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){X(sD,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){X(sD,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gp=null;function U1(){return gp===null?gp=function(){return 268435456+Math.round(2147483648*Math.random())}():gp++,"0x"+gp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="RestConnection",U1e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class z1e{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Cg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=U1(),a=this.Qo(e,n.toUriEncodedString());X(C_,`Sending RPC '${e}' ${s}:`,a,r);const u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(u,i,o);const{host:l}=new URL(a),c=jl(l);return this.zo(e,a,u,r,c).then(f=>(X(C_,`Received RPC '${e}' ${s}: `,f),f),f=>{throw ia(C_,`RPC '${e}' ${s} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Qo(e,n){const r=U1e[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1e{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection",Rc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class Tu extends z1e{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Tu.c_){const e=j3();Rc(e,$3.STAT_EVENT,n=>{n.stat===w1.PROXY?X(on,"STAT_EVENT: detected buffering proxy"):n.stat===w1.NOPROXY&&X(on,"STAT_EVENT: detected no buffering proxy")}),Tu.c_=!0}}zo(e,n,r,i,o){const s=U1();return new Promise((a,u)=>{const l=new N3;l.setWithCredentials(!0),l.listenOnce(V3.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mp.NO_ERROR:const f=l.getResponseJson();X(on,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Mp.TIMEOUT:X(on,`RPC '${e}' ${s} timed out`),u(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case Mp.HTTP_ERROR:const d=l.getStatus();if(X(on,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const m=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(g.status);u(new ee(m,g.message))}else u(new ee(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new ee(z.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:s,h_:l.getLastErrorCode(),P_:l.getLastError()})}}finally{X(on,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(on,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}T_(e,n,r){const i=U1(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const l=o.join("");X(on,`Creating RPC '${e}' stream ${i}: ${l}`,a);const c=s.createWebChannel(l,a);this.I_(c);let f=!1,d=!1;const p=new W1e({Ho:g=>{d?X(on,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(f||(X(on,`Opening RPC '${e}' stream ${i} transport.`),c.open(),f=!0),X(on,`RPC '${e}' stream ${i} sending:`,g),c.send(g))},Jo:()=>c.close()});return Rc(c,Bc.EventType.OPEN,()=>{d||(X(on,`RPC '${e}' stream ${i} transport opened.`),p.i_())}),Rc(c,Bc.EventType.CLOSE,()=>{d||(d=!0,X(on,`RPC '${e}' stream ${i} transport closed`),p.o_(),this.E_(c))}),Rc(c,Bc.EventType.ERROR,g=>{d||(d=!0,ia(on,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),p.o_(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),Rc(c,Bc.EventType.MESSAGE,g=>{var m;if(!d){const b=g.data[0];ue(!!b,16349);const y=b,_=(y==null?void 0:y.error)||((m=y[0])==null?void 0:m.error);if(_){X(on,`RPC '${e}' stream ${i} received error:`,_);const E=_.status;let P=function(w){const T=Et[w];if(T!==void 0)return V6(T)}(E),x=_.message;P===void 0&&(P=z.INTERNAL,x="Unknown error status: "+E+" with message "+_.message),d=!0,p.o_(new ee(P,x)),c.close()}else X(on,`RPC '${e}' stream ${i} received:`,b),p.__(b)}}),Tu.u_(),setTimeout(()=>{p.s_()},0),p}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return L3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1e(t){return new Tu(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1e(){return typeof window<"u"?window:null}function Wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(t){return new Gbe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tu.c_=!1;class gF{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="PersistentStream";class yF{constructor(e,n,r,i,o,s,a,u){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new gF(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(pn(n.toString()),pn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(uD,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(X(uD,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G1e extends yF{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Xbe(this.serializer,e),r=function(o){if(!("targetChange"in o))return le.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?yn(s.readTime):le.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=V1(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=kg(u)?{documents:W6(o,u)}:{query:H6(o,u).ft},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=L6(o,s.resumeToken);const l=M1(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=vl(o,s.snapshotVersion.toTimestamp());const l=M1(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);const r=Jbe(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=V1(this.serializer),n.removeTarget=e,this.K_(n)}}class K1e extends yF{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Qbe(e.writeResults,e.commitTime),r=yn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=V1(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ng(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1e{}class X1e extends Y1e{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,N1(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.jo(e,N1(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function Q1e(t,e,n,r){return new X1e(t,e,n,r)}class J1e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pn(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class Z1e{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo(s=>{r.enqueueAndForget(async()=>{Sa(this)&&(X(ca,"Restarting streams for network reachability change."),await async function(u){const l=me(u);l.Ea.add(4),await ud(l),l.Va.set("Unknown"),l.Ea.delete(4),await Dv(l)}(this))})}),this.Va=new J1e(r,i)}}async function Dv(t){if(Sa(t))for(const e of t.Ra)await e(!0)}async function ud(t){for(const e of t.Ra)await e(!1)}function vF(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),sS(n)?oS(n):Ul(n).O_()&&iS(n,e))}function rS(t,e){const n=me(t),r=Ul(n);n.Ia.delete(e),r.O_()&&_F(n,e),n.Ia.size===0&&(r.O_()?r.L_():Sa(n)&&n.Va.set("Unknown"))}function iS(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ul(t).Z_(e)}function _F(t,e){t.da.$e(e),Ul(t).X_(e)}function oS(t){t.da=new zbe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ul(t).start(),t.Va.ua()}function sS(t){return Sa(t)&&!Ul(t).x_()&&t.Ia.size>0}function Sa(t){return me(t).Ea.size===0}function wF(t){t.da=void 0}async function eTe(t){t.Va.set("Online")}async function tTe(t){t.Ia.forEach((e,n)=>{iS(t,e)})}async function nTe(t,e){wF(t),sS(t)?(t.Va.ha(e),oS(t)):t.Va.set("Unknown")}async function rTe(t,e,n){if(t.Va.set("Online"),e instanceof j6&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){X(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fg(t,r)}else if(e instanceof Up?t.da.Xe(e):e instanceof $6?t.da.st(e):t.da.tt(e),!n.isEqual(le.min()))try{const r=await pF(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.da.Tt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const c=o.Ia.get(l);c&&o.Ia.set(l,c.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{const c=o.Ia.get(u);if(!c)return;o.Ia.set(u,c.withResumeToken(Pt.EMPTY_BYTE_STRING,c.snapshotVersion)),_F(o,u);const f=new wi(c.target,u,l,c.sequenceNumber);iS(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(ca,"Failed to raise snapshot:",r),await Fg(t,r)}}async function Fg(t,e,n){if(!es(e))throw e;t.Ea.add(1),await ud(t),t.Va.set("Offline"),n||(n=()=>pF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(ca,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Dv(t)})}function bF(t,e){return e().catch(n=>Fg(t,n,e))}async function ld(t){const e=me(t),n=zo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hs;for(;iTe(e);)try{const i=await j1e(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,oTe(e,i)}catch(i){await Fg(e,i)}TF(e)&&xF(e)}function iTe(t){return Sa(t)&&t.Ta.length<10}function oTe(t,e){t.Ta.push(e);const n=zo(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function TF(t){return Sa(t)&&!zo(t).x_()&&t.Ta.length>0}function xF(t){zo(t).start()}async function sTe(t){zo(t).ra()}async function aTe(t){const e=zo(t);for(const n of t.Ta)e.ea(n.mutations)}async function uTe(t,e,n){const r=t.Ta.shift(),i=qE.from(r,e,n);await bF(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ld(t)}async function lTe(t,e){e&&zo(t).Y_&&await async function(r,i){if(function(s){return Fbe(s)&&s!==z.ABORTED}(i.code)){const o=r.Ta.shift();zo(r).B_(),await bF(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await ld(r)}}(t,e),TF(t)&&xF(t)}async function lD(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),X(ca,"RemoteStore received new credentials");const r=Sa(n);n.Ea.add(3),await ud(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dv(n)}async function cTe(t,e){const n=me(t);e?(n.Ea.delete(2),await Dv(n)):e||(n.Ea.add(2),await ud(n),n.Va.set("Unknown"))}function Ul(t){return t.ma||(t.ma=function(n,r,i){const o=me(n);return o.sa(),new G1e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:eTe.bind(null,t),Yo:tTe.bind(null,t),t_:nTe.bind(null,t),J_:rTe.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),sS(t)?oS(t):t.Va.set("Unknown")):(await t.ma.stop(),wF(t))})),t.ma}function zo(t){return t.fa||(t.fa=function(n,r,i){const o=me(n);return o.sa(),new K1e(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sTe.bind(null,t),t_:lTe.bind(null,t),ta:aTe.bind(null,t),na:uTe.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await ld(t)):(await t.fa.stop(),t.Ta.length>0&&(X(ca,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new aS(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uS(t,e){if(pn("AsyncQueue",`${e}: ${t}`),es(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{static emptySet(e){return new xu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=Uc(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.ga=new it(te.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class _l{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new _l(e,n,xu.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ev(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fTe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class hTe{constructor(){this.queries=fD(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=me(n),o=i.queries;i.queries=fD(),o.forEach((s,a)=>{for(const u of a.ba)u.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function fD(){return new qi(t=>x6(t),Ev)}async function dTe(t,e){const n=me(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new fTe,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=uS(s,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&lS(n)}async function pTe(t,e){const n=me(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mTe(t,e){const n=me(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.ba)a.Fa(i)&&(r=!0);s.wa=i}}r&&lS(n)}function gTe(t,e,n){const r=me(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function lS(t){t.Ca.forEach(e=>{e.next()})}var z1,hD;(hD=z1||(z1={})).Ma="default",hD.Cache="cache";class yTe{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new _l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==z1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e){this.key=e}}class SF{constructor(e){this.key=e}}class vTe{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=be(),this.mutatedKeys=be(),this.eu=E6(e),this.tu=new xu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new cD,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const d=i.get(c),p=sd(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let b=!1;d&&p?d.data.isEqual(p.data)?g!==m&&(r.track({type:3,doc:p}),b=!0):this.su(d,p)||(r.track({type:2,doc:p}),b=!0,(u&&this.eu(p,u)>0||l&&this.eu(p,l)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),b=!0):d&&!p&&(r.track({type:1,doc:d}),b=!0,(u||l)&&(a=!0)),b&&(p?(s=s.add(p),o=m?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{tu:s,iu:r,Ss:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((c,f)=>function(p,g){const m=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Vt:b})}};return m(p)-m(g)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Xa;return this.Xa=u,s.length!==0||l?{snapshot:new _l(this.query,e.tu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cD,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new SF(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new EF(r))}),n}cu(e){this.Za=e.ks,this.Ya=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const cS="SyncEngine";class _Te{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wTe{constructor(e){this.key=e,this.hu=!1}}class bTe{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new qi(a=>x6(a),Ev),this.Iu=new Map,this.Eu=new Set,this.Ru=new it(te.comparator),this.Au=new Map,this.Vu=new JE,this.du={},this.mu=new Map,this.fu=la.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TTe(t,e,n=!0){const r=RF(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await AF(r,e,n,!0),i}async function xTe(t,e){const n=RF(t);await AF(n,e,!0,!1)}async function AF(t,e,n,r){const i=await L1e(t.localStore,dr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await ETe(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&vF(t.remoteStore,i),a}async function ETe(t,e,n,r,i){t.pu=(f,d,p)=>async function(m,b,y,_){let E=b.view.ru(y);E.Ss&&(E=await iD(m.localStore,b.query,!1).then(({documents:w})=>b.view.ru(w,E)));const P=_&&_.targetChanges.get(b.targetId),x=_&&_.targetMismatches.get(b.targetId)!=null,S=b.view.applyChanges(E,m.isPrimaryClient,P,x);return pD(m,b.targetId,S.au),S.snapshot}(t,f,d,p);const o=await iD(t.localStore,e,!0),s=new vTe(e,o.ks),a=s.ru(o.documents),u=ad.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);pD(t,n,l.au);const c=new _Te(e,n,s);return t.Tu.set(e,c),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),l.snapshot}async function STe(t,e,n){const r=me(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter(s=>!Ev(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await B1(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rS(r.remoteStore,i.targetId),W1(r,i.targetId)}).catch(xa)):(W1(r,i.targetId),await B1(r.localStore,i.targetId,!0))}async function ATe(t,e){const n=me(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rS(n.remoteStore,r.targetId))}async function ITe(t,e,n){const r=kF(t);try{const i=await function(s,a){const u=me(s),l=Me.now(),c=a.reduce((p,g)=>p.add(g.key),be());let f,d;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ln(),m=be();return u.xs.getEntries(p,c).next(b=>{g=b,g.forEach((y,_)=>{_.isValidDocument()||(m=m.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,g)).next(b=>{f=b;const y=[];for(const _ of a){const E=jbe(_,f.get(_.key).overlayedDocument);E!=null&&y.push(new ts(_.key,E,p6(E.value.mapValue),In.exists(!0)))}return u.mutationQueue.addMutationBatch(p,l,y,a)}).next(b=>{d=b;const y=b.applyToLocalDocumentSet(f,m);return u.documentOverlayCache.saveOverlays(p,b.batchId,y)})}).then(()=>({batchId:d.batchId,changes:A6(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.du[s.currentUser.toKey()];l||(l=new it(pe)),l=l.insert(a,u),s.du[s.currentUser.toKey()]=l}(r,i.batchId,n),await cd(r,i.changes),await ld(r.remoteStore)}catch(i){const o=uS(i,"Failed to persist write");n.reject(o)}}async function IF(t,e){const n=me(t);try{const r=await V1e(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Au.get(o);s&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?ue(s.hu,14607):i.removedDocuments.size>0&&(ue(s.hu,42227),s.hu=!1))}),await cd(n,r,e)}catch(r){await xa(r)}}function dD(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((o,s)=>{const a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=me(s);u.onlineState=a;let l=!1;u.queries.forEach((c,f)=>{for(const d of f.ba)d.va(a)&&(l=!0)}),l&&lS(u)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PTe(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new it(te.comparator);s=s.insert(o,vt.newNoDocument(o,le.min()));const a=be().add(o),u=new Pv(le.min(),new Map,new it(pe),s,a);await IF(r,u),r.Ru=r.Ru.remove(o),r.Au.delete(e),fS(r)}else await B1(r.localStore,e,!1).then(()=>W1(r,e,n)).catch(xa)}async function OTe(t,e){const n=me(t),r=e.batch.batchId;try{const i=await N1e(n.localStore,e);OF(n,r,null),PF(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await cd(n,i)}catch(i){await xa(i)}}async function CTe(t,e,n){const r=me(t);try{const i=await function(s,a){const u=me(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return u.mutationQueue.lookupMutationBatch(l,a).next(f=>(ue(f!==null,37113),c=f.keys(),u.mutationQueue.removeMutationBatch(l,f))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,c,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>u.localDocuments.getDocuments(l,c))})}(r.localStore,e);OF(r,e,n),PF(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await cd(r,i)}catch(i){await xa(i)}}function PF(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function OF(t,e,n){const r=me(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function W1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||CF(t,r)})}function CF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(rS(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),fS(t))}function pD(t,e,n){for(const r of n)r instanceof EF?(t.Vu.addReference(r.key,e),RTe(t,r)):r instanceof SF?(X(cS,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||CF(t,r.key)):ae(19791,{wu:r})}function RTe(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(X(cS,"New document in limbo: "+n),t.Eu.add(r),fS(t))}function fS(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new te(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new wTe(n)),t.Ru=t.Ru.insert(n,r),vF(t.remoteStore,new wi(dr(xv(n.path)),r,"TargetPurposeLimboResolution",lr.ce))}}async function cd(t,e,n){const r=me(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{s.push(r.pu(u,e,n).then(l=>{var c;if((l||n)&&r.isPrimaryClient){const f=l?!l.fromCache:(c=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:c.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);const f=tS.Es(u.targetId,l);o.push(f)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(u,l){const c=me(u);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(l,d=>V.forEach(d.Ts,p=>c.persistence.referenceDelegate.addReference(f,d.targetId,p)).next(()=>V.forEach(d.Is,p=>c.persistence.referenceDelegate.removeReference(f,d.targetId,p)))))}catch(f){if(!es(f))throw f;X(nS,"Failed to update sequence numbers: "+f)}for(const f of l){const d=f.targetId;if(!f.fromCache){const p=c.vs.get(d),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);c.vs=c.vs.insert(d,m)}}}(r.localStore,o))}async function kTe(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){X(cS,"User change. New user:",e.toKey());const r=await dF(n.localStore,e);n.currentUser=e,function(o,s){o.mu.forEach(a=>{a.forEach(u=>{u.reject(new ee(z.CANCELLED,s))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cd(n,r.Ns)}}function DTe(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let i=be();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const a=n.Tu.get(s);i=i.unionWith(a.view.nu)}return i}}function RF(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DTe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PTe.bind(null,e),e.Pu.J_=mTe.bind(null,e.eventManager),e.Pu.yu=gTe.bind(null,e.eventManager),e}function kF(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OTe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CTe.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return hF(this.persistence,new fF,e.initialUser,this.serializer)}Cu(e){return new ZE(Rv.Vi,this.serializer)}Du(e){return new mF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class MTe extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof Lg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new sF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new ZE(r=>Lg.Vi(r,n),this.serializer)}}class NTe extends $h{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await kF(this.xu.syncEngine),await ld(this.xu.remoteStore),await this.persistence.zi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return hF(this.persistence,new fF,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new sF(r,e.asyncQueue,n)}Mu(e,n){const r=new Mwe(n,this.persistence);return new Dwe(e.asyncQueue,r)}Cu(e){const n=R1e(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new eS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,q1e(),Wp(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new mF}}class Bg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kTe.bind(null,this.syncEngine),await cTe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hTe}()}createDatastore(e){const n=kv(e.databaseInfo.databaseId),r=H1e(e.databaseInfo);return Q1e(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new Z1e(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dD(this.syncEngine,n,0),function(){return aD.v()?new aD:new B1e}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,c){const f=new bTe(i,o,s,a,u,l);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=me(i);X(ca,"RemoteStore shutting down."),o.Ea.add(5),await ud(o),o.Aa.shutdown(),o.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Bg.provider={build:()=>new Bg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VTe{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="FirestoreClient";class $Te{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=DE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{X(Wo,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X(Wo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ko;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=uS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function R_(t,e){t.asyncQueue.verifyOperationInProgress(),X(Wo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await dF(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jTe(t);X(Wo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>lD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>lD(e.remoteStore,i)),t._onlineComponents=e}async function jTe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Wo,"Using user provided OfflineComponentProvider");try{await R_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await R_(t,new $h)}}else X(Wo,"Using default OfflineComponentProvider"),await R_(t,new MTe(void 0));return t._offlineComponents}async function DF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Wo,"Using user provided OnlineComponentProvider"),await mD(t,t._uninitializedComponentsProvider._online)):(X(Wo,"Using default OnlineComponentProvider"),await mD(t,new Bg))),t._onlineComponents}function LTe(t){return DF(t).then(e=>e.syncEngine)}async function gD(t){const e=await DF(t),n=e.eventManager;return n.onListen=TTe.bind(null,e.syncEngine),n.onUnlisten=STe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xTe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ATe.bind(null,e.syncEngine),n}function FTe(t,e,n,r){const i=new VTe(r),o=new yTe(e,i,n);return t.asyncQueue.enqueueAndForget(async()=>dTe(await gD(t),o)),()=>{i.Nu(),t.asyncQueue.enqueueAndForget(async()=>pTe(await gD(t),o))}}function BTe(t,e){const n=new ko;return t.asyncQueue.enqueueAndForget(async()=>ITe(await LTe(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UTe="ComponentProvider",yD=new Map;function zTe(t,e,n,r,i){return new lbe(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,MF(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NF="firestore.googleapis.com",vD=!0;class _D{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NF,this.ssl=vD}else this.host=e.host,this.ssl=e.ssl??vD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p1e)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Owe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MF(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Mv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _D({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _D(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _we;switch(r.type){case"firstParty":return new xwe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yD.get(n);r&&(X(UTe,"Removing Datastore"),yD.delete(n),r.terminate())}(this),Promise.resolve()}}function WTe(t,e,n,r={}){var l;t=Ws(t,Mv);const i=jl(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(b3(`https://${a}`),T3("Firestore",!0)),o.host!==NF&&o.host!==a&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...o,host:a,ssl:i,emulatorOptions:r};if(!Fo(u,s)&&(t._setSettings(u),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=Xt.MOCK_USER;else{c=W0e(r.mockUserToken,(l=t._app)==null?void 0:l.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xt(d)}t._authCredentials=new wwe(new B3(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zl(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(nd(n,Mt._jsonSchema))return new Mt(e,r||null,new te(ke.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:At("string",Mt._jsonSchemaVersion),referencePath:At("string")};class Mo extends zl{constructor(e,n,r){super(e,n,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new te(e))}withConverter(e){return new Mo(this.firestore,e,this._path)}}function wD(t,e,...n){if(t=Ht(t),z3("collection","path",e),t instanceof Mv){const r=ke.fromString(e,...n);return uk(r),new Mo(t,null,r)}{if(!(t instanceof Mt||t instanceof Mo))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return uk(r),new Mo(t.firestore,null,r)}}function VF(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=DE.newId()),z3("doc","path",e),t instanceof Mv){const r=ke.fromString(e,...n);return ak(r),new Mt(t,null,new te(r))}{if(!(t instanceof Mt||t instanceof Mo))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return ak(r),new Mt(t.firestore,t instanceof Mo?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="AsyncQueue";class TD{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new gF(this,"async_queue_retry"),this._c=()=>{const r=Wp();r&&X(bD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ko;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!es(e))throw e;X(bD,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,pn("INTERNAL UNHANDLED ERROR: ",xD(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=aS.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(i),i}uc(){this.nc&&ae(47125,{Pc:xD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wl extends Mv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TD,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TD(e),this._firestoreClient=void 0,await e}}}function HTe(t,e){const n=typeof t=="object"?t:RE(),r=typeof t=="string"?t:Cg,i=Ta(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=U0e("firestore");o&&WTe(i,...o)}return i}function $F(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||jF(t),t._firestoreClient}function jF(t){var r,i,o,s;const e=t._freezeSettings(),n=zTe(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $Te(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(u){const l=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(l),_online:l}}(t._componentsProvider))}function qTe(t,e){ia("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return GTe(t,Bg.provider,{build:r=>new NTe(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function GTe(t,e,n){if((t=Ws(t,wl))._firestoreClient||t._terminated)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ee(z.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},jF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(Pt.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:or._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nd(e,or._jsonSchema))return or.fromBase64String(e.bytes)}}or._jsonSchemaVersion="firestore/bytes/1.0",or._jsonSchema={type:At("string",or._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ri._jsonSchemaVersion}}static fromJSON(e){if(nd(e,ri._jsonSchema))return new ri(e.latitude,e.longitude)}}ri._jsonSchemaVersion="firestore/geoPoint/1.0",ri._jsonSchema={type:At("string",ri._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nd(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new ee(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:At("string",Dr._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KTe=/^__.*__$/;class YTe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bl(e,this.data,n,this.fieldTransforms)}}function BF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{dataSource:t})}}class hS{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new hS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ug(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BF(this.dataSource)&&KTe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class XTe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kv(e)}createContext(e,n,r,i=!1){return new hS({dataSource:e,methodName:n,targetDoc:r,path:ct.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UF(t){const e=t._freezeSettings(),n=kv(t._databaseId);return new XTe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QTe(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);HF("Data must be an object, but it was:",s,r);const a=zF(r,s);let u,l;if(o.merge)u=new cr(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const d=Nv(e,f,n);if(!s.contains(d))throw new ee(z.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);txe(c,d)||c.push(d)}u=new cr(c),l=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,l=s.fieldTransforms;return new YTe(new xn(a),u,l)}function JTe(t,e,n,r=!1){return dS(n,t.createContext(r?4:3,e))}function dS(t,e){if(WF(t=Ht(t)))return HF("Unsupported field value:",e,t),zF(t,e);if(t instanceof FF)return function(r,i){if(!BF(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=dS(a,i.childContextForArray(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rbe(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Me.fromDate(r);return{timestampValue:vl(i.serializer,o)}}if(r instanceof Me){const o=new Me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vl(i.serializer,o)}}if(r instanceof ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:L6(i.serializer,r._byteString)};if(r instanceof Mt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dr)return function(s,a){const u=s instanceof Dr?s.toArray():s;return{mapValue:{fields:{[BE]:{stringValue:UE},[hl]:{arrayValue:{values:u.map(c=>{if(typeof c!="number")throw a.createError("VectorValues must only contain numeric values.");return WE(a.serializer,c)})}}}}}}(r,i);if(X6(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${mv(r)}`)}(t,e)}function zF(t,e){const n={};return o6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ea(t,(r,i)=>{const o=dS(i,e.childContextForField(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function WF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Me||t instanceof ri||t instanceof or||t instanceof Mt||t instanceof FF||t instanceof Dr||X6(t))}function HF(t,e,n){if(!WF(n)||!W3(n)){const r=mv(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Nv(t,e,n){if((e=Ht(e))instanceof LF)return e._internalPath;if(typeof e=="string")return exe(t,e);throw Ug("Field path arguments must be of type string or ",t,!1,void 0,n)}const ZTe=new RegExp("[~\\*/\\[\\]]");function exe(t,e,n){if(e.search(ZTe)>=0)throw Ug(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new LF(...e.split("."))._internalPath}catch{throw Ug(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ug(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ee(z.INVALID_ARGUMENT,a+t+u)}function txe(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nxe{convertValue(e,n="none"){switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ea(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[hl].arrayValue)==null?void 0:i.values)==null?void 0:o.map(s=>tt(s.doubleValue));return new Dr(n)}convertGeoPoint(e){return new ri(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=ji(e);return new Me(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);ue(Y6(r),9688,{name:e});const i=new oa(r.get(1),r.get(3)),o=new te(r.popFirst(5));return i.isEqual(n)||pn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF extends nxe{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}const ED="@firebase/firestore",SD="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GF{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rxe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rxe extends GF{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ixe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pS{}class oxe extends pS{}function sxe(t,e,...n){let r=[];e instanceof pS&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof mS).length,a=o.filter(u=>u instanceof Vv).length;if(s>1||s>0&&a>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vv extends oxe{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vv(e,n,r)}_apply(e){const n=this._parse(e);return KF(e._query,n),new zl(e.firestore,e.converter,k1(e._query,n))}_parse(e){const n=UF(e.firestore);return function(o,s,a,u,l,c,f){let d;if(l.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){PD(f,c);const g=[];for(const m of f)g.push(ID(u,o,m));d={arrayValue:{values:g}}}else d=ID(u,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||PD(f,c),d=JTe(a,s,f,c==="in"||c==="not-in");return Se.create(l,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function axe(t,e,n){const r=e,i=Nv("where",t);return Vv._create(i,r,n)}class mS extends pS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ve.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)KF(s,u),s=k1(s,u)}(e._query,n),new zl(e.firestore,e.converter,k1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function ID(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T6(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!te.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dh(t,new te(r))}if(n instanceof Mt)return Dh(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mv(n)}.`)}function PD(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KF(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uxe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Hc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends GF{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:At("string",Ks._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Hp extends Ks{data(e={}){return super.data(e)}}class Eu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Hc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hp(this._firestore,this._userDataWriter,r.key,r,new Hc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Hp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Hp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Hc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let l=-1,c=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:lxe(a.type),doc:u,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=DE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function lxe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eu._jsonSchemaVersion="firestore/querySnapshot/1.0",Eu._jsonSchema={type:At("string",Eu._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};function cxe(t){return YF(Ws(t.firestore,wl),[new Iv(t._key,In.none())])}function fxe(t,e){const n=Ws(t.firestore,wl),r=VF(t),i=uxe(t.converter,e),o=UF(t.firestore);return YF(n,[QTe(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,In.exists(!1))]).then(()=>r)}function hxe(t,...e){var l,c,f;t=Ht(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||AD(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(AD(e[r])){const d=e[r];e[r]=(l=d.next)==null?void 0:l.bind(d),e[r+1]=(c=d.error)==null?void 0:c.bind(d),e[r+2]=(f=d.complete)==null?void 0:f.bind(d)}let o,s,a;if(t instanceof Mt)s=Ws(t.firestore,wl),a=xv(t._key.path),o={next:d=>{e[r]&&e[r](dxe(s,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Ws(t,zl);s=Ws(d.firestore,wl),a=d._query;const p=new qF(s);o={next:g=>{e[r]&&e[r](new Eu(s,p,d,g))},error:e[r+1],complete:e[r+2]},ixe(t._query)}const u=$F(s);return FTe(u,a,i,o)}function YF(t,e){const n=$F(t);return BTe(n,e)}function dxe(t,e,n){const r=n.docs.get(e._key),i=new qF(t);return new Ks(t,i,e._key,r,new Hc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){vwe(Ll),si(new Vr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new wl(new bwe(r.getProvider("auth-internal")),new Ewe(s,r.getProvider("app-check-internal")),cbe(s,i),s);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),hr(ED,SD,e),hr(ED,SD,"esm2020")})();const XF="@firebase/installations",gS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=1e4,JF=`w:${gS}`,ZF="FIS_v2",pxe="https://firebaseinstallations.googleapis.com/v1",mxe=60*60*1e3,gxe="installations",yxe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vxe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fa=new ba(gxe,yxe,vxe);function e5(t){return t instanceof Lr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5({projectId:t}){return`${pxe}/projects/${t}/installations`}function n5(t){return{token:t.token,requestStatus:2,expiresIn:wxe(t.expiresIn),creationTime:Date.now()}}async function r5(t,e){const r=(await e.json()).error;return fa.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function i5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function _xe(t,{refreshToken:e}){const n=i5(t);return n.append("Authorization",bxe(e)),n}async function o5(t){const e=await t();return e.status>=500&&e.status<600?t():e}function wxe(t){return Number(t.replace("s","000"))}function bxe(t){return`${ZF} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Txe({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=t5(t),i=i5(t),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={fid:n,authVersion:ZF,appId:t.appId,sdkVersion:JF},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await o5(()=>fetch(r,a));if(u.ok){const l=await u.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:n5(l.authToken)}}else throw await r5("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xxe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Exe=/^[cdef][\w-]{21}$/,H1="";function Sxe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Axe(t);return Exe.test(n)?n:H1}catch{return H1}}function Axe(t){return xxe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=new Map;function u5(t,e){const n=$v(t);l5(n,e),Ixe(n,e)}function l5(t,e){const n=a5.get(t);if(n)for(const r of n)r(e)}function Ixe(t,e){const n=Pxe();n&&n.postMessage({key:t,fid:e}),Oxe()}let Vs=null;function Pxe(){return!Vs&&"BroadcastChannel"in self&&(Vs=new BroadcastChannel("[Firebase] FID Change"),Vs.onmessage=t=>{l5(t.data.key,t.data.fid)}),Vs}function Oxe(){a5.size===0&&Vs&&(Vs.close(),Vs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cxe="firebase-installations-database",Rxe=1,ha="firebase-installations-store";let k_=null;function yS(){return k_||(k_=C3(Cxe,Rxe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ha)}}})),k_}async function zg(t,e){const n=$v(t),i=(await yS()).transaction(ha,"readwrite"),o=i.objectStore(ha),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&u5(t,e.fid),e}async function c5(t){const e=$v(t),r=(await yS()).transaction(ha,"readwrite");await r.objectStore(ha).delete(e),await r.done}async function jv(t,e){const n=$v(t),i=(await yS()).transaction(ha,"readwrite"),o=i.objectStore(ha),s=await o.get(n),a=e(s);return a===void 0?await o.delete(n):await o.put(a,n),await i.done,a&&(!s||s.fid!==a.fid)&&u5(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(t){let e;const n=await jv(t.appConfig,r=>{const i=kxe(r),o=Dxe(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===H1?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function kxe(t){const e=t||{fid:Sxe(),registrationStatus:0};return f5(e)}function Dxe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(fa.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Mxe(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Nxe(t)}:{installationEntry:e}}async function Mxe(t,e){try{const n=await Txe(t,e);return zg(t.appConfig,n)}catch(n){throw e5(n)&&n.customData.serverCode===409?await c5(t.appConfig):await zg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Nxe(t){let e=await OD(t.appConfig);for(;e.registrationStatus===1;)await s5(100),e=await OD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await vS(t);return r||n}return e}function OD(t){return jv(t,e=>{if(!e)throw fa.create("installation-not-found");return f5(e)})}function f5(t){return Vxe(t)?{fid:t.fid,registrationStatus:0}:t}function Vxe(t){return t.registrationStatus===1&&t.registrationTime+QF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $xe({appConfig:t,heartbeatServiceProvider:e},n){const r=jxe(t,n),i=_xe(t,n),o=e.getImmediate({optional:!0});if(o){const l=await o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const s={installation:{sdkVersion:JF,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(s)},u=await o5(()=>fetch(r,a));if(u.ok){const l=await u.json();return n5(l)}else throw await r5("Generate Auth Token",u)}function jxe(t,{fid:e}){return`${t5(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _S(t,e=!1){let n;const r=await jv(t.appConfig,o=>{if(!h5(o))throw fa.create("not-registered");const s=o.authToken;if(!e&&Bxe(s))return o;if(s.requestStatus===1)return n=Lxe(t,e),o;{if(!navigator.onLine)throw fa.create("app-offline");const a=zxe(o);return n=Fxe(t,a),a}});return n?await n:r.authToken}async function Lxe(t,e){let n=await CD(t.appConfig);for(;n.authToken.requestStatus===1;)await s5(100),n=await CD(t.appConfig);const r=n.authToken;return r.requestStatus===0?_S(t,e):r}function CD(t){return jv(t,e=>{if(!h5(e))throw fa.create("not-registered");const n=e.authToken;return Wxe(n)?{...e,authToken:{requestStatus:0}}:e})}async function Fxe(t,e){try{const n=await $xe(t,e),r={...e,authToken:n};return await zg(t.appConfig,r),n}catch(n){if(e5(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await c5(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await zg(t.appConfig,r)}throw n}}function h5(t){return t!==void 0&&t.registrationStatus===2}function Bxe(t){return t.requestStatus===2&&!Uxe(t)}function Uxe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mxe}function zxe(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Wxe(t){return t.requestStatus===1&&t.requestTime+QF<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hxe(t){const e=t,{installationEntry:n,registrationPromise:r}=await vS(e);return r?r.catch(console.error):_S(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qxe(t,e=!1){const n=t;return await Gxe(n),(await _S(n,e)).token}async function Gxe(t){const{registrationPromise:e}=await vS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kxe(t){if(!t||!t.options)throw D_("App Configuration");if(!t.name)throw D_("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw D_(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function D_(t){return fa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5="installations",Yxe="installations-internal",Xxe=t=>{const e=t.getProvider("app").getImmediate(),n=Kxe(e),r=Ta(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Qxe=t=>{const e=t.getProvider("app").getImmediate(),n=Ta(e,d5).getImmediate();return{getId:()=>Hxe(n),getToken:i=>qxe(n,i)}};function Jxe(){si(new Vr(d5,Xxe,"PUBLIC")),si(new Vr(Yxe,Qxe,"PRIVATE"))}Jxe();hr(XF,gS);hr(XF,gS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="analytics",Zxe="firebase_id",eEe="origin",tEe=60*1e3,nEe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new pv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rEe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},zn=new ba("analytics","Analytics",rEe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iEe(t){if(!t.startsWith(wS)){const e=zn.create("invalid-gtag-resource",{gtagURL:t});return vn.warn(e.message),""}return t}function p5(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function oEe(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function sEe(t,e){const n=oEe("firebase-js-sdk-policy",{createScriptURL:iEe}),r=document.createElement("script"),i=`${wS}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aEe(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function uEe(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const u=(await p5(n)).find(l=>l.measurementId===i);u&&await e[u.appId]}}catch(a){vn.error(a)}t("config",i,o)}async function lEe(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=await p5(n);for(const u of s){const l=a.find(f=>f.measurementId===u),c=l&&e[l.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){vn.error(o)}}function cEe(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[a,u]=s;await lEe(t,e,n,a,u)}else if(o==="config"){const[a,u]=s;await uEe(t,e,n,r,a,u)}else if(o==="consent"){const[a,u]=s;t("consent",a,u)}else if(o==="get"){const[a,u,l]=s;t("get",a,u,l)}else if(o==="set"){const[a]=s;t("set",a)}else t(o,...s)}catch(a){vn.error(a)}}return i}function fEe(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=cEe(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function hEe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dEe=30,pEe=1e3;class mEe{constructor(e={},n=pEe){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const m5=new mEe;function gEe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function yEe(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:gEe(n)},i=nEe.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const u=await o.json();(s=u.error)!=null&&s.message&&(a=u.error.message)}catch{}throw zn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function vEe(t,e=m5,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw zn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw zn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bEe;return setTimeout(async()=>{a.abort()},tEe),g5({appId:r,apiKey:i,measurementId:o},s,a,e)}async function g5(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=m5){var a;const{appId:o,measurementId:s}=t;try{await _Ee(r,e)}catch(u){if(s)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:s};throw u}try{const u=await yEe(t);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!wEe(l)){if(i.deleteThrottleMetadata(o),s)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:s};throw u}const c=Number((a=l==null?void 0:l.customData)==null?void 0:a.httpStatus)===503?YR(n,i.intervalMillis,dEe):YR(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,f),vn.debug(`Calling attemptFetch again in ${c} millis`),g5(t,f,r,i)}}function _Ee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(zn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function wEe(t){if(!(t instanceof Lr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bEe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TEe(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s={...r,send_to:o};t("event",n,s)}}async function xEe(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EEe(){if(OE())try{await I3()}catch(t){return vn.warn(zn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return vn.warn(zn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SEe(t,e,n,r,i,o,s){const a=vEe(t);a.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>vn.error(d)),e.push(a);const u=EEe().then(d=>{if(d)return r.getId()}),[l,c]=await Promise.all([a,u]);hEe(o)||sEe(o,l.measurementId),i("js",new Date);const f=(s==null?void 0:s.config)??{};return f[eEe]="firebase",f.update=!0,c!=null&&(f[Zxe]=c),i("config",l.measurementId,f),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AEe{constructor(e){this.app=e}_delete(){return delete Su[this.app.options.appId],Promise.resolve()}}let Su={},RD=[];const kD={};let M_="dataLayer",IEe="gtag",DD,bS,MD=!1;function PEe(){const t=[];if(E3()&&t.push("This is a browser extension environment."),Q0e()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=zn.create("invalid-analytics-context",{errorInfo:e});vn.warn(n.message)}}function OEe(t,e,n){PEe();const r=t.options.appId;if(!r)throw zn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw zn.create("no-api-key");if(Su[r]!=null)throw zn.create("already-exists",{id:r});if(!MD){aEe(M_);const{wrappedGtag:o,gtagCore:s}=fEe(Su,RD,kD,M_,IEe);bS=o,DD=s,MD=!0}return Su[r]=SEe(t,RD,kD,e,DD,M_,n),new AEe(t)}function CEe(t=RE()){t=Ht(t);const e=Ta(t,Wg);return e.isInitialized()?e.getImmediate():REe(t)}function REe(t,e={}){const n=Ta(t,Wg);if(n.isInitialized()){const i=n.getImmediate();if(Fo(e,n.getOptions()))return i;throw zn.create("already-initialized")}return n.initialize({options:e})}function kEe(t,e,n){t=Ht(t),xEe(bS,Su[t.app.options.appId],e,n).catch(r=>vn.error(r))}function DEe(t,e,n,r){t=Ht(t),TEe(bS,Su[t.app.options.appId],e,n,r).catch(i=>vn.error(i))}const ND="@firebase/analytics",VD="0.10.19";function MEe(){si(new Vr(Wg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return OEe(r,i,n)},"PUBLIC")),si(new Vr("analytics-internal",t,"PRIVATE")),hr(ND,VD),hr(ND,VD,"esm2020");function t(e){try{const n=e.getProvider(Wg).getImmediate();return{logEvent:(r,i,o)=>DEe(n,r,i,o),setUserProperties:(r,i)=>kEe(n,r,i)}}catch(n){throw zn.create("interop-component-reg-failed",{reason:n})}}}MEe();function y5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NEe=y5,v5=new ba("auth","Firebase",y5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg=new pv("@firebase/auth");function VEe(t,...e){Hg.logLevel<=Ee.WARN&&Hg.warn(`Auth (${Ll}): ${t}`,...e)}function qp(t,...e){Hg.logLevel<=Ee.ERROR&&Hg.error(`Auth (${Ll}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(t,...e){throw xS(t,...e)}function Mr(t,...e){return xS(t,...e)}function TS(t,e,n){const r={...NEe(),[e]:n};return new ba("auth","Firebase",r).create(e,{appName:t.name})}function Ys(t){return TS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $Ee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ui(t,"argument-error"),TS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v5.create(t,...e)}function de(t,e,...n){if(!t)throw xS(e,...n)}function bi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qp(e),new Error(e)}function Fi(t,e){t||bi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function jEe(){return $D()==="http:"||$D()==="https:"}function $D(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LEe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jEe()||E3()||"connection"in navigator)?navigator.onLine:!0}function FEe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=G0e()||Y0e()}get(){return LEe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BEe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UEe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zEe=new fd(3e4,6e4);function SS(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Wl(t,e,n,r,i={}){return w5(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=td({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const l={method:e,headers:u,...o};return K0e()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&jl(t.emulatorConfig.host)&&(l.credentials="include"),_5.fetch()(await b5(t,t.config.apiHost,n,a),l)})}async function w5(t,e,n){t._canInitEmulator=!1;const r={...BEe,...e};try{const i=new HEe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw yp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yp(t,"user-disabled",s);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw TS(t,c,l);ui(t,c)}}catch(i){if(i instanceof Lr)throw i;ui(t,"network-request-failed",{message:String(i)})}}async function WEe(t,e,n,r,i={}){const o=await Wl(t,e,n,r,i);return"mfaPendingCredential"in o&&ui(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function b5(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?ES(t.config,i):`${t.config.apiScheme}://${i}`;return UEe.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}class HEe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),zEe.get())})}}function yp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qEe(t,e){return Wl(t,"POST","/v1/accounts:delete",e)}async function qg(t,e){return Wl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GEe(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=AS(r);de(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:wf(N_(i.auth_time)),issuedAtTime:wf(N_(i.iat)),expirationTime:wf(N_(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function N_(t){return Number(t)*1e3}function AS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qp("JWT malformed, contained fewer than 3 sections"),null;try{const i=g3(n);return i?JSON.parse(i):(qp("Failed to decode base64 JWT payload"),null)}catch(i){return qp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jD(t){const e=AS(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&KEe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function KEe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YEe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wf(this.lastLoginAt),this.creationTime=wf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t){var f;const e=t.auth,n=await t.getIdToken(),r=await jh(t,qg(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(f=i.providerUserInfo)!=null&&f.length?T5(i.providerUserInfo):[],s=QEe(t.providerData,o),a=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),l=a?u:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,c)}async function XEe(t){const e=Ht(t);await Gg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QEe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function T5(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JEe(t,e){const n=await w5(t,{},async()=>{const r=td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await b5(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:a,body:r};return t.emulatorConfig&&jl(t.emulatorConfig.host)&&(u.credentials="include"),_5.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZEe(t,e){return Wl(t,"POST","/v2/accounts:revokeToken",SS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=jD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await JEe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Au;return r&&(de(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(de(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(de(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Au,this.toJSON())}_performRefresh(){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new YEe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await jh(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GEe(this,e)}reload(){return XEe(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pr(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await jh(this,qEe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,a=n.tenantId??void 0,u=n._redirectEventId??void 0,l=n.createdAt??void 0,c=n.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:p,providerData:g,stsTokenManager:m}=n;de(f&&m,e,"internal-error");const b=Au.fromJSON(this.name,m);de(typeof f=="string",e,"internal-error"),oo(r,e.name),oo(i,e.name),de(typeof d=="boolean",e,"internal-error"),de(typeof p=="boolean",e,"internal-error"),oo(o,e.name),oo(s,e.name),oo(a,e.name),oo(u,e.name),oo(l,e.name),oo(c,e.name);const y=new Or({uid:f,auth:e,email:i,emailVerified:d,displayName:r,isAnonymous:p,photoURL:s,phoneNumber:o,tenantId:a,stsTokenManager:b,createdAt:l,lastLoginAt:c});return g&&Array.isArray(g)&&(y.providerData=g.map(_=>({..._}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Au;i.updateFromServerResponse(n);const o=new Or({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];de(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?T5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Au;a.updateFromIdToken(r);const u=new Or({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new G1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=new Map;function Ti(t){Fi(t instanceof Function,"Expected a class definition");let e=LD.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LD.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x5.type="NONE";const FD=x5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e,n){return`firebase:${t}:${e}:${n}`}class Iu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gp(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qg(this.auth,{idToken:e}).catch(()=>{});return n?Or._fromGetAccountInfoResponse(this.auth,n,e):null}return Or._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Iu(Ti(FD),e,r);const i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let o=i[0]||Ti(FD);const s=Gp(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const c=await l._get(s);if(c){let f;if(typeof c=="string"){const d=await qg(e,{idToken:c}).catch(()=>{});if(!d)break;f=await Or._fromGetAccountInfoResponse(e,d,c)}else f=Or._fromJSON(e,c);l!==o&&(a=f),o=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Iu(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new Iu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(O5(e))return"Blackberry";if(C5(e))return"Webos";if(S5(e))return"Safari";if((e.includes("chrome/")||A5(e))&&!e.includes("edge/"))return"Chrome";if(P5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function E5(t=Nt()){return/firefox\//i.test(t)}function S5(t=Nt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function A5(t=Nt()){return/crios\//i.test(t)}function I5(t=Nt()){return/iemobile/i.test(t)}function P5(t=Nt()){return/android/i.test(t)}function O5(t=Nt()){return/blackberry/i.test(t)}function C5(t=Nt()){return/webos/i.test(t)}function IS(t=Nt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eSe(t=Nt()){var e;return IS(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tSe(){return X0e()&&document.documentMode===10}function R5(t=Nt()){return IS(t)||P5(t)||C5(t)||O5(t)||/windows phone/i.test(t)||I5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t,e=[]){let n;switch(t){case"Browser":n=BD(Nt());break;case"Worker":n=`${BD(Nt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nSe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rSe(t,e={}){return Wl(t,"GET","/v2/passwordPolicy",SS(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iSe=6;class oSe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iSe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UD(this),this.idTokenSubscription=new UD(this),this.beforeStateQueue=new nSe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Iu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qg(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Pr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,a=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FEe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pr(this.app))return Promise.reject(Ys(this));const n=e?Ht(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pr(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pr(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rSe(this),n=new oSe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZEe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ti(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await Iu.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Pr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&VEe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Lv(t){return Ht(t)}class UD{constructor(e){this.auth=e,this.observer=null,this.addObserver=n_e(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aSe(t){PS=t}function uSe(t){return PS.loadJS(t)}function lSe(){return PS.gapiScript}function cSe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fSe(t,e){const n=Ta(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Fo(o,e??{}))return i;ui(i,"already-initialized")}return n.initialize({options:e})}function hSe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ti);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dSe(t,e,n){const r=Lv(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=D5(e),{host:s,port:a}=pSe(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},c=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Fo(l,r.config.emulator)&&Fo(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,jl(s)?(b3(`${o}//${s}${u}`),T3("Auth",!0)):mSe()}function D5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pSe(t){const e=D5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:zD(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:zD(s)}}}function zD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mSe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bi("not implemented")}_getIdTokenResponse(e){return bi("not implemented")}_linkToIdToken(e,n){return bi("not implemented")}_getReauthenticationResolver(e){return bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return WEe(t,"POST","/v1/accounts:signInWithIdp",SS(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gSe="http://localhost";class da extends M5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new da(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:gSe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends OS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends hd{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends hd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mi.credential(n,r)}catch{return null}}}mi.GOOGLE_SIGN_IN_METHOD="google.com";mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends hd{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends hd{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return go.credential(n,r)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Or._fromIdTokenResponse(e,r,i),s=WD(r);return new bl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WD(r);return new bl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg extends Lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kg(e,n,r,i)}}function N5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Kg._fromErrorAndOperation(t,o,e,r):o})}async function ySe(t,e,n=!1){const r=await jh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return bl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vSe(t,e,n=!1){const{auth:r}=t;if(Pr(r.app))return Promise.reject(Ys(r));const i="reauthenticate";try{const o=await jh(t,N5(r,i,e,t),n);de(o.idToken,r,"internal-error");const s=AS(o.idToken);de(s,r,"internal-error");const{sub:a}=s;return de(t.uid===a,r,"user-mismatch"),bl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ui(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _Se(t,e,n=!1){if(Pr(t.app))return Promise.reject(Ys(t));const r="signIn",i=await N5(t,r,e),o=await bl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function wSe(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function bSe(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function TSe(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function xSe(t){return Ht(t).signOut()}const Yg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yg,"1"),this.storage.removeItem(Yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ESe=1e3,SSe=10;class $5 extends V5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);tSe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SSe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ESe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$5.type="LOCAL";const ASe=$5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5 extends V5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}j5.type="SESSION";const L5=j5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ISe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async l=>l(n.origin,o)),u=await ISe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PSe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const l=CS("",20);i.port1.start();const c=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(c),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function OSe(t){ii().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function CSe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RSe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function kSe(){return F5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="firebaseLocalStorageDb",DSe=1,Xg="firebaseLocalStorage",U5="fbase_key";class dd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bv(t,e){return t.transaction([Xg],e?"readwrite":"readonly").objectStore(Xg)}function MSe(){const t=indexedDB.deleteDatabase(B5);return new dd(t).toPromise()}function K1(){const t=indexedDB.open(B5,DSe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xg,{keyPath:U5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xg)?e(r):(r.close(),await MSe(),e(await K1()))})})}async function HD(t,e,n){const r=Bv(t,!0).put({[U5]:e,value:n});return new dd(r).toPromise()}async function NSe(t,e){const n=Bv(t,!1).get(e),r=await new dd(n).toPromise();return r===void 0?null:r.value}function qD(t,e){const n=Bv(t,!0).delete(e);return new dd(n).toPromise()}const VSe=800,$Se=3;class z5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$Se)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fv._getInstance(kSe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await CSe(),!this.activeServiceWorker)return;this.sender=new PSe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RSe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K1();return await HD(e,Yg,"1"),await qD(e,Yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>NSe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Bv(i,!1).getAll();return new dd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VSe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z5.type="LOCAL";const jSe=z5;new fd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e){return e?Ti(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS extends M5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LSe(t){return _Se(t.auth,new RS(t),t.bypassAuthState)}function FSe(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),vSe(n,new RS(t),t.bypassAuthState)}async function BSe(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),ySe(n,new RS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LSe;case"linkViaPopup":case"linkViaRedirect":return BSe;case"reauthViaPopup":case"reauthViaRedirect":return FSe;default:ui(this.auth,"internal-error")}}resolve(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USe=new fd(2e3,1e4);async function zSe(t,e,n){if(Pr(t.app))return Promise.reject(Mr(t,"operation-not-supported-in-this-environment"));const r=Lv(t);$Ee(t,e,OS);const i=W5(r,n);return new $s(r,"signInViaPopup",e,i).executeNotNull()}class $s extends H5{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const e=CS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,USe.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WSe="pendingRedirect",Kp=new Map;class HSe extends H5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Kp.get(this.auth._key());if(!e){try{const r=await qSe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kp.set(this.auth._key(),e)}return this.bypassAuthState||Kp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qSe(t,e){const n=YSe(e),r=KSe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function GSe(t,e){Kp.set(t._key(),e)}function KSe(t){return Ti(t._redirectPersistence)}function YSe(t){return Gp(WSe,t.config.apiKey,t.name)}async function XSe(t,e,n=!1){if(Pr(t.app))return Promise.reject(Ys(t));const r=Lv(t),i=W5(r,e),s=await new HSe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QSe=10*60*1e3;class JSe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZSe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!q5(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Mr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QSe&&this.cachedEventUids.clear(),this.cachedEventUids.has(GD(e))}saveEventToCache(e){this.cachedEventUids.add(GD(e)),this.lastProcessedEventTime=Date.now()}}function GD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZSe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eAe(t,e={}){return Wl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tAe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nAe=/^https?/;async function rAe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eAe(t);for(const n of e)try{if(iAe(n))return}catch{}ui(t,"unauthorized-domain")}function iAe(t){const e=q1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!nAe.test(n))return!1;if(tAe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oAe=new fd(3e4,6e4);function KD(){const t=ii().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sAe(t){return new Promise((e,n)=>{var i,o,s;function r(){KD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KD(),n(Mr(t,"network-request-failed"))},timeout:oAe.get()})}if((o=(i=ii().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=ii().gapi)!=null&&s.load)r();else{const a=cSe("iframefcb");return ii()[a]=()=>{gapi.load?r():n(Mr(t,"network-request-failed"))},uSe(`${lSe()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Yp=null,e})}let Yp=null;function aAe(t){return Yp=Yp||sAe(t),Yp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uAe=new fd(5e3,15e3),lAe="__/auth/iframe",cAe="emulator/auth/iframe",fAe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hAe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dAe(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ES(e,cAe):`https://${t.config.authDomain}/${lAe}`,r={apiKey:e.apiKey,appName:t.name,v:Ll},i=hAe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${td(r).slice(1)}`}async function pAe(t){const e=await aAe(t),n=ii().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:dAe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fAe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Mr(t,"network-request-failed"),a=ii().setTimeout(()=>{o(s)},uAe.get());function u(){ii().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mAe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gAe=500,yAe=600,vAe="_blank",_Ae="http://localhost";class YD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wAe(t,e,n,r=gAe,i=yAe){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u={...mAe,width:r.toString(),height:i.toString(),top:o,left:s},l=Nt().toLowerCase();n&&(a=A5(l)?vAe:n),E5(l)&&(e=e||_Ae,u.scrollbars="yes");const c=Object.entries(u).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(eSe(l)&&a!=="_self")return bAe(e||"",a),new YD(null);const f=window.open(e||"",a,c);de(f,t,"popup-blocked");try{f.focus()}catch{}return new YD(f)}function bAe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TAe="__/auth/handler",xAe="emulator/auth/handler",EAe=encodeURIComponent("fac");async function XD(t,e,n,r,i,o){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ll,eventId:i};if(e instanceof OS){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",t_e(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof hd){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const u=await t._getAppCheckToken(),l=u?`#${EAe}=${encodeURIComponent(u)}`:"";return`${SAe(t)}?${td(a).slice(1)}${l}`}function SAe({config:t}){return t.emulator?ES(t,xAe):`https://${t.authDomain}/${TAe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="webStorageSupport";class AAe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=L5,this._completeRedirectFn=XSe,this._overrideRedirectResult=GSe}async _openPopup(e,n,r,i){var s;Fi((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await XD(e,n,r,q1(),i);return wAe(e,o,CS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await XD(e,n,r,q1(),i);return OSe(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Fi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await pAe(e),r=new JSe(e);return n.register("authEvent",i=>(de(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(V_,{type:V_},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[V_];o!==void 0&&n(!!o),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=rAe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R5()||S5()||IS()}}const IAe=AAe;var QD="@firebase/auth",JD="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PAe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OAe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CAe(t){si(new Vr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;de(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k5(t)},l=new sSe(r,i,o,u);return hSe(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),si(new Vr("auth-internal",e=>{const n=Lv(e.getProvider("auth").getImmediate());return(r=>new PAe(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(QD,JD,OAe(t)),hr(QD,JD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RAe=5*60,kAe=w3("authIdTokenMaxAge")||RAe;let ZD=null;const DAe=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>kAe)return;const i=n==null?void 0:n.token;ZD!==i&&(ZD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MAe(t=RE()){const e=Ta(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fSe(t,{popupRedirectResolver:IAe,persistence:[jSe,ASe,L5]}),r=w3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=DAe(o.toString());bSe(n,s,()=>s(n.currentUser)),wSe(n,a=>s(a))}}const i=v3("auth");return i&&dSe(n,`http://${i}`),n}function NAe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}aSe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",NAe().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CAe("Browser");const VAe={apiKey:"AIzaSyDp_5sTcjA67TtUdGnCqpYBObBekUJ_qEo",authDomain:"cedi-tracker.firebaseapp.com",projectId:"cedi-tracker",storageBucket:"cedi-tracker.firebasestorage.app",messagingSenderId:"866075923296",appId:"1:866075923296:web:6a79d5fb97a74080044405",measurementId:"G-R9DHRMHBTT"},kS=R3(VAe);CEe(kS);const Xp=HTe(kS),$_=MAe(kS),$Ae=new mi;qTe(Xp).catch(t=>{t.code=="failed-precondition"?console.log("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.log("Persistence failed: Browser not supported")});function jAe(){var x,S;const[t,e]=j.useState(!0),[n,r]=j.useState(null),[i,o]=j.useState("dashboard"),[s,a]=j.useState("all"),[u,l]=j.useState(!1),[c,f]=j.useState(null),[d,p]=j.useState([]),g=d.filter(w=>s==="all"?!0:w.type===s),m=N.useMemo(()=>d.reduce((w,T)=>T.type==="income"?w+T.amount:w-T.amount,0),[d]),b=N.useMemo(()=>{let w=500;return d.forEach(T=>{let I=0;T.type==="income"?I=20:T.category==="Savings/Invest"?I=40:T.amount>200?I=-20:T.category==="Entertainment"&&T.amount>100?I=-10:I=5,w+=I}),Math.max(300,Math.min(850,w))},[d]);j.useEffect(()=>{const w=TSe($_,T=>{r(T),T||e(!1)});return()=>w()},[]),j.useEffect(()=>{if(!n){p([]);return}const w=sxe(wD(Xp,"transactions"),axe("uid","==",n.uid)),T=hxe(w,I=>{const O=I.docs.map(k=>({...k.data(),id:k.id}));O.sort((k,C)=>k.date!==C.date?new Date(C.date)-new Date(k.date):k.createdAt&&C.createdAt?C.createdAt.toMillis()-k.createdAt.toMillis():0),p(O),e(!1)},I=>{console.error("Error fetching transactions: ",I),e(!1)});return()=>T()},[n]);const y=async()=>{try{await zSe($_,$Ae)}catch(w){console.error("Login failed:",w),alert(`Login failed: ${w.message}`)}},_=async()=>{try{await xSe($_),p([])}catch(w){console.error("Logout failed:",w)}},E=async w=>{if(n)try{await fxe(wD(Xp,"transactions"),{...w,uid:n.uid,createdAt:Me.now()}),w.type==="income"&&f(w)}catch(T){console.error("Error adding document: ",T),alert("Failed to save transaction. Check internet connection.")}},P=async w=>{const T=[...d];p(I=>I.filter(O=>O.id!==w));try{await cxe(VF(Xp,"transactions",w)),console.log("Document deleted successfully from Firestore")}catch(I){console.error("Error deleting document: ",I),alert(`Failed to delete: ${I.message}`),p(T)}};return t?M.jsx(mH,{onComplete:()=>{}}):n?M.jsxs("div",{className:"min-h-screen pb-24 max-w-md mx-auto relative",children:[M.jsxs("header",{className:"px-6 pt-8 pb-4 flex justify-between items-center sticky top-0 z-30 bg-gray-100/80 backdrop-blur-md",children:[M.jsxs("div",{children:[M.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"Cedi Tracker"}),M.jsxs("p",{className:"text-xs text-gray-500",children:["Welcome, ",((x=n.displayName)==null?void 0:x.split(" ")[0])||"Chief"]})]}),M.jsxs("div",{className:"flex items-center gap-3",children:[n.photoURL?M.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-8 h-8 rounded-full border border-emerald-200"}):M.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 border border-emerald-200 flex items-center justify-center text-emerald-700 font-bold text-xs",children:((S=n.email)==null?void 0:S[0].toUpperCase())||"U"}),M.jsx("button",{onClick:_,className:"text-gray-400 hover:text-red-500 transition-colors",children:M.jsx(PH,{})})]})]}),M.jsxs("main",{className:"px-6 space-y-6",children:[M.jsx(RH,{balance:m,creditScore:b,transactions:d,onAddClick:()=>l(!0)}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"flex items-center justify-between",children:[M.jsx("h2",{className:"text-lg font-bold text-gray-800",children:i==="dashboard"?"Recent Transactions":i==="analysis"?"Insights":"History"}),M.jsxs("div",{className:"flex bg-gray-200 p-1 rounded-lg",children:[M.jsx("button",{onClick:()=>o("dashboard"),className:`p-1.5 rounded-md transition-all ${i==="dashboard"?"bg-white shadow text-gray-800":"text-gray-500"}`,children:M.jsx(AH,{size:14})}),M.jsx("button",{onClick:()=>o("analysis"),className:`p-1.5 rounded-md transition-all ${i==="analysis"?"bg-white shadow text-gray-800":"text-gray-500"}`,children:M.jsx(EH,{size:14})})]})]}),(i==="dashboard"||i==="history")&&M.jsx("div",{className:"flex gap-2",children:["all","expense","income"].map(w=>M.jsx("button",{onClick:()=>a(w),className:`px-4 py-1.5 text-xs font-semibold rounded-full capitalize transition-all ${s===w?"bg-gray-800 text-white shadow-md":"bg-white text-gray-500 border border-gray-100"}`,children:w},w))}),i==="dashboard"&&M.jsxs(M.Fragment,{children:[M.jsx(oO,{transactions:g.slice(0,5),onDelete:P}),g.length>5&&M.jsx("button",{onClick:()=>o("history"),className:"w-full py-2 text-sm text-center text-gray-500 hover:text-emerald-600",children:"View All"})]}),i==="history"&&M.jsx(oO,{transactions:g,onDelete:P}),i==="analysis"&&M.jsx(R0e,{transactions:d,balance:m})]})]}),M.jsx(kH,{isOpen:u,onClose:()=>l(!1),onAdd:E}),M.jsx(M0e,{income:c,onClose:()=>f(null)})]}):M.jsx(D0e,{onLogin:y})}const LAe="modulepreload",FAe=function(t){return"/Cedi-Tracker/"+t},eM={},BAe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=FAe(u),u in eM)return;eM[u]=!0;const l=u.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${c}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":LAe,l||(f.as="script"),f.crossOrigin="",f.href=u,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((d,p)=>{f.addEventListener("load",d),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function UAe(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:i,onRegisteredSW:o,onRegisterError:s}=t;let a,u;const l=async(f=!0)=>{await u};async function c(){if("serviceWorker"in navigator){if(a=await BAe(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/Cedi-Tracker/sw.js",{scope:"/Cedi-Tracker/",type:"classic"})).catch(f=>{s==null||s(f)}),!a)return;a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:e}).then(f=>{o?o("/Cedi-Tracker/sw.js",f):i==null||i(f)}).catch(f=>{s==null||s(f)})}}return u=c(),l}const zAe=UAe({onNeedRefresh(){confirm("New content available. Reload?")&&zAe(!0)}});j_.createRoot(document.getElementById("root")).render(M.jsx(N.StrictMode,{children:M.jsx(jAe,{})}));
